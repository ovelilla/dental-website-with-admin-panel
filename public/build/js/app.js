/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"api\": () => (/* binding */ api),\n/* harmony export */   \"blog\": () => (/* binding */ blog),\n/* harmony export */   \"budgets\": () => (/* binding */ budgets),\n/* harmony export */   \"cases\": () => (/* binding */ cases),\n/* harmony export */   \"consents\": () => (/* binding */ consents),\n/* harmony export */   \"doctors\": () => (/* binding */ doctors),\n/* harmony export */   \"invoices\": () => (/* binding */ invoices),\n/* harmony export */   \"layout\": () => (/* binding */ layout),\n/* harmony export */   \"patients\": () => (/* binding */ patients),\n/* harmony export */   \"popup\": () => (/* binding */ popup),\n/* harmony export */   \"treatments\": () => (/* binding */ treatments),\n/* harmony export */   \"user\": () => (/* binding */ user)\n/* harmony export */ });\n/* harmony import */ var _classes_Popup_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./classes/Popup.js */ \"./src/js/classes/Popup.js\");\n/* harmony import */ var _classes_Api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./classes/Api.js */ \"./src/js/classes/Api.js\");\n/* harmony import */ var _classes_Layout_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./classes/Layout.js */ \"./src/js/classes/Layout.js\");\n/* harmony import */ var _classes_Blog_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./classes/Blog.js */ \"./src/js/classes/Blog.js\");\n/* harmony import */ var _classes_Cases_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./classes/Cases.js */ \"./src/js/classes/Cases.js\");\n/* harmony import */ var _classes_User_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./classes/User.js */ \"./src/js/classes/User.js\");\n/* harmony import */ var _classes_Patients_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./classes/Patients.js */ \"./src/js/classes/Patients.js\");\n/* harmony import */ var _classes_Treatments_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./classes/Treatments.js */ \"./src/js/classes/Treatments.js\");\n/* harmony import */ var _classes_Budgets_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./classes/Budgets.js */ \"./src/js/classes/Budgets.js\");\n/* harmony import */ var _classes_Invoices_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./classes/Invoices.js */ \"./src/js/classes/Invoices.js\");\n/* harmony import */ var _classes_Consents_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./classes/Consents.js */ \"./src/js/classes/Consents.js\");\n/* harmony import */ var _classes_Doctors_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./classes/Doctors.js */ \"./src/js/classes/Doctors.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst popup = new _classes_Popup_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\nconst api = new _classes_Api_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\nconst layout = new _classes_Layout_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\nconst blog = new _classes_Blog_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\nconst user = new _classes_User_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\r\nconst cases = new _classes_Cases_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\r\nconst patients = new _classes_Patients_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\r\nconst treatments = new _classes_Treatments_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\r\nconst budgets = new _classes_Budgets_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]();\r\nconst invoices = new _classes_Invoices_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\r\nconst consents = new _classes_Consents_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\r\nconst doctors = new _classes_Doctors_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]();\n\n//# sourceURL=webpack://dentiny/./src/js/app.js?");

/***/ }),

/***/ "./src/js/classes/Api.js":
/*!*******************************!*\
  !*** ./src/js/classes/Api.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Api {\r\n    constructor() {\r\n        this.config = {\r\n            headers: {\r\n                Accept: \"*/*\",\r\n            },\r\n        };\r\n    }\r\n\r\n    async request(url) {\r\n        try {\r\n            const response = await fetch(url, this.config);\r\n            const data = await response.json();\r\n            return data;\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    get(url) {\r\n        this.config.method = \"GET\";\r\n        this.config.body = null;\r\n        return this.request(url);\r\n    }\r\n\r\n    post(url, data) {\r\n        this.config.method = \"POST\";\r\n        this.config.body = this.isFormData(data) ? data : JSON.stringify(data);\r\n        return this.request(url);\r\n    }\r\n\r\n    put(url, data) {\r\n        this.config.method = \"PUT\";\r\n        this.config.body = this.isFormData(data) ? data : JSON.stringify(data);\r\n        return this.request(url);\r\n    }\r\n\r\n    delete(url, data) {\r\n        this.config.method = \"DELETE\";\r\n        this.config.body = this.isFormData(data) ? data : JSON.stringify(data);\r\n        return this.request(url);\r\n    }\r\n\r\n    isFormData(data) {\r\n        return data instanceof FormData;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Api);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Api.js?");

/***/ }),

/***/ "./src/js/classes/Autocomplete.js":
/*!****************************************!*\
  !*** ./src/js/classes/Autocomplete.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Autocomplete {\r\n    constructor(options) {\r\n        this.target = options.target;\r\n        this.data = options.data;\r\n        this.findFields = options.findFields;\r\n        this.showFields = options.showFields;\r\n        this.size = options.size;\r\n        this.callback = options.callback;\r\n\r\n        this.filteredData = [];\r\n\r\n        this.autocomplete = null;\r\n\r\n        this.search = \"\";\r\n\r\n        this.isSelect = false;\r\n        this.isClose = false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        window.addEventListener(\"resize\", this.position.bind(this));\r\n        this.target.addEventListener(\"keyup\", this.handleKeyup.bind(this));\r\n    }\r\n\r\n    getShowFields() {\r\n        return this.showFields.reduce((previousValue, currentValue, currentIndex) => {\r\n            return !currentIndex ? row[currentValue] : previousValue + \" \" + row[currentValue];\r\n        }, \"\");\r\n    }\r\n\r\n    handleKeyup(e) {\r\n        this.search = e.target.value;\r\n\r\n        if (this.autocomplete) {\r\n            this.autocomplete.remove();\r\n        }\r\n\r\n        this.filterData();\r\n\r\n        if (this.filteredData.length === 0) {\r\n            return;\r\n        }\r\n\r\n        this.show();\r\n        this.position();\r\n    }\r\n\r\n    filterData() {\r\n        let count = 0;\r\n\r\n        this.filteredData = this.data.filter((row) => {\r\n            if (count > 20) {\r\n                return false;\r\n            }\r\n\r\n            const value = this.findFields.reduce((previousValue, currentValue, currentIndex) => {\r\n                return !currentIndex ? row[currentValue] : previousValue + \" \" + row[currentValue];\r\n            }, \"\");\r\n\r\n            if (value.toLowerCase().includes(this.search.toLowerCase())) {\r\n                count++;\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    show() {\r\n        this.autocomplete = this.create();\r\n        document.body.appendChild(this.autocomplete);\r\n    }\r\n\r\n    create() {\r\n        const autocomplete = document.createElement(\"div\");\r\n        autocomplete.classList.add(\"autocomplete\");\r\n        autocomplete.addEventListener(\"mousedown\", this.handleClose.bind(this));\r\n        autocomplete.addEventListener(\"touchstart\", this.handleClose.bind(this), { passive: true });\r\n        autocomplete.addEventListener(\"click\", () => {\r\n            if (this.isClose) {\r\n                this.close();\r\n            }\r\n        });\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"content\");\r\n        content.addEventListener(\"click\", (e) => e.stopPropagation());\r\n        autocomplete.appendChild(content);\r\n\r\n        this.filteredData.forEach((row, index) => {\r\n            const item = document.createElement(\"div\");\r\n            item.addEventListener(\"click\", this.handleSelect.bind(this, row));\r\n            item.classList.add(\"item\");\r\n\r\n            const searchIconContainer = document.createElement(\"div\");\r\n            searchIconContainer.classList.add(\"search-icon\");\r\n            item.appendChild(searchIconContainer);\r\n\r\n            const searchIcon = this.createSearchIcon();\r\n            searchIconContainer.appendChild(searchIcon);\r\n\r\n            const text = document.createElement(\"span\");\r\n            const string = this.showFields.reduce((previousValue, currentValue, currentIndex) => {\r\n                return !currentIndex ? row[currentValue] : previousValue + \" \" + row[currentValue];\r\n            }, \"\");\r\n            text.innerHTML = this.boldString(string, this.search);\r\n            item.appendChild(text);\r\n\r\n            const arrowIconContainer = document.createElement(\"div\");\r\n            arrowIconContainer.classList.add(\"arrow-icon\");\r\n            item.appendChild(arrowIconContainer);\r\n\r\n            const arrowIcon = this.createArrowIcon();\r\n            arrowIconContainer.appendChild(arrowIcon);\r\n\r\n            content.appendChild(item);\r\n        });\r\n\r\n        return autocomplete;\r\n    }\r\n\r\n    handleSelect(row) {\r\n        this.isSelect = true;\r\n        const value = this.showFields.reduce((previousValue, currentValue, currentIndex) => {\r\n            return !currentIndex ? row[currentValue] : previousValue + \" \" + row[currentValue];\r\n        }, \"\");\r\n        this.target.value = value;\r\n        this.callback(row);\r\n        this.close();\r\n    }\r\n\r\n    handleClose(e) {\r\n        if (e.target === this.autocomplete) {\r\n            this.isClose = true;\r\n        }\r\n    }\r\n\r\n    position() {\r\n        if (!this.autocomplete) {\r\n            return;\r\n        }\r\n\r\n        const rect = this.target.getBoundingClientRect();\r\n\r\n        this.autocomplete.firstChild.style.maxWidth = `${this.target.offsetWidth}px`;\r\n        if (window.innerWidth < 768) {\r\n            this.autocomplete.firstChild.style.maxHeight = 44 * this.size + 10 * 2 + \"px\";\r\n        } else if (window.innerWidth >= 768 && window.innerWidth < 1024) {\r\n            this.autocomplete.firstChild.style.maxHeight = 46 * this.size + 10 * 2 + \"px\";\r\n        } else {\r\n            this.autocomplete.firstChild.style.maxHeight = 48 * this.size + 10 * 2 + \"px\";\r\n        }\r\n\r\n        if (\r\n            rect.top + this.autocomplete.firstChild.offsetHeight + this.target.offsetHeight + 2 >\r\n            window.innerHeight\r\n        ) {\r\n            this.autocomplete.firstChild.style.top = `${\r\n                rect.top - this.autocomplete.firstChild.offsetHeight - 2\r\n            }px`;\r\n        } else {\r\n            this.autocomplete.firstChild.style.top = `${rect.top + this.target.offsetHeight + 2}px`;\r\n        }\r\n\r\n        this.autocomplete.firstChild.style.left = `${rect.left}px`;\r\n    }\r\n\r\n    boldString(string, substring) {\r\n        const index = string.toLowerCase().indexOf(substring.toLowerCase());\r\n        if (index === -1) {\r\n            return string;\r\n        }\r\n        return (\r\n            string.substring(0, index) +\r\n            \"<b>\" +\r\n            string.substring(index, index + substring.length) +\r\n            \"</b>\" +\r\n            string.substring(index + substring.length)\r\n        );\r\n    }\r\n\r\n    close() {\r\n        if (!this.isSelect) {\r\n            this.target.value = \"\";\r\n            this.callback(null);\r\n        }\r\n\r\n        this.isSelect = false;\r\n        this.isClose = false;\r\n\r\n        this.autocomplete.remove();\r\n    }\r\n\r\n    createSearchIcon() {\r\n        const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n        svg.setAttribute(\"width\", \"24\");\r\n        svg.setAttribute(\"height\", \"24\");\r\n        svg.setAttribute(\"fill\", \"currentColor\");\r\n        svg.setAttribute(\"viewBox\", \"0 0 24 24\");\r\n\r\n        const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n        path.setAttribute(\r\n            \"d\",\r\n            \"M21.71,20.29,18,16.61A9,9,0,1,0,16.61,18l3.68,3.68a1,1,0,0,0,1.42,0A1,1,0,0,0,21.71,20.29ZM11,18a7,7,0,1,1,7-7A7,7,0,0,1,11,18Z\"\r\n        );\r\n        svg.appendChild(path);\r\n\r\n        return svg;\r\n    }\r\n\r\n    createArrowIcon() {\r\n        const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n        svg.setAttribute(\"width\", \"16\");\r\n        svg.setAttribute(\"height\", \"16\");\r\n        svg.setAttribute(\"fill\", \"currentColor\");\r\n        svg.setAttribute(\"viewBox\", \"0 0 16 16\");\r\n\r\n        const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n        path.setAttribute(\r\n            \"d\",\r\n            \"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z\"\r\n        );\r\n        svg.appendChild(path);\r\n\r\n        return svg;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Autocomplete);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Autocomplete.js?");

/***/ }),

/***/ "./src/js/classes/BeforeAndAfter.js":
/*!******************************************!*\
  !*** ./src/js/classes/BeforeAndAfter.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass BeforeAndAfter {\r\n    constructor(target, before, after) {\r\n        this.target = target;\r\n\r\n        this.before = before;\r\n        this.after = after;\r\n\r\n        this.isStart = false;\r\n        this.isMove = false;\r\n        this.isOut = false;\r\n\r\n        this.initialPosX = 0;\r\n        this.currentPosX = 0;\r\n        this.finalPosX = 0;\r\n\r\n        this.moveX = 0;\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        document.addEventListener(\"mouseup\", this.end.bind(this));\r\n        document.addEventListener(\"touchend\", this.end.bind(this));\r\n\r\n        this.target.appendChild(this.create());\r\n    }\r\n\r\n    handleClick(e) {\r\n        const rect = e.currentTarget.getBoundingClientRect();\r\n\r\n        this.currentPosX = e.clientX ?? e.touches[0].clientX;\r\n\r\n        const left = rect.left;\r\n        const positionX = this.currentPosX - left;\r\n        const width = this.beforeAndAfter.offsetWidth;\r\n        const moveX = width / 2 - positionX;\r\n        const percentageX = (50 * width - 100 * moveX) / width;\r\n\r\n        this.before.style.clipPath = `polygon(0 0, ${percentageX}% 0, ${percentageX}% 100%, 0 100%)`;\r\n        this.after.style.clipPath = `polygon(${percentageX}% 0, 100% 0, 100% 100%, ${percentageX}% 100%)`;\r\n        this.handle.style.left = `${percentageX}%`;\r\n\r\n        this.finalPosX = moveX;\r\n    }\r\n\r\n    start(e) {\r\n        this.isStart = true;\r\n\r\n        this.disableTransition();\r\n\r\n        this.initialPosX = e.clientX ?? e.touches[0].clientX;\r\n\r\n        this.moveListener = this.move.bind(this);\r\n        this.endListener = this.end.bind(this);\r\n\r\n        document.addEventListener(\"mousemove\", this.moveListener);\r\n        document.addEventListener(\"touchmove\", this.moveListener);\r\n        document.addEventListener(\"mouseup\", this.endListener);\r\n        document.addEventListener(\"touchend\", this.endListener);\r\n    }\r\n\r\n    move(e) {\r\n        if (!this.isStart) {\r\n            return;\r\n        }\r\n\r\n        this.isMove = true;\r\n\r\n        this.currentPosX = e.clientX ?? e.touches[0].clientX;\r\n        this.moveX = this.finalPosX + this.initialPosX - this.currentPosX;\r\n\r\n        const width = this.beforeAndAfter.offsetWidth;\r\n        const percentageX = (50 * width - 100 * this.moveX) / width;\r\n\r\n        if (percentageX < 0) {\r\n            this.moveX = width / 2;\r\n            this.before.style.clipPath = `polygon(0 0, 0 0, 0 100%, 0 100%)`;\r\n            this.after.style.clipPath = `polygon(0 0, 100% 0, 100% 100%, 0 100%)`;\r\n            this.handle.style.left = \"0\";\r\n            return;\r\n        }\r\n\r\n        if (percentageX > 100) {\r\n            this.moveX = -width / 2;\r\n            this.before.style.clipPath = `polygon(0 0, 100% 0, 100% 100%, 0 100%)`;\r\n            this.after.style.clipPath = `polygon(100% 0, 100% 0, 100% 100%, 100% 100%)`;\r\n            this.handle.style.left = \"100%\";\r\n            return;\r\n        }\r\n\r\n        this.before.style.clipPath = `polygon(0 0, ${percentageX}% 0, ${percentageX}% 100%, 0 100%)`;\r\n        this.after.style.clipPath = `polygon(${percentageX}% 0, 100% 0, 100% 100%, ${percentageX}% 100%)`;\r\n        this.handle.style.left = `${percentageX}%`;\r\n    }\r\n\r\n    end() {\r\n        if (!this.isStart) {\r\n            return;\r\n        }\r\n\r\n        this.finalPosX = this.moveX;\r\n        this.isStart = false;\r\n        this.isMove = false;\r\n\r\n        this.enableTransition();\r\n\r\n        document.removeEventListener(\"mousemove\", this.moveListener);\r\n        document.removeEventListener(\"touchmove\", this.moveListener);\r\n        document.removeEventListener(\"mouseup\", this.endListener);\r\n        document.removeEventListener(\"touchend\", this.endListener);\r\n    }\r\n\r\n    out() {\r\n        if (!this.isStart) {\r\n            return;\r\n        }\r\n\r\n        this.isOut = true;\r\n    }\r\n\r\n    create() {\r\n        this.beforeAndAfter = document.createElement(\"div\");\r\n        this.beforeAndAfter.classList.add(\"before-and-after\");\r\n\r\n        this.before.style.clipPath = \"polygon(0 0, 50% 0, 50% 100%, 0 100%)\";\r\n        this.before.classList.add(\"before\");\r\n        this.beforeAndAfter.appendChild(this.before);\r\n\r\n        this.after.style.clipPath = \"polygon(50% 0, 100% 0, 100% 100%, 50% 100%)\";\r\n        this.after.classList.add(\"after\");\r\n        this.beforeAndAfter.appendChild(this.after);\r\n\r\n        const overlay = document.createElement(\"div\");\r\n        overlay.classList.add(\"overlay\");\r\n        overlay.addEventListener(\"click\", this.handleClick.bind(this));\r\n        this.beforeAndAfter.appendChild(overlay);\r\n\r\n        this.handle = document.createElement(\"div\");\r\n        this.handle.classList.add(\"handle\");\r\n        this.handle.style.left = \"50%\";\r\n        this.handle.addEventListener(\"mousedown\", this.start.bind(this));\r\n        this.handle.addEventListener(\"touchstart\", this.start.bind(this), { passive: true });\r\n        this.handle.addEventListener(\"mouseout\", this.out.bind(this));\r\n        this.beforeAndAfter.appendChild(this.handle);\r\n\r\n        const circle = document.createElement(\"div\");\r\n        circle.classList.add(\"circle\");\r\n        this.handle.appendChild(circle);\r\n\r\n        const caretLeftSvg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n        caretLeftSvg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\r\n        caretLeftSvg.setAttribute(\"width\", \"16\");\r\n        caretLeftSvg.setAttribute(\"height\", \"16\");\r\n        caretLeftSvg.setAttribute(\"fill\", \"currentColor\");\r\n        caretLeftSvg.setAttribute(\"viewBox\", \"0 0 16 16\");\r\n        circle.appendChild(caretLeftSvg);\r\n\r\n        const caretLeftPath = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n        caretLeftPath.setAttribute(\r\n            \"d\",\r\n            \"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\"\r\n        );\r\n        caretLeftSvg.appendChild(caretLeftPath);\r\n\r\n        const caretRightSvg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n        caretRightSvg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\r\n        caretRightSvg.setAttribute(\"width\", \"16\");\r\n        caretRightSvg.setAttribute(\"height\", \"16\");\r\n        caretRightSvg.setAttribute(\"fill\", \"currentColor\");\r\n        caretRightSvg.setAttribute(\"viewBox\", \"0 0 16 16\");\r\n        circle.appendChild(caretRightSvg);\r\n\r\n        const caretRightPath = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n        caretRightPath.setAttribute(\r\n            \"d\",\r\n            \"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z\"\r\n        );\r\n        caretRightSvg.appendChild(caretRightPath);\r\n\r\n        return this.beforeAndAfter;\r\n    }\r\n\r\n    enableTransition() {\r\n        this.before.classList.remove(\"notransition\");\r\n        this.after.classList.remove(\"notransition\");\r\n        this.handle.classList.remove(\"notransition\");\r\n    }\r\n\r\n    disableTransition() {\r\n        this.before.classList.add(\"notransition\");\r\n        this.after.classList.add(\"notransition\");\r\n        this.handle.classList.add(\"notransition\");\r\n    }\r\n\r\n    destroy() {\r\n        this.beforeAndAfter.remove();\r\n        delete this;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BeforeAndAfter);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/BeforeAndAfter.js?");

/***/ }),

/***/ "./src/js/classes/Blog.js":
/*!********************************!*\
  !*** ./src/js/classes/Blog.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _BlogPost_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BlogPost.js */ \"./src/js/classes/BlogPost.js\");\n/* harmony import */ var _BlogPosts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BlogPosts.js */ \"./src/js/classes/BlogPosts.js\");\n/* harmony import */ var _BlogSearch_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BlogSearch.js */ \"./src/js/classes/BlogSearch.js\");\n/* harmony import */ var _BlogCategories_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BlogCategories.js */ \"./src/js/classes/BlogCategories.js\");\n/* harmony import */ var _BlogEditor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BlogEditor.js */ \"./src/js/classes/BlogEditor.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Blog {\r\n    constructor() {\r\n        this.post = new _BlogPost_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\n        this.posts = new _BlogPosts_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n        this.search = new _BlogSearch_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n        this.categories = new _BlogCategories_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n        this.editor = new _BlogEditor_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Blog);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Blog.js?");

/***/ }),

/***/ "./src/js/classes/BlogCategories.js":
/*!******************************************!*\
  !*** ./src/js/classes/BlogCategories.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _Table_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Table.js */ \"./src/js/classes/Table.js\");\n/* harmony import */ var _Modal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Modal.js */ \"./src/js/classes/Modal.js\");\n/* harmony import */ var _Confirm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Confirm.js */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers.js */ \"./src/js/helpers.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass BlogCategories {\r\n    constructor() {\r\n        this.categories = [];\r\n        this.category = null;\r\n\r\n        this.values = {\r\n            name: \"\",\r\n            alias: \"\",\r\n        };\r\n        this.errors = null;\r\n\r\n        this.columns = [\r\n            { field: \"id\", headerName: \"Id\" },\r\n            { field: \"name\", headerName: \"Nombre\" },\r\n            { field: \"alias\", headerName: \"Alias\" },\r\n        ];\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const blogCategories = document.querySelector(\"#blog-categories\");\r\n        const blogCategoriesTable = document.querySelector(\"#blog-categories-table\");\r\n        const blogCategoriesSearch = document.querySelector(\"#blog-categories-search\");\r\n\r\n        if (blogCategories) {\r\n            await this.readCategoriesInUse();\r\n            this.showCategoriesInUse();\r\n        }\r\n\r\n        if (blogCategoriesTable) {\r\n            await this.readAllCategories();\r\n            this.showCategoriesTable();\r\n\r\n            const createCategory = document.querySelector(\"#blog-categories-create\");\r\n            createCategory.addEventListener(\"click\", this.handleCreateCategory.bind(this));\r\n        }\r\n\r\n        if (blogCategoriesSearch) {\r\n            this.createSearch();\r\n        }\r\n    }\r\n\r\n    async readCategoriesInUse() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/blog/categories\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.categories = response.categories;\r\n    }\r\n\r\n    async readAllCategories() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/blog-categories\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.categories = response.categories;\r\n    }\r\n\r\n    resetValues() {\r\n        this.values = {\r\n            name: \"\",\r\n            alias: \"\",\r\n        };\r\n    }\r\n\r\n    handleCreateCategory() {\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"Crear categoría\",\r\n            content: this.createCategoryForm(),\r\n            action: \"Crear\",\r\n            actionCallback: () => this.createCategory(),\r\n            closeCallback: () => {\r\n                this.resetValues();\r\n                this.errors = null;\r\n            },\r\n        });\r\n    }\r\n\r\n    async createCategory() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/admin/blog-categories\", this.values);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.modal.repaint(this.createCategoryForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡Categoría creada!`,\r\n            message: \"La categoría ha sido creada correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.addRow(response.category);\r\n    }\r\n\r\n    handleUpdateCategory(category) {\r\n        this.category = category;\r\n        this.values = {\r\n            name: category.name,\r\n            alias: category.alias,\r\n        };\r\n\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"Actualizar categoría\",\r\n            content: this.createCategoryForm(),\r\n            action: \"Actualizar\",\r\n            actionCallback: () => this.updateCategory(),\r\n            closeCallback: () => {\r\n                this.resetValues();\r\n                this.errors = null;\r\n            },\r\n        });\r\n    }\r\n\r\n    async updateCategory() {\r\n        this.category = {\r\n            id: this.category.id,\r\n            name: this.values.name,\r\n            alias: this.values.alias,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.put(\"/api/admin/blog-categories\", this.category);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.modal.repaint(this.createCategoryForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡Categoría actualizada!`,\r\n            message: \"La categoría ha sido actualziada correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.updateRow(response.category);\r\n    }\r\n\r\n    async deleteCategory(category) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"¿Eliminar categoría?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar esta categoría? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const data = {\r\n            id: category.id,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/blog-categories\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"¡Categoría eliminada!\",\r\n            message: \"La categoría ha sido eliminada correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRow(category);\r\n    }\r\n\r\n    async deleteCategories(selectedCategories) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: `¿Eliminar ${selectedCategories.length > 1 ? \"categorías\" : \"categoría\"}?`,\r\n            description: `¿Estás seguro de eliminar  ${\r\n                selectedCategories.length > 1 ? \"estas categorías\" : \"esta categoría\"\r\n            }? Los datos no podrán ser recuperados.`,\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\r\n            \"/api/admin/blog-categories/multiple\",\r\n            selectedCategories\r\n        );\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡${\r\n                selectedCategories.length > 1 ? \"Categorías eliminadas\" : \"Categoría eliminada\"\r\n            }!`,\r\n            message: `${\r\n                selectedCategories.length > 1\r\n                    ? \"Las categorías han sido eliminadas\"\r\n                    : \"La categoría ha sido eliminada\"\r\n            } correctamente!`,\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRows(selectedCategories);\r\n    }\r\n\r\n    createSearch() {\r\n        const form = document.querySelector(\"#blog-categories-search\");\r\n        form.addEventListener(\"keyup\", this.handleSearch.bind(this));\r\n\r\n        const search = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Buscar categoría\",\r\n                for: \"search\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"search\",\r\n                id: \"search\",\r\n            },\r\n        });\r\n        const searchField = search.getField();\r\n        form.appendChild(searchField);\r\n    }\r\n\r\n    async handleSearch(e) {\r\n        const search = e.target.value;\r\n        this.table.searchRow(search);\r\n    }\r\n\r\n    createCategoryForm() {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n\r\n        const name = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Nombre\",\r\n                for: \"name\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"name\",\r\n                id: \"name\",\r\n                value: this.values ? this.values.name : \"\",\r\n            },\r\n            error: this.errors && this.errors.name,\r\n            message: this.errors && this.errors.name ? this.errors.name : \"\",\r\n            callback: (value) => {\r\n                this.values.name = value;\r\n                this.values.alias = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_6__.toSeoUrl)(value);\r\n                this.errors = null;\r\n                alias.setValue(this.values.alias);\r\n            },\r\n        });\r\n\r\n        const nameField = name.getField();\r\n        form.appendChild(nameField);\r\n\r\n        const alias = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Alias\",\r\n                for: \"alias\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"alias\",\r\n                id: \"alias\",\r\n                value: this.values ? this.values.alias : \"\",\r\n            },\r\n            error: this.errors && this.errors.alias,\r\n            message: this.errors && this.errors.alias ? this.errors.alias : \"\",\r\n        });\r\n\r\n        const aliasField = alias.getField();\r\n        form.appendChild(aliasField);\r\n\r\n        return form;\r\n    }\r\n\r\n    showCategoriesInUse() {\r\n        const categoriesContainer = document.querySelector(\"#blog-categories\");\r\n        const categoriesElements = this.createCategoriesFragment();\r\n        categoriesContainer.appendChild(categoriesElements);\r\n    }\r\n\r\n    showCategoriesTable() {\r\n        const categoriesContainer = document.querySelector(\"#blog-categories-table\");\r\n\r\n        this.table = new _Table_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            columns: this.columns,\r\n            rows: this.categories,\r\n            container: categoriesContainer,\r\n            visibleRows: 10,\r\n            rowsPerPage: 15,\r\n            update: this.handleUpdateCategory.bind(this),\r\n            delete: this.deleteCategory.bind(this),\r\n            deleteSelected: this.deleteCategories.bind(this),\r\n        });\r\n    }\r\n\r\n    createCategoriesFragment() {\r\n        const fragment = document.createDocumentFragment();\r\n\r\n        this.categories.forEach((category) => {\r\n            const categoryElement = this.createCategoryElement(category);\r\n            fragment.appendChild(categoryElement);\r\n        });\r\n\r\n        return fragment;\r\n    }\r\n\r\n    createCategoryElement(category) {\r\n        const anchor = document.createElement(\"a\");\r\n        anchor.href = `/blog/${category.alias}`;\r\n\r\n        const span = document.createElement(\"span\");\r\n        span.textContent = category.name;\r\n        anchor.appendChild(span);\r\n\r\n        const arrowRight = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_5__.icon.get(\"arrowRight\");\r\n        anchor.appendChild(arrowRight);\r\n\r\n        return anchor;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlogCategories);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/BlogCategories.js?");

/***/ }),

/***/ "./src/js/classes/BlogEditor.js":
/*!**************************************!*\
  !*** ./src/js/classes/BlogEditor.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _UploadAdapter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UploadAdapter.js */ \"./src/js/classes/UploadAdapter.js\");\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mio/Textarea.js */ \"./src/js/classes/mio/Textarea.js\");\n/* harmony import */ var _mio_Select_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mio/Select.js */ \"./src/js/classes/mio/Select.js\");\n/* harmony import */ var _InputFile_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./InputFile.js */ \"./src/js/classes/InputFile.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass BlogEditor {\r\n    constructor() {\r\n        this.post = null;\r\n        this.categories = [];\r\n\r\n        this.values = {\r\n            title: \"\",\r\n            description: \"\",\r\n            category_id: \"\",\r\n            alt: \"\",\r\n            html: \"\",\r\n        };\r\n        this.errors = null;\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const blogEditor = document.querySelector(\"#blog-editor\");\r\n\r\n        if (!blogEditor) {\r\n            return;\r\n        }\r\n\r\n        await this.loadCKEditor();\r\n        await this.readAllCategories();\r\n        await this.loadPost();\r\n        this.createEditorForm();\r\n    }\r\n\r\n    async loadCKEditor() {\r\n        const script = document.querySelector(\r\n            'script[src=\"/build/js/vendor/ckeditor/ckeditor.js\"]'\r\n        );\r\n        if (script) {\r\n            return;\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            const script = document.createElement(\"script\");\r\n            script.src = \"/build/js/vendor/ckeditor/ckeditor.js\";\r\n            script.onload = resolve;\r\n            script.onerror = reject;\r\n            document.body.appendChild(script);\r\n        });\r\n    }\r\n\r\n    async createCKEditor(html) {\r\n        return new Promise((resolve, reject) => {\r\n            ClassicEditor.create(html, {\r\n                image: {\r\n                    toolbar: [\r\n                        \"imageStyle:inline\",\r\n                        \"imageStyle:wrapText\",\r\n                        \"imageStyle:breakText\",\r\n                        \"|\",\r\n                        \"toggleImageCaption\",\r\n                        \"imageTextAlternative\",\r\n                    ],\r\n                },\r\n                extraPlugins: [_UploadAdapter_js__WEBPACK_IMPORTED_MODULE_0__.BlogUploadAdapter],\r\n            })\r\n                .then((editor) => {\r\n                    this.editor = editor;\r\n                    if (this.values.html) {\r\n                        this.editor.setData(this.values.html);\r\n                    }\r\n                    resolve();\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject();\r\n                });\r\n        });\r\n    }\r\n\r\n    async readAllCategories() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_1__.api.get(\"/api/admin/blog-categories\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.categories = response.categories;\r\n    }\r\n\r\n    async loadPost() {\r\n        const url = window.location.pathname;\r\n        const urlArray = url.split(\"/\").filter((item) => item);\r\n\r\n        if (urlArray.length === 2) {\r\n            return;\r\n        }\r\n\r\n        const post_id = urlArray[2];\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_1__.api.get(`/api/editor/blog/read/${post_id}`);\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        this.post = response.post;\r\n\r\n        this.values = {\r\n            title: this.post.title,\r\n            description: this.post.description,\r\n            category_id: this.post.category_id,\r\n            alt: this.post.alt,\r\n            html: this.post.html,\r\n        };\r\n    }\r\n\r\n    async createEditorForm() {\r\n        const blogEditor = document.querySelector(\"#blog-editor\");\r\n\r\n        this.formEditor = document.createElement(\"form\");\r\n        this.formEditor.classList.add(\"mio-form\");\r\n        this.formEditor.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n        blogEditor.appendChild(this.formEditor);\r\n\r\n        const colTitle = document.createElement(\"div\");\r\n        colTitle.classList.add(\"col\");\r\n        this.formEditor.appendChild(colTitle);\r\n\r\n        const h2Title = document.createElement(\"h2\");\r\n        h2Title.textContent = \"1. Título\";\r\n        colTitle.appendChild(h2Title);\r\n\r\n        const pTitle = document.createElement(\"p\");\r\n        pTitle.textContent = \"Máximo 255 caracteres\";\r\n        colTitle.appendChild(pTitle);\r\n\r\n        const title = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            label: {\r\n                text: \"Título\",\r\n                for: \"title\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"title\",\r\n                id: \"title\",\r\n                value: this.values.title,\r\n            },\r\n            error: this.errors && this.errors.title,\r\n            message: this.errors && this.errors.title ? this.errors.title : \"\",\r\n            callback: (value) => {\r\n                this.values.title = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        colTitle.appendChild(title.getField());\r\n\r\n        const colDescription = document.createElement(\"div\");\r\n        colDescription.classList.add(\"col\");\r\n        this.formEditor.appendChild(colDescription);\r\n\r\n        const h2Description = document.createElement(\"h2\");\r\n        h2Description.textContent = \"2. Descripción\";\r\n        colDescription.appendChild(h2Description);\r\n\r\n        const pDescription = document.createElement(\"p\");\r\n        pDescription.textContent = \"Máximo 255 caracteres\";\r\n        colDescription.appendChild(pDescription);\r\n\r\n        const description = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Descripción\",\r\n                for: \"description\",\r\n            },\r\n            input: {\r\n                name: \"description\",\r\n                id: \"description\",\r\n                rows: 2,\r\n                value: this.values.description,\r\n            },\r\n            error: this.errors && this.errors.description,\r\n            message: this.errors && this.errors.description ? this.errors.description : \"\",\r\n            callback: (value) => {\r\n                this.values.description = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        colDescription.appendChild(description.getField());\r\n\r\n        const colCategory = document.createElement(\"div\");\r\n        colCategory.classList.add(\"col\");\r\n        this.formEditor.appendChild(colCategory);\r\n\r\n        const h2Category = document.createElement(\"h2\");\r\n        h2Category.textContent = \"3. Categoría\";\r\n        colCategory.appendChild(h2Category);\r\n\r\n        const pCategory = document.createElement(\"p\");\r\n        pCategory.textContent = \"Seleccionar la categoría a la que corresponde el post\";\r\n        colCategory.appendChild(pCategory);\r\n\r\n        const category = new _mio_Select_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Categoría\",\r\n                for: \"category_id\",\r\n            },\r\n            select: {\r\n                name: \"category_id\",\r\n                id: \"category_id\",\r\n            },\r\n            option: {\r\n                value: \"id\",\r\n                text: \"name\",\r\n            },\r\n            options: this.categories,\r\n            selected: this.values.category_id ? { id: this.values.category_id } : null,\r\n            error: this.errors && this.errors.category_id,\r\n            message: this.errors && this.errors.category_id ? this.errors.category_id : \"\",\r\n            onSelect: (option) => {\r\n                this.values.category_id = option.id;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        colCategory.appendChild(category.getField());\r\n\r\n        const colImage = document.createElement(\"div\");\r\n        colImage.classList.add(\"col\");\r\n        this.formEditor.appendChild(colImage);\r\n\r\n        const h2Image = document.createElement(\"h2\");\r\n        h2Image.textContent = \"4. Imagen miniatura\";\r\n        colImage.appendChild(h2Image);\r\n\r\n        const pImage = document.createElement(\"p\");\r\n        pImage.textContent = \"Imagen para las miniaturas. Recomendado 750px por 500px\";\r\n        colImage.appendChild(pImage);\r\n\r\n        if (this.inputFile && this.inputFile.getInput().files.length) {\r\n            colImage.appendChild(this.inputFile.getField());\r\n        } else {\r\n            this.inputFile = new _InputFile_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n                label: {\r\n                    text: \"Selecciona una imagen...\",\r\n                    for: \"image\",\r\n                },\r\n                input: {\r\n                    name: \"image\",\r\n                    id: \"image\",\r\n                    accept: \"image/jpeg, image/png\",\r\n                },\r\n                error: this.errors && this.errors.image ? this.errors.image : \"\",\r\n                callback: (src) => {\r\n                    this.previewImage(src);\r\n                },\r\n            });\r\n            colImage.appendChild(this.inputFile.getField());\r\n        }\r\n        \r\n        if (this.post) {\r\n            console.log(this.post);\r\n            const src = `/build/img/blog/${this.post.src}`;\r\n            this.previewImage(src);\r\n        }\r\n\r\n        const colAlt = document.createElement(\"div\");\r\n        colAlt.classList.add(\"col\");\r\n        this.formEditor.appendChild(colAlt);\r\n\r\n        const h2Alt = document.createElement(\"h2\");\r\n        h2Alt.textContent = \"5. Descripción imagen\";\r\n        colAlt.appendChild(h2Alt);\r\n\r\n        const pAlt = document.createElement(\"p\");\r\n        pAlt.textContent = \"Descripción para imagen principal. Máximo 255 caracteres\";\r\n        colAlt.appendChild(pAlt);\r\n\r\n        const alt = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Descripción imagen\",\r\n                for: \"alt\",\r\n            },\r\n            input: {\r\n                name: \"alt\",\r\n                id: \"alt\",\r\n                rows: 2,\r\n                value: this.values.alt,\r\n            },\r\n            error: this.errors && this.errors.alt,\r\n            message: this.errors && this.errors.alt ? this.errors.alt : \"\",\r\n            callback: () => {\r\n                this.errors = null;\r\n            },\r\n        });\r\n        colAlt.appendChild(alt.getField());\r\n\r\n        const colHTML = document.createElement(\"div\");\r\n        colHTML.classList.add(\"col\");\r\n        this.formEditor.appendChild(colHTML);\r\n\r\n        const h2HTML = document.createElement(\"h2\");\r\n        h2HTML.textContent = \"6. Contenido\";\r\n        colHTML.appendChild(h2HTML);\r\n\r\n        const pHTML = document.createElement(\"p\");\r\n        pHTML.textContent = \"Contenido principal del post\";\r\n        colHTML.appendChild(pHTML);\r\n\r\n        const fieldHTML = document.createElement(\"div\");\r\n        fieldHTML.classList.add(\"field\");\r\n        if (this.errors && this.errors.html) {\r\n            fieldHTML.classList.add(\"error\");\r\n        }\r\n        colHTML.appendChild(fieldHTML);\r\n\r\n        const html = document.createElement(\"textarea\");\r\n        html.id = \"html\";\r\n        html.name = \"html\";\r\n        fieldHTML.appendChild(html);\r\n\r\n        await this.createCKEditor(html);\r\n\r\n        this.editor.model.document.on(\"change:data\", () => {\r\n            fieldHTML.classList.remove(\"error\");\r\n            if (fieldHTML.querySelector(\".error-message\")) {\r\n                fieldHTML.querySelector(\".error-message\").remove();\r\n            }\r\n            this.values.html = this.editor.getData();\r\n        });\r\n\r\n        if (this.post) {\r\n            this.editor.setData(this.values.html);\r\n        }\r\n\r\n        if (this.errors && this.errors.html) {\r\n            const errorMessage = document.createElement(\"p\");\r\n            errorMessage.classList.add(\"error-message\");\r\n            errorMessage.textContent = this.errors.html;\r\n            fieldHTML.appendChild(errorMessage);\r\n        }\r\n\r\n        const submitField = document.createElement(\"div\");\r\n        submitField.classList.add(\"field\");\r\n        this.formEditor.appendChild(submitField);\r\n\r\n        const submit = document.createElement(\"input\");\r\n        submit.type = \"submit\";\r\n        submit.value = this.post ? \"Actualizar post\" : \"Crear post\";\r\n        submit.classList.add(\"btn\", \"primary-btn\");\r\n        submitField.appendChild(submit);\r\n    }\r\n\r\n    async handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const data = new FormData(e.currentTarget);\r\n        data.append(\"html\", this.editor.getData());\r\n        if (this.post) {\r\n            data.append(\"id\", this.post.id);\r\n        }\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_1__.api.post(\r\n            `/api/editor/blog/${this.post ? \"update\" : \"create\"}`,\r\n            data\r\n        );\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.formEditor.remove();\r\n            this.createEditorForm();\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_1__.popup.open({\r\n            type: \"success\",\r\n            title: `¡Post ${this.post ? \"actualizado\" : \"creado\"} correctamente!`,\r\n            message: \"Serás redirigido al blog\",\r\n            timer: 3000,\r\n        });\r\n\r\n        window.location.href = \"/blog\";\r\n    }\r\n\r\n    async previewImage(src) {\r\n        const imageInput = document.querySelector(\"#image\");\r\n        const imageLabel = document.querySelector(\"label[for='image']\");\r\n\r\n        imageLabel.classList.add(\"hidden\");\r\n\r\n        const preview = document.createElement(\"div\");\r\n        preview.classList.add(\"image-preview\");\r\n        imageInput.parentElement.appendChild(preview);\r\n\r\n        const image = await this.createImage(src);\r\n        preview.appendChild(image);\r\n\r\n        const closeButton = document.createElement(\"button\");\r\n        closeButton.classList.add(\"close\");\r\n        closeButton.type = \"button\";\r\n        closeButton.addEventListener(\"click\", () => {\r\n            imageInput.value = \"\";\r\n            imageLabel.classList.remove(\"hidden\");\r\n            preview.remove();\r\n        });\r\n        preview.appendChild(closeButton);\r\n\r\n        const closeIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_2__.icon.get(\"xLg\");\r\n        closeButton.appendChild(closeIcon);\r\n    }\r\n\r\n    createImage(src, alt = \"\") {\r\n        return new Promise((resolve, reject) => {\r\n            const image = new Image();\r\n            image.src = src;\r\n            image.alt = alt;\r\n            image.addEventListener(\"load\", () => resolve(image));\r\n            image.addEventListener(\"error\", () => reject(new Error(\"Error loading image\")));\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlogEditor);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/BlogEditor.js?");

/***/ }),

/***/ "./src/js/classes/BlogPost.js":
/*!************************************!*\
  !*** ./src/js/classes/BlogPost.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n/* harmony import */ var _Confirm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Confirm.js */ \"./src/js/classes/Confirm.js\");\n\r\n\r\n\r\n\r\nclass BlogPost {\r\n    constructor(post) {\r\n        this.post = post || null;\r\n        this.auth= false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const post = document.querySelector(\"#blog-post\");\r\n\r\n        if (post) {\r\n            await this.readPost();\r\n            this.showPost();\r\n        }\r\n    }\r\n\r\n    setPost(post) {\r\n        this.post = post;\r\n    }\r\n\r\n    setAuth(auth) {\r\n        this.auth = auth;\r\n    }\r\n\r\n    async readPost() {\r\n        const post = window.location.pathname.split(\"/\").pop();\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(`/api/blog/post/${post}`);\r\n        console.log(response);\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        this.setPost(response.post);\r\n        this.setAuth(response.auth);\r\n    }\r\n\r\n    showPost() {\r\n        const postContainer = document.querySelector(\"#blog-post\");\r\n        const postElement = this.createPost();\r\n        postContainer.appendChild(postElement);\r\n    }\r\n\r\n    createPost() {\r\n        const article = document.createElement(\"article\");\r\n\r\n        const header = document.createElement(\"header\");\r\n        article.appendChild(header);\r\n\r\n        const h1 = document.createElement(\"h1\");\r\n        h1.textContent = this.post.title;\r\n        header.appendChild(h1);\r\n\r\n        console.log(this.auth);\r\n        if (this.auth) {\r\n            const actions = document.createElement(\"div\");\r\n            actions.classList.add(\"actions\");\r\n            header.appendChild(actions);\r\n\r\n            const edit = document.createElement(\"a\");\r\n            edit.classList.add(\"edit\");\r\n            edit.href = `/editor/blog/${this.post.alias}`;\r\n            actions.appendChild(edit);\r\n\r\n            const editIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__.icon.get(\"pencilSquare\");\r\n            edit.appendChild(editIcon);\r\n\r\n            const remove = document.createElement(\"button\");\r\n            remove.classList.add(\"remove\");\r\n            remove.addEventListener(\"click\", this.deletePost.bind(this, this.post));\r\n            actions.appendChild(remove);\r\n\r\n            const removeIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__.icon.get(\"trash\");\r\n            remove.appendChild(removeIcon);\r\n        }\r\n\r\n        const body = document.createElement(\"div\");\r\n        body.classList.add(\"body\");\r\n        body.innerHTML = this.post.html;\r\n        article.appendChild(body);\r\n\r\n        return article;\r\n    }\r\n\r\n    async deletePost(post) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"¿Eliminar post?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar este post? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const data = {\r\n            id: post.id,\r\n            image_id: post.image_id,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/blog\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"¡Post eliminado correctamente!\",\r\n            message: \"Serás redirigido al blog\",\r\n            timer: 3000,\r\n        });\r\n\r\n        window.location.href = \"/blog\";\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlogPost);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/BlogPost.js?");

/***/ }),

/***/ "./src/js/classes/BlogPosts.js":
/*!*************************************!*\
  !*** ./src/js/classes/BlogPosts.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _Pagination_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Pagination.js */ \"./src/js/classes/Pagination.js\");\n/* harmony import */ var _Confirm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Confirm.js */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers.js */ \"./src/js/helpers.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass BlogPosts {\r\n    constructor() {\r\n        this.posts = [];\r\n        this.latestPosts = [];\r\n\r\n        this.page = 1;\r\n        this.limit = 5;\r\n        this.total = 0;\r\n\r\n        this.category = \"\";\r\n        this.search = \"\";\r\n\r\n        this.auth = false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const posts = document.querySelector(\"#blog-posts\");\r\n\r\n        if (posts) {\r\n            await this.readPosts();\r\n            this.showPosts();\r\n        }\r\n\r\n        const postsByCategory = document.querySelector(\"#blog-posts-by-category\");\r\n\r\n        if (postsByCategory) {\r\n            await this.readPostsByCategory();\r\n            this.showPostsByCategory();\r\n        }\r\n\r\n        const postsBySearch = document.querySelector(\"#blog-posts-by-search\");\r\n\r\n        if (postsBySearch) {\r\n            await this.readPostsBySearch();\r\n            this.showPostsBySearch();\r\n        }\r\n\r\n        const latestPosts = document.querySelector(\"#blog-latest-posts\");\r\n\r\n        if (latestPosts) {\r\n            await this.readLatestPosts();\r\n            this.showLatestPosts();\r\n        }\r\n    }\r\n\r\n    setPosts(posts) {\r\n        this.posts = posts;\r\n    }\r\n\r\n    setLatestPosts(latestPosts) {\r\n        this.latestPosts = latestPosts;\r\n    }\r\n\r\n    setPage(page) {\r\n        this.page = page;\r\n    }\r\n\r\n    setLimit(limit) {\r\n        this.limit = limit;\r\n    }\r\n\r\n    setCategory(category) {\r\n        this.category = category;\r\n    }\r\n\r\n    setSearch(search) {\r\n        this.search = search;\r\n    }\r\n\r\n    setAuth(auth) {\r\n        this.auth = auth;\r\n    }\r\n\r\n    setTotal(total) {\r\n        this.total = total;\r\n    }\r\n\r\n    updatePost(updatedPost) {\r\n        this.posts = this.posts.map((post) => (post.id === updatedPost.id ? updatedPost : post));\r\n    }\r\n\r\n    deletePost(deletedPost) {\r\n        this.posts = this.posts.filter((post) => post.id !== deletedPost.id);\r\n    }\r\n\r\n    clearPosts() {\r\n        this.posts = [];\r\n    }\r\n\r\n    async readPosts() {\r\n        const url = window.location.pathname;\r\n        const urlArray = url.split(\"/\");\r\n        const pageExists = urlArray.includes(\"page\");\r\n        const page = pageExists ? Number(urlArray.pop()) : 1;\r\n\r\n        this.setPage(page);\r\n        this.setLimit(page === 1 ? 5 : 6);\r\n\r\n        const data = {\r\n            page: this.page,\r\n            limit: this.limit,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/blog\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        if (!response.posts.length && this.page > 1) {\r\n            window.location.href = \"/blog\";\r\n            return;\r\n        }\r\n\r\n        this.setPosts(response.posts);\r\n        this.setTotal(response.total);\r\n        this.setAuth(response.auth);\r\n    }\r\n\r\n    async readPostsByCategory() {\r\n        const url = window.location.pathname;\r\n        const urlArray = url.split(\"/\");\r\n        const pageExists = urlArray.includes(\"page\");\r\n        const category = pageExists ? urlArray[2] : urlArray.pop();\r\n        const page = pageExists ? Number(urlArray.pop()) : 1;\r\n\r\n        this.setCategory(category);\r\n        this.setPage(page);\r\n        this.setLimit(page === 1 ? 5 : 6);\r\n\r\n        const data = {\r\n            category: this.category,\r\n            page: this.page,\r\n            limit: this.limit,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/blog/category\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        if (!response.posts.length && this.page > 1) {\r\n            window.location.href = `/blog/${category}`;\r\n            return;\r\n        }\r\n\r\n        this.setPosts(response.posts);\r\n        this.setTotal(response.total);\r\n        this.setAuth(response.auth);\r\n    }\r\n\r\n    async readLatestPosts() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/blog/latest\");\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        this.setLatestPosts(response.posts);\r\n        this.setAuth(response.auth);\r\n    }\r\n\r\n    async readPostsBySearch() {\r\n        const url = window.location.pathname;\r\n        const urlArray = url.split(\"/\");\r\n        const pageExists = urlArray.includes(\"page\");\r\n        const search = pageExists ? urlArray[3] : urlArray.pop();\r\n        const page = pageExists ? Number(urlArray.pop()) : 1;\r\n\r\n        this.setSearch(search);\r\n        this.setPage(page);\r\n        this.setLimit(page === 1 ? 5 : 6);\r\n\r\n        const formatSearch = search.split(\"+\").join(\" \");\r\n\r\n        const data = {\r\n            search: formatSearch,\r\n            page: this.page,\r\n            limit: this.limit,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/blog/search\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        if (!response.posts.length && this.page > 1) {\r\n            window.location.href = `/blog/search/${search}`;\r\n            return;\r\n        }\r\n\r\n        this.setPosts(response.posts);\r\n        this.setTotal(response.total);\r\n        this.setAuth(response.auth);\r\n    }\r\n\r\n    showPosts() {\r\n        const postsContainer = document.querySelector(\"#blog-posts\");\r\n        const postsElements = this.createPosts();\r\n        postsContainer.appendChild(postsElements);\r\n\r\n        new _Pagination_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.page, this.limit, this.total, \"/blog\");\r\n    }\r\n\r\n    showPostsByCategory() {\r\n        const postsByCategoryContainer = document.querySelector(\"#blog-posts-by-category\");\r\n        const postsElements = this.createPosts();\r\n        postsByCategoryContainer.appendChild(postsElements);\r\n\r\n        new _Pagination_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.page, this.limit, this.total, `/blog/${this.category}`);\r\n    }\r\n\r\n    showPostsBySearch() {\r\n        const postsBySearchContainer = document.querySelector(\"#blog-posts-by-search\");\r\n        const postsElements = this.createPosts();\r\n        postsBySearchContainer.appendChild(postsElements);\r\n\r\n        new _Pagination_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.page, this.limit, this.total, `/blog/search/${this.search}`);\r\n    }\r\n\r\n    showLatestPosts() {\r\n        const latestPostsContainer = document.querySelector(\"#blog-latest-posts\");\r\n        const latestPosts = this.createLatestPosts();\r\n        latestPostsContainer.appendChild(latestPosts);\r\n    }\r\n\r\n    createPosts() {\r\n        const fragment = document.createDocumentFragment();\r\n\r\n        if (!this.posts.length) {\r\n            const message = document.createElement(\"p\");\r\n            message.textContent = \"No se encontraron posts\";\r\n            fragment.appendChild(message);\r\n        }\r\n\r\n        this.posts.forEach((post, index) => {\r\n            const postElement = this.createPost(post, index);\r\n            fragment.appendChild(postElement);\r\n        });\r\n\r\n        return fragment;\r\n    }\r\n\r\n    createPost(post, index) {\r\n        const article = document.createElement(\"article\");\r\n        if (this.page === 1 && index === 0) {\r\n            article.classList.add(\"post-big\");\r\n        }\r\n\r\n        const image = document.createElement(\"div\");\r\n        image.classList.add(\"image\");\r\n        article.appendChild(image);\r\n\r\n        const img = document.createElement(\"img\");\r\n        img.src = `/build/img/blog/${post.src}`;\r\n        img.alt = post.alt;\r\n        image.appendChild(img);\r\n\r\n        const title = document.createElement(\"h2\");\r\n        title.classList.add(\"title\");\r\n        article.appendChild(title);\r\n\r\n        const titleAnchor = document.createElement(\"a\");\r\n        titleAnchor.href = `/blog/${post.category_alias}/${post.alias}`;\r\n        titleAnchor.textContent = post.title;\r\n        title.appendChild(titleAnchor);\r\n\r\n        const description = document.createElement(\"p\");\r\n        description.classList.add(\"description\");\r\n        description.textContent = post.description;\r\n        article.appendChild(description);\r\n\r\n        const row = document.createElement(\"div\");\r\n        row.classList.add(\"row\");\r\n        article.appendChild(row);\r\n\r\n        const date = document.createElement(\"time\");\r\n        date.classList.add(\"date\");\r\n        date.textContent = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_4__.dateFormat)(post.created_at);\r\n        row.appendChild(date);\r\n\r\n        const author = document.createElement(\"a\");\r\n        author.classList.add(\"author\");\r\n        author.textContent = `By ${post.author}`;\r\n        author.href = \"/blog\";\r\n        row.appendChild(author);\r\n\r\n        if (this.auth) {\r\n            const actions = document.createElement(\"div\");\r\n            actions.classList.add(\"actions\");\r\n            row.appendChild(actions);\r\n\r\n            const edit = document.createElement(\"a\");\r\n            edit.classList.add(\"edit\");\r\n            edit.href = `/editor/blog/${post.alias}`;\r\n            actions.appendChild(edit);\r\n\r\n            const editIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_3__.icon.get(\"pencilSquare\");\r\n            edit.appendChild(editIcon);\r\n\r\n            const remove = document.createElement(\"button\");\r\n            remove.classList.add(\"remove\");\r\n            remove.addEventListener(\"click\", this.deletePost.bind(this, post));\r\n            actions.appendChild(remove);\r\n\r\n            const removeIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_3__.icon.get(\"trash\");\r\n            remove.appendChild(removeIcon);\r\n        }\r\n\r\n        if (this.page === 1 && index === 0) {\r\n            const readMore = document.createElement(\"a\");\r\n            readMore.classList.add(\"read-more\");\r\n            readMore.href = `/blog/${post.category_alias}/${post.alias}`;\r\n            row.appendChild(readMore);\r\n\r\n            const span = document.createElement(\"span\");\r\n            span.textContent = \"Leer más\";\r\n            readMore.appendChild(span);\r\n\r\n            const arrowRight = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_3__.icon.get(\"arrowRight\");\r\n            readMore.appendChild(arrowRight);\r\n        }\r\n\r\n        return article;\r\n    }\r\n\r\n    createLatestPosts() {\r\n        const fragment = document.createDocumentFragment();\r\n\r\n        this.latestPosts.forEach((post, index) => {\r\n            const latestPost = this.createLatestPost(post, index);\r\n            fragment.appendChild(latestPost);\r\n        });\r\n\r\n        return fragment;\r\n    }\r\n\r\n    createLatestPost(post) {\r\n        const anchor = document.createElement(\"a\");\r\n        anchor.href = `/blog/${post.category_alias}/${post.alias}`;\r\n\r\n        const article = document.createElement(\"article\");\r\n        anchor.appendChild(article);\r\n\r\n        const row = document.createElement(\"div\");\r\n        row.classList.add(\"row\");\r\n        article.appendChild(row);\r\n\r\n        const date = document.createElement(\"time\");\r\n        date.classList.add(\"date\");\r\n        date.textContent = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_4__.dateFormat)(post.created_at);\r\n        row.appendChild(date);\r\n\r\n        const author = document.createElement(\"p\");\r\n        author.classList.add(\"author\");\r\n        author.textContent = `By ${post.author}`;\r\n        row.appendChild(author);\r\n\r\n        const title = document.createElement(\"p\");\r\n        title.classList.add(\"title\");\r\n        title.textContent = post.title;\r\n        article.appendChild(title);\r\n\r\n        return anchor;\r\n    }\r\n\r\n    async deletePost(post) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"¿Eliminar post?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar este post? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const data = {\r\n            id: post.id,\r\n            image_id: post.image_id,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/blog\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"¡Post eliminado correctamente!\",\r\n            message: \"Serás redirigido al blog\",\r\n            timer: 3000,\r\n        });\r\n\r\n        window.location.href = \"/blog\";\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlogPosts);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/BlogPosts.js?");

/***/ }),

/***/ "./src/js/classes/BlogSearch.js":
/*!**************************************!*\
  !*** ./src/js/classes/BlogSearch.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n\r\n\r\n\r\nclass BlogSearch {\r\n    constructor() {\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        const searchForm = document.querySelector(\"#blog-search-form\");\r\n\r\n        if (searchForm) {\r\n            this.createSearch();\r\n        }\r\n    }\r\n\r\n    createSearch() {\r\n        const form = document.querySelector(\"#blog-search-form\");\r\n        form.addEventListener(\"submit\", this.handleSearch.bind(this));\r\n\r\n        const search = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Buscar\",\r\n                for: \"search\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"search\",\r\n                id: \"search\",\r\n            },\r\n        });\r\n\r\n        const searchField = search.getField();\r\n        form.appendChild(searchField);\r\n\r\n        const field = document.createElement(\"div\");\r\n        field.classList.add(\"field\");\r\n        form.appendChild(field);\r\n\r\n        const button = document.createElement(\"button\");\r\n        button.classList.add(\"btn\", \"primary-btn\");\r\n        button.type = \"submit\";\r\n        button.ariaLabel = \"Buscar\";\r\n        field.appendChild(button);\r\n\r\n        const searchIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__.icon.get(\"search\");\r\n        button.appendChild(searchIcon);\r\n    }\r\n\r\n    async handleSearch(e) {\r\n        e.preventDefault();\r\n\r\n        const data = new FormData(e.target);\r\n        const entries = Object.fromEntries(data);\r\n\r\n        const search = entries.search.trim().toLowerCase().split(\" \").join(\"+\");\r\n\r\n        window.location.href = `/blog/search/${search}`;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BlogSearch);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/BlogSearch.js?");

/***/ }),

/***/ "./src/js/classes/Budgeteds.js":
/*!*************************************!*\
  !*** ./src/js/classes/Budgeteds.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _Autocomplete_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Autocomplete.js */ \"./src/js/classes/Autocomplete.js\");\n/* harmony import */ var _Modal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Modal.js */ \"./src/js/classes/Modal.js\");\n/* harmony import */ var _Pieces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Pieces.js */ \"./src/js/classes/Pieces.js\");\n\r\n\r\n\r\n\r\n\r\nclass Budgeteds {\r\n    constructor({ budgeteds, callback }) {\r\n        this.budgeteds = budgeteds;\r\n        this.callback = callback;\r\n\r\n        this.treatments = [];\r\n\r\n        this.total = 0;\r\n        this.errors = [];\r\n\r\n        this.id = 1;\r\n\r\n        this.targetFocus = \"\";\r\n\r\n        this.columns = [\r\n            { field: \"treatment_id\", headerName: \"Tratamiento\" },\r\n            { field: \"piece\", headerName: \"Pieza\" },\r\n            { field: \"unit_price\", headerName: \"Precio\" },\r\n            { field: \"discount\", headerName: \"Dto.\" },\r\n            { field: \"total_price\", headerName: \"Total\" },\r\n        ];\r\n    }\r\n\r\n    getBudgeteds() {\r\n        return this.budgeteds;\r\n    }\r\n\r\n    addBudgeted(budgeted) {\r\n        this.budgeteds = [...this.budgeteds, budgeted];\r\n    }\r\n\r\n    updateBudgeted(updatedBudgeted) {\r\n        this.budgeteds = this.budgeteds.map((budgeted) =>\r\n            budgeted.id === updatedBudgeted.id ? updatedBudgeted : budgeted\r\n        );\r\n    }\r\n\r\n    deleteBudgeted(deletedBudgeted) {\r\n        this.budgeteds = this.budgeteds.filter((budgeted) => budgeted.id !== deletedBudgeted.id);\r\n    }\r\n\r\n    clearBudgeteds() {\r\n        this.budgeteds = [];\r\n    }\r\n\r\n    getBudgetedsEl() {\r\n        return this.budgetedsEl;\r\n    }\r\n\r\n    async readAllTreatments() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/treatments\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.treatments = response.treatments;\r\n    }\r\n\r\n    show() {\r\n        this.budgetedsEl = document.createElement(\"div\");\r\n        this.budgetedsEl.classList.add(\"budgeted\");\r\n\r\n        const wrapper = document.createElement(\"div\");\r\n        wrapper.classList.add(\"wrapper\");\r\n        this.budgetedsEl.appendChild(wrapper);\r\n\r\n        const table = this.createTable();\r\n        wrapper.appendChild(table);\r\n\r\n        const add = this.createAddRow();\r\n        this.budgetedsEl.appendChild(add);\r\n    }\r\n\r\n    repaint() {\r\n        this.show();\r\n    }\r\n\r\n    createTable() {\r\n        const table = document.createElement(\"table\");\r\n\r\n        const thead = this.createThead();\r\n        table.appendChild(thead);\r\n\r\n        this.tbody = this.createTbody();\r\n        table.appendChild(this.tbody);\r\n\r\n        const tfoot = this.createTfoot();\r\n        table.appendChild(tfoot);\r\n        return table;\r\n    }\r\n\r\n    createThead() {\r\n        const thead = document.createElement(\"thead\");\r\n\r\n        const tr = document.createElement(\"tr\");\r\n        thead.appendChild(tr);\r\n\r\n        this.columns.forEach((column) => {\r\n            const th = document.createElement(\"th\");\r\n            th.textContent = column.headerName;\r\n            tr.appendChild(th);\r\n        });\r\n\r\n        const thActions = document.createElement(\"th\");\r\n        thActions.textContent = \"\";\r\n        tr.appendChild(thActions);\r\n\r\n        return thead;\r\n    }\r\n\r\n    createTbody() {\r\n        const tbody = document.createElement(\"tbody\");\r\n\r\n        this.budgeteds.forEach((budgeted) => {\r\n            const row = this.createRow(budgeted);\r\n            tbody.appendChild(row);\r\n        });\r\n\r\n        return tbody;\r\n    }\r\n\r\n    createTfoot() {\r\n        const tfoot = document.createElement(\"tfoot\");\r\n\r\n        const tr = document.createElement(\"tr\");\r\n        tfoot.appendChild(tr);\r\n\r\n        const tdTotalText = document.createElement(\"td\");\r\n        tdTotalText.colSpan = this.columns.length - 1;\r\n        tdTotalText.textContent = \"Total\";\r\n        tr.appendChild(tdTotalText);\r\n\r\n        const tdTotalNumber = document.createElement(\"td\");\r\n        tdTotalNumber.textContent = this.getTotal().toFixed(2).replace(\".\", \",\");\r\n        tr.appendChild(tdTotalNumber);\r\n\r\n        return tfoot;\r\n    }\r\n\r\n    createRow(budgeted) {\r\n        const tr = document.createElement(\"tr\");\r\n\r\n        const tdTreatment = document.createElement(\"td\");\r\n        tr.appendChild(tdTreatment);\r\n\r\n        const inputTreatment = document.createElement(\"input\");\r\n        if (budgeted.errors) {\r\n            inputTreatment.classList.add(\"error\");\r\n        }\r\n        inputTreatment.type = \"text\";\r\n        inputTreatment.name = \"treatment\";\r\n        inputTreatment.value = budgeted.treatment ? budgeted.treatment.name : \"\";\r\n        inputTreatment.placeholder = \"Tratamiento\";\r\n        inputTreatment.addEventListener(\"input\", (e) => {\r\n            inputTreatment.classList.remove(\"error\");\r\n            inputPrice.classList.remove(\"error\");\r\n            budgeted.errors = null;\r\n            this.targetFocus = {\r\n                budgeted,\r\n                input: inputTreatment,\r\n                position: inputTreatment.selectionStart,\r\n            };\r\n        });\r\n\r\n        new MutationObserver(() => {\r\n            if (\r\n                this.targetFocus &&\r\n                this.targetFocus.budgeted === budgeted &&\r\n                this.targetFocus.input.isEqualNode(inputTreatment)\r\n            ) {\r\n                inputTreatment.focus();\r\n                inputTreatment.setSelectionRange(\r\n                    this.targetFocus.position,\r\n                    this.targetFocus.position\r\n                );\r\n            }\r\n        }).observe(tdTreatment, { childList: true });;\r\n        tdTreatment.appendChild(inputTreatment);\r\n\r\n        new _Autocomplete_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            target: inputTreatment,\r\n            data: this.treatments,\r\n            findFields: [\"name\", \"description\"],\r\n            showFields: [\"name\"],\r\n            size: 6,\r\n            callback: (treatment) => {\r\n                budgeted.treatment = treatment;\r\n                budgeted.unit_price = treatment ? treatment.price : null;\r\n                inputPrice.value = treatment ? treatment.price : \"\";\r\n                inputTotal.value = this.getTotalTreatment(budgeted).toFixed(2);\r\n                this.callback();\r\n            },\r\n        });\r\n\r\n        const tdPiece = document.createElement(\"td\");\r\n        tr.appendChild(tdPiece);\r\n\r\n        const inputPiece = document.createElement(\"input\");\r\n        inputPiece.type = \"text\";\r\n        inputPiece.name = \"piece\";\r\n        inputPiece.value = budgeted.piece ? budgeted.piece : \"\";\r\n        inputPiece.placeholder = \"Pieza\";\r\n        inputPiece.readOnly = true;\r\n        inputPiece.addEventListener(\"click\", async () => {\r\n            this.pieces = new _Pieces_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n                selectedPieces: budgeted.selectedPieces,\r\n                selectedGroup: budgeted.selectedGroup,\r\n                callback: () => {\r\n                    this.modal.repaint(this.pieces.getPiecesEl());\r\n                },\r\n            });\r\n\r\n            await this.pieces.init();\r\n\r\n            this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n                title: \"Seleccionar piezas\",\r\n                content: this.pieces.getPiecesEl(),\r\n                action: \"Seleccionar\",\r\n                actionCallback: async () => {\r\n                    const selectedPieces = this.pieces.getSelectedPieces();\r\n                    const selectedGroup = this.pieces.getSelectedGroup();\r\n\r\n                    budgeted.selectedPieces = selectedPieces;\r\n                    budgeted.selectedGroup = selectedGroup;\r\n\r\n                    if (selectedGroup) {\r\n                        budgeted.piece = selectedGroup.name;\r\n                    } else {\r\n                        budgeted.piece = selectedPieces.map((piece) => piece.number).join(\", \");\r\n                    }\r\n\r\n                    await this.modal.close();\r\n                    this.callback();\r\n                },\r\n            });\r\n        });\r\n        tdPiece.appendChild(inputPiece);\r\n\r\n        const tdPrice = document.createElement(\"td\");\r\n        tr.appendChild(tdPrice);\r\n\r\n        const inputPrice = document.createElement(\"input\");\r\n        if (budgeted.errors) {\r\n            inputPrice.classList.add(\"error\");\r\n        }\r\n        inputPrice.type = \"text\";\r\n        inputPrice.name = \"price\";\r\n        inputPrice.step = \"0.01\";\r\n        inputPrice.placeholder = \"0,00\";\r\n        inputPrice.value = budgeted.unit_price ? budgeted.unit_price : \"\";\r\n        inputPrice.addEventListener(\"input\", () => {\r\n            inputPrice.classList.remove(\"error\");\r\n            budgeted.errors = null;\r\n            if (budgeted.treatment) {\r\n                budgeted.unit_price = inputPrice.value;\r\n            }\r\n            this.targetFocus = { budgeted, input: inputPrice, position: inputPrice.selectionStart };\r\n            this.callback();\r\n        });\r\n\r\n        new MutationObserver(() => {\r\n            if (\r\n                this.targetFocus &&\r\n                this.targetFocus.budgeted === budgeted &&\r\n                this.targetFocus.input.isEqualNode(inputPrice)\r\n            ) {\r\n                inputPrice.focus();\r\n                inputPrice.setSelectionRange(this.targetFocus.position, this.targetFocus.position);\r\n            }\r\n        }).observe(tdPrice, { childList: true });\r\n        tdPrice.appendChild(inputPrice);\r\n\r\n        const tdDiscount = document.createElement(\"td\");\r\n        tr.appendChild(tdDiscount);\r\n\r\n        const inputDiscount = document.createElement(\"input\");\r\n        inputDiscount.type = \"text\";\r\n        inputDiscount.name = \"discount\";\r\n        inputDiscount.placeholder = \"0\";\r\n        inputDiscount.value = budgeted.discount ? budgeted.discount : \"\";\r\n        inputDiscount.addEventListener(\"input\", () => {\r\n            if (budgeted.treatment) {\r\n                budgeted.discount = inputDiscount.value;\r\n            }\r\n            this.targetFocus = {\r\n                budgeted,\r\n                input: inputDiscount,\r\n                position: inputDiscount.selectionStart,\r\n            };\r\n            this.callback();\r\n        });\r\n\r\n        new MutationObserver(() => {\r\n            if (\r\n                this.targetFocus &&\r\n                this.targetFocus.budgeted === budgeted &&\r\n                this.targetFocus.input.isEqualNode(inputDiscount)\r\n            ) {\r\n                inputDiscount.focus();\r\n                inputDiscount.setSelectionRange(\r\n                    this.targetFocus.position,\r\n                    this.targetFocus.position\r\n                );\r\n            }\r\n        }).observe(tdDiscount, { childList: true });\r\n        tdDiscount.appendChild(inputDiscount);\r\n\r\n        const tdTotal = document.createElement(\"td\");\r\n        tr.appendChild(tdTotal);\r\n\r\n        const inputTotal = document.createElement(\"input\");\r\n        inputTotal.type = \"number\";\r\n        inputTotal.name = \"total\";\r\n        inputTotal.step = \"0.01\";\r\n        inputTotal.placeholder = \"0.00\";\r\n        inputTotal.value = this.getTotalTreatment(budgeted).toFixed(2);\r\n        inputTotal.disabled = true;\r\n        tdTotal.appendChild(inputTotal);\r\n\r\n        const tdActions = document.createElement(\"td\");\r\n        tr.appendChild(tdActions);\r\n\r\n        const deleteButton = document.createElement(\"button\");\r\n        deleteButton.type = \"button\";\r\n        deleteButton.ariaLabel = \"Eliminar\";\r\n        deleteButton.addEventListener(\"click\", () => {\r\n            this.deleteBudgeted(budgeted);\r\n            this.callback();\r\n        });\r\n        tdActions.appendChild(deleteButton);\r\n\r\n        const deleteIcon = this.createDeleteIcon();\r\n        deleteButton.appendChild(deleteIcon);\r\n\r\n        return tr;\r\n    }\r\n\r\n    getTotalTreatment(budgeted) {\r\n        const priceValue = budgeted.unit_price ? parseFloat(budgeted.unit_price) : 0;\r\n        const discountValue = budgeted.discount ? parseFloat(budgeted.discount) : 0;\r\n        const discount = (priceValue * discountValue) / 100;\r\n        const total = priceValue - discount;\r\n\r\n        return total;\r\n    }\r\n\r\n    getTotal() {\r\n        return this.budgeteds.reduce((total, budgeted) => {\r\n            const priceValue = budgeted.unit_price ? parseFloat(budgeted.unit_price) : 0;\r\n            const discountValue = budgeted.discount ? parseFloat(budgeted.discount) : 0;\r\n            const discount = (priceValue * discountValue) / 100;\r\n            return total + priceValue - discount;\r\n        }, 0);\r\n    }\r\n\r\n    createAddRow() {\r\n        const addRow = document.createElement(\"div\");\r\n        addRow.classList.add(\"row\");\r\n\r\n        const addButton = document.createElement(\"button\");\r\n        addButton.type = \"button\";\r\n        addButton.ariaLabel = \"Añadir tratamiento\";\r\n        addButton.textContent = \"Añadir tratamiento\";\r\n        addButton.classList.add(\"btn\", \"primary-btn\");\r\n        addButton.addEventListener(\"click\", () => {\r\n            const budgeted = {\r\n                id: crypto.randomUUID(),\r\n                treatment: null,\r\n                piece: null,\r\n                unit_price: null,\r\n                discount: null,\r\n                selectedPieces: [],\r\n                selectedGroup: null,\r\n            };\r\n\r\n            this.addBudgeted(budgeted);\r\n\r\n            const row = this.createRow(budgeted);\r\n            this.tbody.appendChild(row);\r\n        });\r\n        addRow.appendChild(addButton);\r\n\r\n        return addRow;\r\n    }\r\n\r\n    createDeleteIcon() {\r\n        const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n        svg.setAttribute(\"width\", \"16\");\r\n        svg.setAttribute(\"height\", \"16\");\r\n        svg.setAttribute(\"fill\", \"currentColor\");\r\n        svg.setAttribute(\"viewBox\", \"0 0 16 16\");\r\n\r\n        const path1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n        path1.setAttribute(\"fill-rule\", \"evenodd\");\r\n        path1.setAttribute(\r\n            \"d\",\r\n            \"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"\r\n        );\r\n        svg.appendChild(path1);\r\n\r\n        const path2 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n        path2.setAttribute(\"fill-rule\", \"evenodd\");\r\n        path2.setAttribute(\r\n            \"d\",\r\n            \"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"\r\n        );\r\n        svg.appendChild(path2);\r\n\r\n        return svg;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Budgeteds);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Budgeteds.js?");

/***/ }),

/***/ "./src/js/classes/Budgets.js":
/*!***********************************!*\
  !*** ./src/js/classes/Budgets.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _Table_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Table.js */ \"./src/js/classes/Table.js\");\n/* harmony import */ var _Modal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Modal.js */ \"./src/js/classes/Modal.js\");\n/* harmony import */ var _Confirm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Confirm.js */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _Autocomplete_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Autocomplete.js */ \"./src/js/classes/Autocomplete.js\");\n/* harmony import */ var _Budgeteds_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Budgeteds.js */ \"./src/js/classes/Budgeteds.js\");\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./mio/Textarea.js */ \"./src/js/classes/mio/Textarea.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Budgets {\r\n    constructor() {\r\n        this.patients = [];\r\n        this.budgets = [];\r\n\r\n        this.budget = {\r\n            patient: null,\r\n            comment: \"Este presupuesto tiene una validez de 30 días naturales y puede variar por razón de los resultados de las pruebas radiológicas.\",\r\n            budgeteds: [],\r\n            errors: null,\r\n        };\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const budgetsTable = document.querySelector(\"#budgets-table\");\r\n        const budgetsSearch = document.querySelector(\"#budgets-search\");\r\n\r\n        if (budgetsTable) {\r\n            await this.readAllPatients();\r\n            await this.readAllBudgets();\r\n            this.showBudgetsTable();\r\n\r\n            const createBudgets = document.querySelector(\"#budget-create\");\r\n            createBudgets.addEventListener(\"click\", this.handleCreateBudget.bind(this));\r\n        }\r\n\r\n        if (budgetsSearch) {\r\n            this.createSearch();\r\n        }\r\n    }\r\n\r\n    resetBudget() {\r\n        this.budget = {\r\n            patient: null,\r\n            comment: \"\",\r\n            budgeteds: [],\r\n            errors: null,\r\n        };\r\n    }\r\n\r\n    async readAllBudgets() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/budgets\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.budgets = response.budgets;\r\n    }\r\n\r\n    async readAllPatients() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/patients\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.patients = response.patients;\r\n    }\r\n\r\n    async handleCreateBudget() {\r\n        this.budgeteds = new _Budgeteds_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            budgeteds: [...this.budget.budgeteds],\r\n            callback: () => {\r\n                this.budgeteds.repaint(this.budgeteds.getBudgeteds());\r\n                this.modal.repaint(this.createBudgetForm());\r\n            },\r\n        });\r\n\r\n        await this.budgeteds.readAllTreatments();\r\n        this.budgeteds.show();\r\n\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"Crear presupuesto\",\r\n            content: this.createBudgetForm(),\r\n            action: \"Crear\",\r\n            fullscreenButton: true,\r\n            actionCallback: () => this.createBudget(),\r\n            closeCallback: () => {\r\n                this.resetBudget();\r\n            },\r\n            maxWidth: \"800px\",\r\n        });\r\n    }\r\n\r\n    async createBudget() {\r\n        this.budget.budgeteds = this.budgeteds.getBudgeteds();\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/admin/budgets\", this.budget);\r\n\r\n        if (response.status === \"error\") {\r\n            if (response.type === \"budget\") {\r\n                this.budget.errors = response.errors;\r\n            }\r\n            if (response.type === \"budgeted\") {\r\n                this.budget.budgeteds.forEach((budgeted) => {\r\n                    response.errors.forEach((error) => {\r\n                        if (error.id === budgeted.id) {\r\n                            budgeted.errors = error.errors;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            this.budgeteds.repaint(this.budgeteds.getBudgeteds());\r\n            this.modal.repaint(this.createBudgetForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"¡Presupuesto creado!\",\r\n            message: \"El presupuesto ha sido creado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.addRow(response.budget);\r\n    }\r\n\r\n    async handleUpdateBudget(budget) {\r\n        this.budget = structuredClone(budget);\r\n\r\n        this.budgeteds = new _Budgeteds_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            budgeteds: this.budget.budgeteds,\r\n            callback: () => {\r\n                this.budgeteds.repaint(this.budgeteds.getBudgeteds());\r\n                this.modal.repaint(this.createBudgetForm());\r\n            },\r\n        });\r\n\r\n        await this.budgeteds.readAllTreatments();\r\n        this.budgeteds.show();\r\n\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"Actualizar presupuesto\",\r\n            content: this.createBudgetForm(),\r\n            action: \"Actualizar\",\r\n            fullscreenButton: true,\r\n            actionCallback: () => this.updateBudget(),\r\n            closeCallback: () => {\r\n                this.resetBudget();\r\n            },\r\n            maxWidth: \"800px\",\r\n        });\r\n    }\r\n\r\n    async updateBudget() {\r\n        this.budget.budgeteds = this.budgeteds.getBudgeteds();\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.put(\"/api/admin/budgets\", this.budget);\r\n\r\n        if (response.status === \"error\") {\r\n            if (response.type === \"budget\") {\r\n                this.budget.errors = response.errors;\r\n            }\r\n            if (response.type === \"budgeted\") {\r\n                this.budget.budgeteds.forEach((budgeted) => {\r\n                    response.errors.forEach((error) => {\r\n                        if (error.id === budgeted.id) {\r\n                            budgeted.errors = error.errors;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            this.budgeteds.repaint(this.budgeteds.getBudgeteds());\r\n            this.modal.repaint(this.createBudgetForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"¡Presupuesto actualizado!\",\r\n            message: \"El presupuesto ha sido actualziado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.updateRow(response.budget);\r\n    }\r\n\r\n    async deleteBudget(budget) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"¿Eliminar presupuesto?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar esta presupuesto? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/budgets\", budget);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"¡Presupuesto eliminado!\",\r\n            message: \"El presupuesto ha sido eliminado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRow(budget);\r\n    }\r\n\r\n    async deleteBudgets(selectedBudgets) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: `¿Eliminar ${selectedBudgets.length > 1 ? \"presupuestos\" : \"presupuesto\"}?`,\r\n            description: `¿Estás seguro de eliminar  ${\r\n                selectedBudgets.length > 1 ? \"estos presupuestos\" : \"esta presupuesto\"\r\n            }? Los datos no podrán ser recuperados.`,\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/budgets/multiple\", selectedBudgets);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡${\r\n                selectedBudgets.length > 1 ? \"Presupuestos eliminados\" : \"Presupuesto eliminado\"\r\n            }!`,\r\n            message: `${\r\n                selectedBudgets.length > 1\r\n                    ? \"Los presupuestos han sido eliminados\"\r\n                    : \"El presupuesto ha sido eliminado\"\r\n            } correctamente!`,\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRows(selectedBudgets);\r\n    }\r\n\r\n    createSearch() {\r\n        const form = document.querySelector(\"#budgets-search\");\r\n        form.addEventListener(\"keyup\", this.handleSearch.bind(this));\r\n\r\n        const search = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            label: {\r\n                text: \"Buscar presupuesto\",\r\n                for: \"search\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"search\",\r\n                id: \"search\",\r\n            },\r\n        });\r\n        const searchField = search.getField();\r\n        form.appendChild(searchField);\r\n    }\r\n\r\n    async handleSearch(e) {\r\n        const search = e.target.value;\r\n        this.table.searchRow(search);\r\n    }\r\n\r\n    createBudgetForm() {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n\r\n        const patient = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            label: {\r\n                text: \"Paciente\",\r\n                for: \"patient\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"patient\",\r\n                id: \"patient\",\r\n                value: this.budget.patient\r\n                    ? `${this.budget.patient.name} ${this.budget.patient.surname}`\r\n                    : \"\",\r\n            },\r\n            error: this.budget.errors && this.budget.errors.patient,\r\n            message:\r\n                this.budget.errors && this.budget.errors.patient ? this.budget.errors.patient : \"\",\r\n            callback: () => {\r\n                this.budget.errors = null;\r\n            },\r\n        });\r\n        const patientField = patient.getField();\r\n        form.appendChild(patientField);\r\n\r\n        new _Autocomplete_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            target: patientField.querySelector(\"input\"),\r\n            data: this.patients,\r\n            findFields: [\"name\", \"surname\"],\r\n            showFields: [\"name\", \"surname\"],\r\n            size: 6,\r\n            callback: (patient) => {\r\n                this.budget.patient = patient;\r\n            },\r\n        });\r\n\r\n        const comment = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            label: {\r\n                text: \"Comentario\",\r\n                for: \"comment\",\r\n            },\r\n            input: {\r\n                name: \"comment\",\r\n                id: \"comment\",\r\n                rows: 3,\r\n                value: this.budget.comment,\r\n            },\r\n            callback: (value) => {\r\n                this.budget.comment = value;\r\n            },\r\n        });\r\n        form.appendChild(comment.getField());\r\n\r\n        form.appendChild(this.budgeteds.getBudgetedsEl());\r\n\r\n        return form;\r\n    }\r\n\r\n    showBudgetsTable() {\r\n        const columns = [\r\n            { field: \"id\", headerName: \"Id\" },\r\n            { field: \"full_patient_name\", headerName: \"Paciente\" },\r\n            { field: \"total\", headerName: \"Total\" },\r\n            { field: \"created_at\", headerName: \"Fecha\" },\r\n        ];\r\n\r\n        const container = document.querySelector(\"#budgets-table\");\r\n\r\n        this.table = new _Table_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            columns,\r\n            rows: this.budgets,\r\n            container,\r\n            visibleRows: 10,\r\n            rowsPerPage: 15,\r\n            update: this.handleUpdateBudget.bind(this),\r\n            delete: this.deleteBudget.bind(this),\r\n            deleteSelected: this.deleteBudgets.bind(this),\r\n            showActionsMenu: true,\r\n            extraActions: [\r\n                {\r\n                    name: \"Generar PDF\",\r\n                    icon: _modules_Icon_js__WEBPACK_IMPORTED_MODULE_8__.icon.get(\"filePDF\"),\r\n                    callback: this.generatePDF.bind(this),\r\n                },\r\n                {\r\n                    name: \"Crear factura\",\r\n                    icon: _modules_Icon_js__WEBPACK_IMPORTED_MODULE_8__.icon.get(\"fileText\"),\r\n                    callback: this.createInvoice.bind(this),\r\n                },\r\n            ],\r\n        });\r\n    }\r\n\r\n    async generatePDF(budget) {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/admin/budgets/pdf\", budget);\r\n\r\n        const linkSource = `data:application/pdf;base64,${response.base64}`;\r\n        const downloadLink = document.createElement(\"a\");\r\n        const fileName = response.fileName;\r\n\r\n        downloadLink.href = linkSource;\r\n        downloadLink.download = fileName;\r\n        downloadLink.click();\r\n    }\r\n\r\n    async createInvoice(budget) {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/admin/invoices\", budget);\r\n\r\n        if (response.status === \"error\") {\r\n            await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n                type: \"error\",\r\n                title: \"Error al crear la factura\",\r\n                message: response.message,\r\n                timer: 3000,\r\n            });\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"¡Factura creada!\",\r\n            message: \"La factura ha sido creada correctamente.\",\r\n            timer: 3000,\r\n        });\r\n    }\r\n\r\n    dateFormat() {\r\n        const newDate = new Date(date);\r\n        const options = {\r\n            dateStyle: \"short\",\r\n        };\r\n        return new Intl.DateTimeFormat(\"es-ES\", options).format(newDate);\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Budgets);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Budgets.js?");

/***/ }),

/***/ "./src/js/classes/Cases.js":
/*!*********************************!*\
  !*** ./src/js/classes/Cases.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _CasesPost_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CasesPost.js */ \"./src/js/classes/CasesPost.js\");\n/* harmony import */ var _CasesPosts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CasesPosts.js */ \"./src/js/classes/CasesPosts.js\");\n/* harmony import */ var _CasesSearch_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CasesSearch.js */ \"./src/js/classes/CasesSearch.js\");\n/* harmony import */ var _CasesCategories_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CasesCategories.js */ \"./src/js/classes/CasesCategories.js\");\n/* harmony import */ var _CasesEditor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CasesEditor.js */ \"./src/js/classes/CasesEditor.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Cases {\r\n    constructor() {\r\n        this.post = new _CasesPost_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\n        this.posts = new _CasesPosts_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n        this.search = new _CasesSearch_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n        this.categories = new _CasesCategories_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n        this.editor = new _CasesEditor_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Cases);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Cases.js?");

/***/ }),

/***/ "./src/js/classes/CasesCategories.js":
/*!*******************************************!*\
  !*** ./src/js/classes/CasesCategories.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _Table_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Table.js */ \"./src/js/classes/Table.js\");\n/* harmony import */ var _Modal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Modal.js */ \"./src/js/classes/Modal.js\");\n/* harmony import */ var _Confirm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Confirm.js */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers.js */ \"./src/js/helpers.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CasesCategories {\r\n    constructor() {\r\n        this.categories = [];\r\n        this.category = null;\r\n\r\n        this.values = {\r\n            name: \"\",\r\n            alias: \"\",\r\n        };\r\n        this.errors = null;\r\n\r\n        this.columns = [\r\n            { field: \"id\", headerName: \"Id\" },\r\n            { field: \"name\", headerName: \"Nombre\" },\r\n            { field: \"alias\", headerName: \"Alias\" },\r\n        ];\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const casesCategories = document.querySelector(\"#cases-categories\");\r\n        const casesCategoriesTable = document.querySelector(\"#cases-categories-table\");\r\n        const casesCategoriesSearch = document.querySelector(\"#cases-categories-search\");\r\n\r\n        if (casesCategories) {\r\n            await this.readCategoriesInUse();\r\n            this.showCategoriesInUse();\r\n        }\r\n\r\n        if (casesCategoriesTable) {\r\n            await this.readAllCategories();\r\n            this.showCategoriesTable();\r\n\r\n            const createCategory = document.querySelector(\"#create-cases-category\");\r\n            createCategory.addEventListener(\"click\", this.handleCreateCategory.bind(this));\r\n        }\r\n\r\n        if (casesCategoriesSearch) {\r\n            this.createSearch();\r\n        }\r\n    }\r\n\r\n    setCategories(categories) {\r\n        this.categories = categories;\r\n    }\r\n\r\n    async readCategoriesInUse() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/cases/categories\");\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.setCategories(response.categories);\r\n    }\r\n\r\n    async readAllCategories() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/cases-categories\");\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.setCategories(response.categories);\r\n    }\r\n\r\n    resetValues() {\r\n        this.values = {\r\n            name: \"\",\r\n            alias: \"\",\r\n        };\r\n    }\r\n\r\n    handleCreateCategory() {\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"Crear categoría\",\r\n            content: this.createCategoryForm(),\r\n            action: \"Crear\",\r\n            actionCallback: () => this.createCategory(),\r\n            closeCallback: () => {\r\n                this.resetValues();\r\n                this.errors = null;\r\n            },\r\n        });\r\n    }\r\n\r\n    async createCategory() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/admin/cases-categories\", this.values);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.modal.repaint(this.createCategoryForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡Categoría creada!`,\r\n            message: \"La categoría ha sido creada correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.addRow(response.category);\r\n    }\r\n\r\n    handleUpdateCategory(category) {\r\n        this.category = category;\r\n        this.values = {\r\n            name: category.name,\r\n            alias: category.alias,\r\n        };\r\n\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"Actualizar categoría\",\r\n            content: this.createCategoryForm(),\r\n            action: \"Actualizar\",\r\n            actionCallback: () => this.updateCategory(),\r\n            closeCallback: () => {\r\n                this.resetValues();\r\n                this.errors = null;\r\n            },\r\n        });\r\n    }\r\n\r\n    async updateCategory() {\r\n        this.category = {\r\n            id: this.category.id,\r\n            name: this.values.name,\r\n            alias: this.values.alias,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.put(\"/api/admin/cases-categories\", this.category);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.modal.repaint(this.createCategoryForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡Categoría actualizada!`,\r\n            message: \"La categoría ha sido actualziada correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.updateRow(response.category);\r\n    }\r\n\r\n    async deleteCategory(category) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"¿Eliminar categoría?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar esta categoría? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const data = {\r\n            id: category.id,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/cases-categories\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"¡Categoría eliminada!\",\r\n            message: \"La categoría ha sido eliminada correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRow(category);\r\n    }\r\n\r\n    async deleteCategories(selectedCategories) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: `¿Eliminar ${selectedCategories.length > 1 ? \"categorías\" : \"categoría\"}?`,\r\n            description: `¿Estás seguro de eliminar  ${\r\n                selectedCategories.length > 1 ? \"estas categorías\" : \"esta categoría\"\r\n            }? Los datos no podrán ser recuperados.`,\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\r\n            \"/api/admin/cases-categories/multiple\",\r\n            selectedCategories\r\n        );\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡${\r\n                selectedCategories.length > 1 ? \"Categorías eliminadas\" : \"Categoría eliminada\"\r\n            }!`,\r\n            message: `${\r\n                selectedCategories.length > 1\r\n                    ? \"Las categorías han sido eliminadas\"\r\n                    : \"La categoría ha sido eliminada\"\r\n            } correctamente!`,\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRows(selectedCategories);\r\n    }\r\n\r\n    createSearch() {\r\n        const form = document.querySelector(\"#cases-categories-search\");\r\n        form.addEventListener(\"keyup\", this.handleSearch.bind(this));\r\n\r\n        const search = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Buscar categoría\",\r\n                for: \"search\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"search\",\r\n                id: \"search\",\r\n            },\r\n        });\r\n        const searchField = search.getField();\r\n        form.appendChild(searchField);\r\n    }\r\n\r\n    async handleSearch(e) {\r\n        const search = e.target.value;\r\n        this.table.searchRow(search);\r\n    }\r\n\r\n    createCategoryForm() {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n\r\n        const name = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Nombre\",\r\n                for: \"name\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"name\",\r\n                id: \"name\",\r\n                value: this.values ? this.values.name : \"\",\r\n            },\r\n            error: this.errors && this.errors.name,\r\n            message: this.errors && this.errors.name ? this.errors.name : \"\",\r\n            callback: (value) => {\r\n                this.values.name = value;\r\n                this.values.alias = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_6__.toSeoUrl)(value);\r\n                this.errors = null;\r\n                alias.setValue(this.values.alias);\r\n            },\r\n        });\r\n\r\n        const nameField = name.getField();\r\n        form.appendChild(nameField);\r\n\r\n        const alias = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Alias\",\r\n                for: \"alias\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"alias\",\r\n                id: \"alias\",\r\n                value: this.values ? this.values.alias : \"\",\r\n            },\r\n            error: this.errors && this.errors.alias,\r\n            message: this.errors && this.errors.alias ? this.errors.alias : \"\",\r\n        });\r\n\r\n        const aliasField = alias.getField();\r\n        form.appendChild(aliasField);\r\n\r\n        return form;\r\n    }\r\n\r\n    showCategoriesInUse() {\r\n        const categoriesContainer = document.querySelector(\"#cases-categories\");\r\n        const categoriesElements = this.createCategoriesFragment();\r\n        categoriesContainer.appendChild(categoriesElements);\r\n    }\r\n\r\n    showCategoriesTable() {\r\n        const categoriesContainer = document.querySelector(\"#cases-categories-table\");\r\n\r\n        this.table = new _Table_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            columns: this.columns,\r\n            rows: this.categories,\r\n            container: categoriesContainer,\r\n            visibleRows: 10,\r\n            rowsPerPage: 15,\r\n            update: this.handleUpdateCategory.bind(this),\r\n            delete: this.deleteCategory.bind(this),\r\n            deleteSelected: this.deleteCategories.bind(this),\r\n        });\r\n    }\r\n\r\n    createCategoriesFragment() {\r\n        const fragment = document.createDocumentFragment();\r\n\r\n        this.categories.forEach((category) => {\r\n            const categoryElement = this.createCategoryElement(category);\r\n            fragment.appendChild(categoryElement);\r\n        });\r\n\r\n        return fragment;\r\n    }\r\n\r\n    createCategoryElement(category) {\r\n        const anchor = document.createElement(\"a\");\r\n        anchor.href = `/casos/${category.alias}`;\r\n\r\n        const span = document.createElement(\"span\");\r\n        span.textContent = category.name;\r\n        anchor.appendChild(span);\r\n\r\n        const arrowRight = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_5__.icon.get(\"arrowRight\");\r\n        anchor.appendChild(arrowRight);\r\n\r\n        return anchor;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CasesCategories);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/CasesCategories.js?");

/***/ }),

/***/ "./src/js/classes/CasesEditor.js":
/*!***************************************!*\
  !*** ./src/js/classes/CasesEditor.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _UploadAdapter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UploadAdapter.js */ \"./src/js/classes/UploadAdapter.js\");\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n/* harmony import */ var _BeforeAndAfter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BeforeAndAfter.js */ \"./src/js/classes/BeforeAndAfter.js\");\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mio/Textarea.js */ \"./src/js/classes/mio/Textarea.js\");\n/* harmony import */ var _mio_Select_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mio/Select.js */ \"./src/js/classes/mio/Select.js\");\n/* harmony import */ var _InputFile_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./InputFile.js */ \"./src/js/classes/InputFile.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CasesEditor {\r\n    constructor() {\r\n        this.post = null;\r\n        this.categories = [];\r\n\r\n        this.values = {\r\n            title: \"\",\r\n            description: \"\",\r\n            category_id: \"\",\r\n            before_alt: \"\",\r\n            after_alt: \"\",\r\n            html: \"\",\r\n        };\r\n        this.errors = null;\r\n\r\n        this.previewBAF = false;\r\n        this.before = false;\r\n        this.after = false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const casesEditor = document.querySelector(\"#cases-editor\");\r\n\r\n        if (!casesEditor) {\r\n            return;\r\n        }\r\n\r\n        await this.loadCKEditor();\r\n        await this.readAllCategories();\r\n        await this.loadPost();\r\n        this.createEditorForm();\r\n        this.setFormEditorValues();\r\n    }\r\n\r\n    async loadCKEditor() {\r\n        const script = document.querySelector(\r\n            'script[src=\"/build/js/vendor/ckeditor/ckeditor.js\"]'\r\n        );\r\n        if (script) {\r\n            return;\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            const script = document.createElement(\"script\");\r\n            script.src = \"/build/js/vendor/ckeditor/ckeditor.js\";\r\n            script.onload = resolve;\r\n            script.onerror = reject;\r\n            document.body.appendChild(script);\r\n        });\r\n    }\r\n\r\n    createCKEditor() {\r\n        return new Promise((resolve, reject) => {\r\n            ClassicEditor.create(html, {\r\n                image: {\r\n                    toolbar: [\r\n                        \"imageStyle:inline\",\r\n                        \"imageStyle:wrapText\",\r\n                        \"imageStyle:breakText\",\r\n                        \"|\",\r\n                        \"toggleImageCaption\",\r\n                        \"imageTextAlternative\",\r\n                    ],\r\n                },\r\n                extraPlugins: [_UploadAdapter_js__WEBPACK_IMPORTED_MODULE_0__.CasesUploadAdapter],\r\n            })\r\n                .then((editor) => {\r\n                    this.editor = editor;\r\n                    if (this.values.html) {\r\n                        this.editor.setData(this.values.html);\r\n                    }\r\n                    resolve();\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                    reject();\r\n                });\r\n        });\r\n    }\r\n\r\n    async readAllCategories() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_1__.api.get(\"/api/admin/cases-categories\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.categories = response.categories;\r\n    }\r\n\r\n    async loadPost() {\r\n        const url = window.location.pathname;\r\n        const urlArray = url.split(\"/\").filter((item) => item);\r\n\r\n        if (urlArray.length === 2) {\r\n            return;\r\n        }\r\n\r\n        const post_id = urlArray[2];\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_1__.api.get(`/api/editor/cases/read/${post_id}`);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        this.post = response.post;\r\n\r\n        this.values = {\r\n            title: this.post.title,\r\n            description: this.post.description,\r\n            category_id: this.post.category_id,\r\n            before_alt: this.post.images.before.alt,\r\n            after_alt: this.post.images.after.alt,\r\n            html: this.post.html,\r\n        };\r\n    }\r\n\r\n    async createEditorForm() {\r\n        const casesEditor = document.querySelector(\"#cases-editor\");\r\n\r\n        this.formEditor = document.createElement(\"form\");\r\n        this.formEditor.classList.add(\"mio-form\");\r\n        this.formEditor.addEventListener(\"input\", (e) => this.handleInput(e));\r\n        this.formEditor.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n        casesEditor.appendChild(this.formEditor);\r\n\r\n        const colTitle = document.createElement(\"div\");\r\n        colTitle.classList.add(\"col\");\r\n        this.formEditor.appendChild(colTitle);\r\n\r\n        const h2Title = document.createElement(\"h2\");\r\n        h2Title.textContent = \"1. Título\";\r\n        colTitle.appendChild(h2Title);\r\n\r\n        const pTitle = document.createElement(\"p\");\r\n        pTitle.textContent = \"Máximo 255 caracteres\";\r\n        colTitle.appendChild(pTitle);\r\n\r\n        const title = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Título\",\r\n                for: \"title\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"title\",\r\n                id: \"title\",\r\n                value: this.values.title,\r\n            },\r\n            error: this.errors && this.errors.title,\r\n            message: this.errors && this.errors.title ? this.errors.title : \"\",\r\n            callback: (value) => {\r\n                this.values.title = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        colTitle.appendChild(title.getField());\r\n\r\n        const colDescription = document.createElement(\"div\");\r\n        colDescription.classList.add(\"col\");\r\n        this.formEditor.appendChild(colDescription);\r\n\r\n        const h2Description = document.createElement(\"h2\");\r\n        h2Description.textContent = \"2. Descripción\";\r\n        colDescription.appendChild(h2Description);\r\n\r\n        const pDescription = document.createElement(\"p\");\r\n        pDescription.textContent = \"Máximo 255 caracteres\";\r\n        colDescription.appendChild(pDescription);\r\n\r\n        const description = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Descripción\",\r\n                for: \"description\",\r\n            },\r\n            input: {\r\n                name: \"description\",\r\n                id: \"description\",\r\n                rows: 2,\r\n                value: this.values.description,\r\n            },\r\n            error: this.errors && this.errors.description,\r\n            message: this.errors && this.errors.description ? this.errors.description : \"\",\r\n            callback: (value) => {\r\n                this.values.description = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        colDescription.appendChild(description.getField());\r\n\r\n        const colCategory = document.createElement(\"div\");\r\n        colCategory.classList.add(\"col\");\r\n        this.formEditor.appendChild(colCategory);\r\n\r\n        const h2Category = document.createElement(\"h2\");\r\n        h2Category.textContent = \"3. Categoría\";\r\n        colCategory.appendChild(h2Category);\r\n\r\n        const pCategory = document.createElement(\"p\");\r\n        pCategory.textContent = \"Seleccionar la categoría a la que corresponde el post\";\r\n        colCategory.appendChild(pCategory);\r\n\r\n        const category = new _mio_Select_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            label: {\r\n                text: \"Categoría\",\r\n                for: \"category_id\",\r\n            },\r\n            select: {\r\n                name: \"category_id\",\r\n                id: \"category_id\",\r\n            },\r\n            option: {\r\n                value: \"id\",\r\n                text: \"name\",\r\n            },\r\n            options: this.categories,\r\n            selected: this.values.category_id ? { id: this.values.category_id } : null,\r\n            error: this.errors && this.errors.category_id,\r\n            message: this.errors && this.errors.category_id ? this.errors.category_id : \"\",\r\n            onSelect: (option) => {\r\n                this.values.category_id = option.id;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        colCategory.appendChild(category.getField());\r\n\r\n        const imagesRow = document.createElement(\"div\");\r\n        imagesRow.classList.add(\"row\");\r\n        this.formEditor.appendChild(imagesRow);\r\n\r\n        const colImageBefore = document.createElement(\"div\");\r\n        colImageBefore.classList.add(\"col\");\r\n        imagesRow.appendChild(colImageBefore);\r\n\r\n        const h2ImageBefore = document.createElement(\"h2\");\r\n        h2ImageBefore.textContent = \"4. Imagen antes\";\r\n        colImageBefore.appendChild(h2ImageBefore);\r\n\r\n        const pImageBefore = document.createElement(\"p\");\r\n        pImageBefore.textContent = \"Imagen antes. Recomendado 750px por 500px\";\r\n        colImageBefore.appendChild(pImageBefore);\r\n\r\n        if (this.inputFileAfter && this.inputFileAfter.getInput().files.length) {\r\n            colImageBefore.appendChild(this.inputFileAfter.getField());\r\n        } else {\r\n            this.inputFileAfter = new _InputFile_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n                label: {\r\n                    text: \"Selecciona una imagen...\",\r\n                    for: \"before\",\r\n                },\r\n                input: {\r\n                    name: \"before\",\r\n                    id: \"before\",\r\n                    accept: \"image/jpeg, image/png\",\r\n                },\r\n                error: this.errors && this.errors.image ? this.errors.image : \"\",\r\n                callback: (src) => {\r\n                    const input = this.inputFileAfter.getInput();\r\n                    const label = this.inputFileAfter.getLabel();\r\n                    this.previewImage(input, label, src);\r\n                },\r\n            });\r\n            colImageBefore.appendChild(this.inputFileAfter.getField());\r\n        }\r\n\r\n        const colImageAfter = document.createElement(\"div\");\r\n        colImageAfter.classList.add(\"col\");\r\n        imagesRow.appendChild(colImageAfter);\r\n\r\n        const h2ImageAfter = document.createElement(\"h2\");\r\n        h2ImageAfter.textContent = \"5. Imagen después\";\r\n        colImageAfter.appendChild(h2ImageAfter);\r\n\r\n        const pImageAfter = document.createElement(\"p\");\r\n        pImageAfter.textContent = \"Imagen después. Recomendado 750px por 500px\";\r\n        colImageAfter.appendChild(pImageAfter);\r\n\r\n        if (this.inputFileBefore && this.inputFileBefore.getInput().files.length) {\r\n            colImageAfter.appendChild(this.inputFileBefore.getField());\r\n        } else {\r\n            this.inputFileBefore = new _InputFile_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n                label: {\r\n                    text: \"Selecciona una imagen...\",\r\n                    for: \"after\",\r\n                },\r\n                input: {\r\n                    name: \"after\",\r\n                    id: \"after\",\r\n                    accept: \"image/jpeg, image/png\",\r\n                },\r\n                error: this.errors && this.errors.image ? this.errors.image : \"\",\r\n                callback: (src) => {\r\n                    const input = this.inputFileBefore.getInput();\r\n                    const label = this.inputFileBefore.getLabel();\r\n                    this.previewImage(input, label, src);\r\n                },\r\n            });\r\n            colImageAfter.appendChild(this.inputFileBefore.getField());\r\n        }\r\n\r\n        const imagesDescriptionRow = document.createElement(\"div\");\r\n        imagesDescriptionRow.classList.add(\"row\");\r\n        this.formEditor.appendChild(imagesDescriptionRow);\r\n\r\n        const colBeforeAlt = document.createElement(\"div\");\r\n        colBeforeAlt.classList.add(\"before-alt\");\r\n        imagesDescriptionRow.appendChild(colBeforeAlt);\r\n\r\n        const h2BeforeAlt = document.createElement(\"h2\");\r\n        h2BeforeAlt.textContent = \"6. Descripción imagen antes\";\r\n        colBeforeAlt.appendChild(h2BeforeAlt);\r\n\r\n        const pBeforeAlt = document.createElement(\"p\");\r\n        pBeforeAlt.textContent = \"Descripción para imagen antes. Máximo 255 caracteres\";\r\n        colBeforeAlt.appendChild(pBeforeAlt);\r\n\r\n        const beforeAlt = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Descripción imagen antes\",\r\n                for: \"before-alt\",\r\n            },\r\n            input: {\r\n                name: \"before-alt\",\r\n                id: \"before-alt\",\r\n                rows: 2,\r\n                value: this.values.before_alt,\r\n            },\r\n            error: this.errors && this.errors.before_alt,\r\n            message: this.errors && this.errors.before_alt ? this.errors.before_alt : \"\",\r\n            callback: () => {\r\n                this.errors = null;\r\n            },\r\n        });\r\n        colBeforeAlt.appendChild(beforeAlt.getField());\r\n\r\n        const colAfterAlt = document.createElement(\"div\");\r\n        colAfterAlt.classList.add(\"before-alt\");\r\n        imagesDescriptionRow.appendChild(colAfterAlt);\r\n\r\n        const h2AfterAlt = document.createElement(\"h2\");\r\n        h2AfterAlt.textContent = \"7. Descripción imagen después\";\r\n        colAfterAlt.appendChild(h2AfterAlt);\r\n\r\n        const pAfterAlt = document.createElement(\"p\");\r\n        pAfterAlt.textContent = \"Descripción para imagen después. Máximo 255 caracteres\";\r\n        colAfterAlt.appendChild(pAfterAlt);\r\n\r\n        const afterAlt = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Descripción imagen después\",\r\n                for: \"after-alt\",\r\n            },\r\n            input: {\r\n                name: \"after-alt\",\r\n                id: \"after-alt\",\r\n                rows: 2,\r\n                value: this.values.after_alt,\r\n            },\r\n            error: this.errors && this.errors.after_alt,\r\n            message: this.errors && this.errors.after_alt ? this.errors.after_alt : \"\",\r\n            callback: () => {\r\n                this.errors = null;\r\n            },\r\n        });\r\n        colAfterAlt.appendChild(afterAlt.getField());\r\n\r\n        const colPreview = document.createElement(\"div\");\r\n        colPreview.classList.add(\"col\");\r\n        this.formEditor.appendChild(colPreview);\r\n\r\n        const h2Preview = document.createElement(\"h2\");\r\n        h2Preview.textContent = \"8. Previsualización\";\r\n        colPreview.appendChild(h2Preview);\r\n\r\n        const pPreview = document.createElement(\"p\");\r\n        pPreview.textContent = \"Vista previa del deslizador antes y después\";\r\n        colPreview.appendChild(pPreview);\r\n\r\n        const bafPreview = document.createElement(\"div\");\r\n        bafPreview.id = \"baf-preview\";\r\n        bafPreview.classList.add(\"field\", \"baf-preview\");\r\n        colPreview.appendChild(bafPreview);\r\n\r\n        const colHTML = document.createElement(\"div\");\r\n        colHTML.classList.add(\"col\");\r\n        this.formEditor.appendChild(colHTML);\r\n\r\n        const h2HTML = document.createElement(\"h2\");\r\n        h2HTML.textContent = \"9. Contenido\";\r\n        colHTML.appendChild(h2HTML);\r\n\r\n        const pHTML = document.createElement(\"p\");\r\n        pHTML.textContent = \"Contenido principal del post\";\r\n        colHTML.appendChild(pHTML);\r\n\r\n        const fieldHTML = document.createElement(\"div\");\r\n        fieldHTML.classList.add(\"field\");\r\n        if (this.errors && this.errors.html) {\r\n            fieldHTML.classList.add(\"error\");\r\n        }\r\n        colHTML.appendChild(fieldHTML);\r\n\r\n        const html = document.createElement(\"textarea\");\r\n        html.id = \"html\";\r\n        html.name = \"html\";\r\n        fieldHTML.appendChild(html);\r\n\r\n        await this.createCKEditor(html);\r\n\r\n        this.editor.model.document.on(\"change:data\", () => {\r\n            fieldHTML.classList.remove(\"error\");\r\n            if (fieldHTML.querySelector(\".error-message\")) {\r\n                fieldHTML.querySelector(\".error-message\").remove();\r\n            }\r\n            this.values.html = this.editor.getData();\r\n        });\r\n\r\n        if (this.post) {\r\n            this.editor.setData(this.values.html);\r\n        }\r\n\r\n        if (this.errors && this.errors.image) {\r\n            const errorMessage = document.createElement(\"p\");\r\n            errorMessage.classList.add(\"error-message\");\r\n            errorMessage.textContent = this.errors.html;\r\n            fieldHTML.appendChild(errorMessage);\r\n        }\r\n\r\n        const submitField = document.createElement(\"div\");\r\n        submitField.classList.add(\"field\");\r\n        this.formEditor.appendChild(submitField);\r\n\r\n        const submit = document.createElement(\"input\");\r\n        submit.type = \"submit\";\r\n        submit.value = this.post ? \"Actualizar post\" : \"Crear post\";\r\n        submit.classList.add(\"btn\", \"primary-btn\");\r\n        submitField.appendChild(submit);\r\n    }\r\n\r\n    async handleInput(e) {\r\n        const targetInput = e.target;\r\n        const beforeInput = document.querySelector(\"#before\");\r\n        const afterInput = document.querySelector(\"#after\");\r\n\r\n        this[targetInput.name] = true;\r\n\r\n        if (beforeInput.value && afterInput.value && !this.previewBAF) {\r\n            this.previewBAF = true;\r\n            const beforFiles = beforeInput.files[0];\r\n            const afterFiles = afterInput.files[0];\r\n\r\n            const beforeSrc = URL.createObjectURL(beforFiles);\r\n            const afterSrc = URL.createObjectURL(afterFiles);\r\n\r\n            this.prevewBeforeAndAfter(beforeSrc, afterSrc);\r\n            return;\r\n        }\r\n\r\n        if (this.isEdit() && this.before && this.after && !this.previewBAF) {\r\n            this.previewBAF = true;\r\n\r\n            if (targetInput.name === \"before\") {\r\n                const afterSrc = `/build/img/casos/${this.post.images.after.src}`;\r\n                const beforFiles = beforeInput.files[0];\r\n                const beforeSrc = URL.createObjectURL(beforFiles);\r\n                this.prevewBeforeAndAfter(beforeSrc, afterSrc);\r\n            }\r\n\r\n            if (targetInput.name === \"after\") {\r\n                const beforeSrc = `/build/img/casos/${this.post.images.before.src}`;\r\n                const afterFiles = afterInput.files[0];\r\n                const afterSrc = URL.createObjectURL(afterFiles);\r\n                this.prevewBeforeAndAfter(beforeSrc, afterSrc);\r\n            }\r\n        }\r\n    }\r\n\r\n    async handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const data = new FormData(e.currentTarget);\r\n        data.append(\"html\", this.editor.getData());\r\n        if (this.post) {\r\n            data.append(\"id\", this.post.id);\r\n        }\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_1__.api.post(\r\n            `/api/editor/cases/${this.post ? \"update\" : \"create\"}`,\r\n            data\r\n        );\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.formEditor.remove();\r\n            this.createEditorForm();\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_1__.popup.open({\r\n            type: \"success\",\r\n            title: `¡Post ${this.post ? \"actualizado\" : \"creado\"} correctamente!`,\r\n            message: \"Serás redirigido a los casos\",\r\n            timer: 3000,\r\n        });\r\n\r\n        window.location.href = \"/casos\";\r\n    }\r\n\r\n    setFormEditorValues() {\r\n        if (!this.isEdit()) {\r\n            return;\r\n        }\r\n\r\n        const beforeInput = document.querySelector(\"#before\");\r\n        const beforeLabel = document.querySelector(\"label[for='before']\");\r\n        const beforeSrc = `/build/img/casos/${this.post.images.before.src}`;\r\n        this.before = true;\r\n\r\n        this.previewImage(beforeInput, beforeLabel, beforeSrc);\r\n\r\n        const afterInput = document.querySelector(\"#after\");\r\n        const afterLabel = document.querySelector(\"label[for='after']\");\r\n        const afterSrc = `/build/img/casos/${this.post.images.after.src}`;\r\n        this.after = true;\r\n\r\n        this.previewImage(afterInput, afterLabel, afterSrc);\r\n\r\n        this.prevewBeforeAndAfter(beforeSrc, afterSrc);\r\n    }\r\n\r\n    async previewImage(input, label, src) {\r\n        label.classList.add(\"hidden\");\r\n\r\n        const preview = document.createElement(\"div\");\r\n        preview.classList.add(\"image-preview\");\r\n        input.parentElement.appendChild(preview);\r\n\r\n        const image = await this.createImage(src);\r\n        preview.appendChild(image);\r\n\r\n        const closeButton = document.createElement(\"button\");\r\n        closeButton.classList.add(\"close\");\r\n        closeButton.type = \"button\";\r\n        closeButton.addEventListener(\"click\", () => {\r\n            input.value = \"\";\r\n            label.classList.remove(\"hidden\");\r\n\r\n            preview.remove();\r\n            if (this.beforeAndAfter) {\r\n                this.beforeAndAfter.destroy();\r\n            }\r\n\r\n            this.previewBAF = false;\r\n            this[input.name] = false;\r\n        });\r\n        preview.appendChild(closeButton);\r\n\r\n        const closeIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_2__.icon.get(\"xLg\");\r\n        closeButton.appendChild(closeIcon);\r\n    }\r\n\r\n    createImage(src, alt = \"\") {\r\n        return new Promise((resolve, reject) => {\r\n            const image = new Image();\r\n\r\n            image.src = src;\r\n            image.alt = alt;\r\n\r\n            image.addEventListener(\"load\", () => resolve(image));\r\n            image.addEventListener(\"error\", () => reject(new Error(\"Error loading image\")));\r\n        });\r\n    }\r\n\r\n    async prevewBeforeAndAfter(beforeSrc, afterSrc) {\r\n        const before = await this.createImage(beforeSrc);\r\n        const after = await this.createImage(afterSrc);\r\n\r\n        const preview = document.querySelector(\"#baf-preview\");\r\n        this.beforeAndAfter = new _BeforeAndAfter_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](preview, before, after);\r\n    }\r\n\r\n    isEdit() {\r\n        const url = window.location.pathname;\r\n        const urlArray = url.split(\"/\").filter((item) => item);\r\n        return urlArray.length > 2 ? true : false;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CasesEditor);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/CasesEditor.js?");

/***/ }),

/***/ "./src/js/classes/CasesPost.js":
/*!*************************************!*\
  !*** ./src/js/classes/CasesPost.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _Confirm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Confirm.js */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _BeforeAndAfter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BeforeAndAfter.js */ \"./src/js/classes/BeforeAndAfter.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n\r\n\r\n\r\n\r\n\r\nclass CasesPost {\r\n    constructor(post) {\r\n        this.post = post || null;\r\n        this.auth= false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const post = document.querySelector(\"#cases-post\");\r\n\r\n        if (post) {\r\n            await this.readPost();\r\n            this.showPost();\r\n        }\r\n    }\r\n\r\n    setPost(post) {\r\n        this.post = post;\r\n    }\r\n\r\n    setAuth(auth) {\r\n        this.auth = auth;\r\n    }\r\n\r\n    async readPost() {\r\n        const post = window.location.pathname.split(\"/\").pop();\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(`/api/cases/post/${post}`);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        this.setPost(response.post);\r\n        this.setAuth(response.auth);\r\n    }\r\n\r\n    showPost() {\r\n        const postContainer = document.querySelector(\"#cases-post\");\r\n        const postElement = this.createPost();\r\n        postContainer.appendChild(postElement);\r\n    }\r\n\r\n    createPost() {\r\n        const article = document.createElement(\"article\");\r\n\r\n        const header = document.createElement(\"header\");\r\n        article.appendChild(header);\r\n\r\n        const h1 = document.createElement(\"h1\");\r\n        h1.textContent = this.post.title;\r\n        header.appendChild(h1);\r\n\r\n        if (this.auth) {\r\n            const actions = document.createElement(\"div\");\r\n            actions.classList.add(\"actions\");\r\n            header.appendChild(actions);\r\n\r\n            const edit = document.createElement(\"a\");\r\n            edit.classList.add(\"edit\");\r\n            edit.href = `/editor/casos/${this.post.alias}`;\r\n            actions.appendChild(edit);\r\n\r\n            const editIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_3__.icon.get(\"pencilSquare\");\r\n            edit.appendChild(editIcon);\r\n\r\n            const remove = document.createElement(\"button\");\r\n            remove.classList.add(\"remove\");\r\n            remove.addEventListener(\"click\", this.deletePost.bind(this, this.post));\r\n            actions.appendChild(remove);\r\n\r\n            const removeIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_3__.icon.get(\"trash\");\r\n            remove.appendChild(removeIcon);\r\n        }\r\n\r\n        const bafContainer = document.createElement(\"div\");\r\n        bafContainer.classList.add(\"baf-container\");\r\n        article.appendChild(bafContainer);\r\n\r\n        const beforeImg = document.createElement(\"img\");\r\n        beforeImg.src = `/build/img/casos/${this.post.images.before.src}`;\r\n        beforeImg.alt = this.post.images.before.alt;\r\n\r\n        const afterImg = document.createElement(\"img\");\r\n        afterImg.src = `/build/img/casos/${this.post.images.after.src}`;\r\n        afterImg.alt = this.post.images.after.alt;\r\n\r\n        this.beforeAndAfter = new _BeforeAndAfter_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](bafContainer, beforeImg, afterImg);\r\n\r\n        const body = document.createElement(\"div\");\r\n        body.classList.add(\"body\");\r\n        body.innerHTML = this.post.html;\r\n        article.appendChild(body);\r\n\r\n        return article;\r\n    }\r\n\r\n    async deletePost(post) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            title: \"¿Eliminar post?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar este post? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const data = {\r\n            id: post.id,\r\n            before_id: post.before_id,\r\n            after_id: post.after_id,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/blog\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"¡Post eliminado correctamente!\",\r\n            message: \"Serás redirigido al blog\",\r\n            timer: 3000,\r\n        });\r\n\r\n        window.location.href = \"/blog\";\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CasesPost);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/CasesPost.js?");

/***/ }),

/***/ "./src/js/classes/CasesPosts.js":
/*!**************************************!*\
  !*** ./src/js/classes/CasesPosts.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _Pagination_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Pagination.js */ \"./src/js/classes/Pagination.js\");\n/* harmony import */ var _Confirm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Confirm.js */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _BeforeAndAfter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BeforeAndAfter.js */ \"./src/js/classes/BeforeAndAfter.js\");\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers.js */ \"./src/js/helpers.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CasesPosts {\r\n    constructor() {\r\n        this.posts = [];\r\n        this.latestPosts = [];\r\n\r\n        this.page = 1;\r\n        this.limit = 5;\r\n        this.total = 0;\r\n\r\n        this.category = \"\";\r\n        this.search = \"\";\r\n\r\n        this.auth= false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const posts = document.querySelector(\"#cases-posts\");\r\n\r\n        if (posts) {\r\n            await this.readPosts();\r\n            this.showPosts();\r\n        }\r\n\r\n        const postsByCategory = document.querySelector(\"#cases-posts-by-category\");\r\n\r\n        if (postsByCategory) {\r\n            await this.readPostsByCategory();\r\n            this.showPostsByCategory();\r\n        }\r\n\r\n        const postsBySearch = document.querySelector(\"#cases-posts-by-search\");\r\n\r\n        if (postsBySearch) {\r\n            await this.readPostsBySearch();\r\n            this.showPostsBySearch();\r\n        }\r\n    }\r\n\r\n    setPosts(posts) {\r\n        this.posts = posts;\r\n    }\r\n\r\n    setLatestPosts(latestPosts) {\r\n        this.latestPosts = latestPosts;\r\n    }\r\n\r\n    setPage(page) {\r\n        this.page = page;\r\n    }\r\n\r\n    setLimit(limit) {\r\n        this.limit = limit;\r\n    }\r\n\r\n    setCategory(category) {\r\n        this.category = category;\r\n    }\r\n\r\n    setSearch(search) {\r\n        this.search = search;\r\n    }\r\n\r\n    setAuth(auth) {\r\n        this.auth = auth;\r\n    }\r\n\r\n    setTotal(total) {\r\n        this.total = total;\r\n    }\r\n\r\n    updatePost(updatedPost) {\r\n        this.posts = this.posts.map((post) => (post.id === updatedPost.id ? updatedPost : post));\r\n    }\r\n\r\n    deletePost(deletedPost) {\r\n        this.posts = this.posts.filter((post) => post.id !== deletedPost.id);\r\n    }\r\n\r\n    clearPosts() {\r\n        this.posts = [];\r\n    }\r\n\r\n    async readPosts() {\r\n        const url = window.location.pathname;\r\n        const urlArray = url.split(\"/\");\r\n        const pageExists = urlArray.includes(\"page\");\r\n        const page = pageExists ? Number(urlArray.pop()) : 1;\r\n\r\n        this.setPage(page);\r\n        this.setLimit(page === 1 ? 5 : 6);\r\n\r\n        const data = {\r\n            page: this.page,\r\n            limit: this.limit,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/cases\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        if (!response.posts.length && this.page > 1) {\r\n            window.location.href = \"/casos\";\r\n            return;\r\n        }\r\n\r\n        this.setPosts(response.posts);\r\n        this.setTotal(response.total);\r\n        this.setAuth(response.auth);\r\n    }\r\n\r\n    async readPostsByCategory() {\r\n        const url = window.location.pathname;\r\n        const urlArray = url.split(\"/\");\r\n        const pageExists = urlArray.includes(\"page\");\r\n        const category = pageExists ? urlArray[2] : urlArray.pop();\r\n        const page = pageExists ? Number(urlArray.pop()) : 1;\r\n\r\n        this.setCategory(category);\r\n        this.setPage(page);\r\n        this.setLimit(page === 1 ? 5 : 6);\r\n\r\n        const data = {\r\n            category: this.category,\r\n            page: this.page,\r\n            limit: this.limit,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/cases/category\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        if (!response.posts.length && this.page > 1) {\r\n            window.location.href = `/casos/${category}`;\r\n            return;\r\n        }\r\n\r\n        this.setPosts(response.posts);\r\n        this.setTotal(response.total);\r\n        this.setAuth(response.auth);\r\n    }\r\n\r\n    async readPostsBySearch() {\r\n        const url = window.location.pathname;\r\n        const urlArray = url.split(\"/\");\r\n        const pageExists = urlArray.includes(\"page\");\r\n        const search = pageExists ? urlArray[3] : urlArray.pop();\r\n        const page = pageExists ? Number(urlArray.pop()) : 1;\r\n\r\n        this.setSearch(search);\r\n        this.setPage(page);\r\n        this.setLimit(page === 1 ? 5 : 6);\r\n\r\n        const formatSearch = search.split(\"+\").join(\" \");\r\n\r\n        const data = {\r\n            search: formatSearch,\r\n            page: this.page,\r\n            limit: this.limit,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/cases/search\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        if (!response.posts.length && this.page > 1) {\r\n            window.location.href = `/casos/search/${search}`;\r\n            return;\r\n        }\r\n\r\n        this.setPosts(response.posts);\r\n        this.setTotal(response.total);\r\n        this.setAuth(response.auth);\r\n    }\r\n\r\n    showPosts() {\r\n        const postsContainer = document.querySelector(\"#cases-posts\");\r\n        const postsElements = this.createPosts();\r\n        postsContainer.appendChild(postsElements);\r\n\r\n        new _Pagination_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.page, this.limit, this.total, \"/casos\");\r\n    }\r\n\r\n    showPostsByCategory() {\r\n        const postsByCategoryContainer = document.querySelector(\"#cases-posts-by-category\");\r\n        const postsElements = this.createPosts();\r\n        postsByCategoryContainer.appendChild(postsElements);\r\n\r\n        new _Pagination_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.page, this.limit, this.total, `/casos/${this.category}`);\r\n    }\r\n\r\n    showPostsBySearch() {\r\n        const postsBySearchContainer = document.querySelector(\"#cases-posts-by-search\");\r\n        const postsElements = this.createPosts();\r\n        postsBySearchContainer.appendChild(postsElements);\r\n\r\n        new _Pagination_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.page, this.limit, this.total, `/casos/search/${this.search}`);\r\n    }\r\n\r\n    createPosts() {\r\n        const fragment = document.createDocumentFragment();\r\n\r\n        if (!this.posts.length) {\r\n            const message = document.createElement(\"p\");\r\n            message.textContent = \"No se encontraron posts\";\r\n            fragment.appendChild(message);\r\n        }\r\n\r\n        this.posts.forEach((post, index) => {\r\n            const postElement = this.createPost(post, index);\r\n            fragment.appendChild(postElement);\r\n        });\r\n\r\n        return fragment;\r\n    }\r\n\r\n    createPost(post, index) {\r\n        const article = document.createElement(\"article\");\r\n        if (this.page === 1 && index === 0) {\r\n            article.classList.add(\"post-big\");\r\n        }\r\n\r\n        const image = document.createElement(\"div\");\r\n        image.classList.add(\"image\");\r\n        article.appendChild(image);\r\n\r\n        const beforeImg = document.createElement(\"img\");\r\n        beforeImg.src = `/build/img/casos/${post.images.before.src}`;\r\n        beforeImg.alt = post.images.before.alt;\r\n\r\n        const afterImg = document.createElement(\"img\");\r\n        afterImg.src = `/build/img/casos/${post.images.after.src}`;\r\n        afterImg.alt = post.images.after.alt;\r\n\r\n        this.beforeAndAfter = new _BeforeAndAfter_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](image, beforeImg, afterImg);\r\n\r\n        const title = document.createElement(\"h2\");\r\n        title.classList.add(\"title\");\r\n        article.appendChild(title);\r\n\r\n        const titleAnchor = document.createElement(\"a\");\r\n        titleAnchor.href = `/casos/${post.category_alias}/${post.alias}`;\r\n        titleAnchor.textContent = post.title;\r\n        title.appendChild(titleAnchor);\r\n\r\n        const description = document.createElement(\"p\");\r\n        description.classList.add(\"description\");\r\n        description.textContent = post.description;\r\n        article.appendChild(description);\r\n\r\n        const row = document.createElement(\"div\");\r\n        row.classList.add(\"row\");\r\n        article.appendChild(row);\r\n\r\n        const date = document.createElement(\"time\");\r\n        date.classList.add(\"date\");\r\n        date.textContent = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_4__.dateFormat)(post.created_at);\r\n        row.appendChild(date);\r\n\r\n        const author = document.createElement(\"a\");\r\n        author.classList.add(\"author\");\r\n        author.textContent = `By ${post.author}`;\r\n        author.href = \"/casos\";\r\n        row.appendChild(author);\r\n\r\n        if (this.auth) {\r\n            const actions = document.createElement(\"div\");\r\n            actions.classList.add(\"actions\");\r\n            row.appendChild(actions);\r\n\r\n            const edit = document.createElement(\"a\");\r\n            edit.classList.add(\"edit\");\r\n            edit.href = `/editor/casos/${post.alias}`;\r\n            actions.appendChild(edit);\r\n\r\n            const editIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_5__.icon.get(\"pencilSquare\");\r\n            edit.appendChild(editIcon);\r\n\r\n            const remove = document.createElement(\"button\");\r\n            remove.classList.add(\"remove\");\r\n            remove.addEventListener(\"click\", this.deletePost.bind(this, post));\r\n            actions.appendChild(remove);\r\n\r\n            const removeIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_5__.icon.get(\"trash\");\r\n            remove.appendChild(removeIcon);\r\n        }\r\n\r\n        if (this.page === 1 && index === 0) {\r\n            const readMore = document.createElement(\"a\");\r\n            readMore.classList.add(\"read-more\");\r\n            readMore.href = `/casos/${post.category_alias}/${post.alias}`;\r\n            row.appendChild(readMore);\r\n\r\n            const span = document.createElement(\"span\");\r\n            span.textContent = \"Leer más\";\r\n            readMore.appendChild(span);\r\n\r\n            const arrowRight = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_5__.icon.get(\"arrowRight\");\r\n            readMore.appendChild(arrowRight);\r\n        }\r\n\r\n        return article;\r\n    }\r\n\r\n    async deletePost(post) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"¿Eliminar post?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar este post? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n        \r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const data = {\r\n            id: post.id,\r\n            before_id: post.before_id,\r\n            after_id: post.after_id,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/cases\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"¡Post eliminado correctamente!\",\r\n            message: \"Serás redirigido a los casos\",\r\n            timer: 3000,\r\n        });\r\n\r\n        window.location.href = \"/casos\";\r\n    }\r\n\r\n    createImage(src, alt = \"\") {\r\n        return new Promise((resolve, reject) => {\r\n            const image = new Image();\r\n\r\n            image.src = src;\r\n            image.alt = alt;\r\n\r\n            image.addEventListener(\"load\", () => resolve(image));\r\n            image.addEventListener(\"error\", () => reject(new Error(\"Error loading image\")));\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CasesPosts);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/CasesPosts.js?");

/***/ }),

/***/ "./src/js/classes/CasesSearch.js":
/*!***************************************!*\
  !*** ./src/js/classes/CasesSearch.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n\r\n\r\n\r\nclass CasesSearch {\r\n    constructor() {\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        const searchForm = document.querySelector(\"#cases-search-form\");\r\n\r\n        if (searchForm) {\r\n            this.createSearch();\r\n        }\r\n    }\r\n\r\n    createSearch() {\r\n        const form = document.querySelector(\"#cases-search-form\");\r\n        form.addEventListener(\"submit\", this.handleSearch.bind(this));\r\n\r\n        const search = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n            label: {\r\n                text: \"Buscar\",\r\n                for: \"search\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"search\",\r\n                id: \"search\",\r\n            },\r\n        });\r\n\r\n        const searchField = search.getField();\r\n        form.appendChild(searchField);\r\n\r\n        const field = document.createElement(\"div\");\r\n        field.classList.add(\"field\");\r\n        form.appendChild(field);\r\n\r\n        const button = document.createElement(\"button\");\r\n        button.classList.add(\"btn\", \"primary-btn\");\r\n        button.type = \"submit\";\r\n        button.ariaLabel = \"Buscar\";\r\n        field.appendChild(button);\r\n\r\n        const searchIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__.icon.get(\"search\");\r\n        button.appendChild(searchIcon);\r\n    }\r\n\r\n    async handleSearch(e) {\r\n        e.preventDefault();\r\n\r\n        const data = new FormData(e.target);\r\n        const entries = Object.fromEntries(data);\r\n\r\n        const search = entries.search.trim().toLowerCase().split(\" \").join(\"+\");\r\n\r\n        window.location.href = `/casos/search/${search}`;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CasesSearch);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/CasesSearch.js?");

/***/ }),

/***/ "./src/js/classes/Collapse.js":
/*!************************************!*\
  !*** ./src/js/classes/Collapse.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Collapse {\r\n    constructor(target, container, collapsed) {\r\n        this.target = target;\r\n        this.container = container;\r\n\r\n        this.collapsed = collapsed;\r\n        this.type = collapsed;\r\n\r\n        this.start = false;\r\n\r\n        if (this.target) {\r\n            this.target.addEventListener('click', this.toggle.bind(this));\r\n        }\r\n    }\r\n\r\n    async toggle() {\r\n        this.setStart(true);\r\n        this.toggleClass();\r\n\r\n        if (this.collapsed) {\r\n            this.setCollapsed(false);\r\n            await this.expandEl();\r\n        } else {\r\n            this.setCollapsed(true);\r\n            await this.collapseEl();\r\n        }\r\n\r\n        this.heightAuto();\r\n        this.clean();\r\n        this.setStart(false);\r\n    }\r\n\r\n    async expand() {\r\n        this.setStart(true);\r\n        this.addClass();\r\n        this.setCollapsed(false);\r\n        await this.expandEl();\r\n        this.heightAuto();\r\n        this.clean();\r\n        this.setStart(false);\r\n    }\r\n\r\n    async collapse() {\r\n        this.setStart(true);\r\n        this.addClass();\r\n        this.setCollapsed(true);\r\n        await this.collapseEl();\r\n        this.heightAuto();\r\n        this.clean();\r\n        this.setStart(false);\r\n    }\r\n\r\n    async expandEl() {\r\n        return new Promise(resolve => {\r\n            this.container.style.height = this.container.scrollHeight + \"px\";\r\n            this.container.addEventListener('transitionend', resolve, { once: true });\r\n        });\r\n    }\r\n\r\n    async collapseEl() {\r\n        return new Promise(resolve => {\r\n            requestAnimationFrame(() => {\r\n                this.container.style.height = this.container.scrollHeight + 'px';\r\n                requestAnimationFrame(() => {\r\n                    this.container.style.height = 0 + 'px';\r\n                });\r\n            });\r\n            this.container.addEventListener('transitionend', resolve, { once: true });\r\n        });\r\n    }\r\n\r\n    heightAuto() {\r\n        if (this.type && !this.collapsed) {\r\n            this.container.style.height = 'auto';\r\n        }\r\n    }\r\n\r\n    setStart(start) {\r\n        this.start = start;\r\n    }\r\n\r\n    setCollapsed(collapsed) {\r\n        this.collapsed = collapsed;\r\n    }\r\n\r\n    addClass() {\r\n        this.target.classList.add('active');\r\n    }\r\n\r\n    removeClass() {\r\n        this.target.classList.remove('active');\r\n    }\r\n\r\n    toggleClass() {\r\n        this.target.classList.toggle('active');\r\n    }\r\n\r\n    clean() {\r\n        if ((!this.type && !this.collapsed) || (this.type && this.collapsed)) {\r\n            this.container.removeAttribute(\"style\");\r\n            if (this.target.className == \"\") {\r\n                this.target.removeAttribute(\"class\");\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Collapse);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Collapse.js?");

/***/ }),

/***/ "./src/js/classes/Confirm.js":
/*!***********************************!*\
  !*** ./src/js/classes/Confirm.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n\r\n\r\nclass Confirm {\r\n    constructor({ title, description, accept, cancel }) {\r\n        this.title = title;\r\n        this.description = description;\r\n        this.accept = accept;\r\n        this.cancel = cancel;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.show();\r\n    }\r\n\r\n    question() {\r\n        return new Promise((resolve, reject) => {\r\n            if (!this.dialog || !this.acceptButton || !this.cancelButton || !this.closeButton) {\r\n                reject(\"There was a problem creating the modal window!\");\r\n                return;\r\n            }\r\n\r\n            this.dialog.addEventListener(\"click\", () => {\r\n                resolve(null);\r\n                this.close();\r\n            });\r\n\r\n            this.acceptButton.addEventListener(\"click\", () => {\r\n                resolve(true);\r\n                this.close();\r\n            });\r\n\r\n            this.cancelButton.addEventListener(\"click\", () => {\r\n                resolve(false);\r\n                this.close();\r\n            });\r\n\r\n            this.closeButton.addEventListener(\"click\", () => {\r\n                resolve(null);\r\n                this.close();\r\n            });\r\n        });\r\n    }\r\n\r\n    show() {\r\n        const confirm = this.create();\r\n        document.body.appendChild(confirm);\r\n    }\r\n\r\n    create() {\r\n        this.dialog = document.createElement(\"div\");\r\n        this.dialog.classList.add(\"confirm\");\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"content\");\r\n        content.addEventListener(\"click\", (e) => e.stopPropagation());\r\n        this.dialog.appendChild(content);\r\n\r\n        const header = document.createElement(\"div\");\r\n        header.classList.add(\"header\");\r\n        content.appendChild(header);\r\n\r\n        const title = document.createElement(\"div\");\r\n        title.classList.add(\"title\");\r\n        title.textContent = this.title;\r\n        header.appendChild(title);\r\n\r\n        this.closeButton = document.createElement(\"button\");\r\n        this.closeButton.type = \"button\";\r\n        this.closeButton.classList.add(\"close\");\r\n        header.appendChild(this.closeButton);\r\n\r\n        const closeIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"xLg\");\r\n        this.closeButton.appendChild(closeIcon);\r\n\r\n        const body = document.createElement(\"div\");\r\n        body.classList.add(\"body\");\r\n        content.appendChild(body);\r\n\r\n        const description = document.createElement(\"div\");\r\n        description.classList.add(\"description\");\r\n        description.textContent = this.description;\r\n        body.appendChild(description);\r\n\r\n        const footer = document.createElement(\"div\");\r\n        footer.classList.add(\"footer\");\r\n        content.appendChild(footer);\r\n\r\n        this.cancelButton = document.createElement(\"button\");\r\n        this.cancelButton.type = \"button\";\r\n        this.cancelButton.classList.add(\"cancel\");\r\n        this.cancelButton.textContent = this.cancel;\r\n        footer.appendChild(this.cancelButton);\r\n\r\n        this.acceptButton = document.createElement(\"button\");\r\n        this.acceptButton.type = \"button\";\r\n        this.acceptButton.classList.add(\"accept\");\r\n        this.acceptButton.textContent = this.accept;\r\n        footer.appendChild(this.acceptButton);\r\n\r\n        return this.dialog;\r\n    }\r\n\r\n    \"rehabilitacion-oral-protesis-dentales\";\r\n    \"rehabilitacion-oral-protesis-dentales\";\r\n\r\n    async close() {\r\n        this.dialog.classList.add(\"fadeOut\");\r\n        this.dialog.firstChild.classList.add(\"slideOutTop\");\r\n\r\n        await this.animationend(this.dialog);\r\n\r\n        this.dialog.remove();\r\n        delete this;\r\n    }\r\n\r\n    async transitionend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"transitionend\", resolve, { once: true });\r\n        });\r\n    }\r\n\r\n    async animationend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Confirm);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Confirm.js?");

/***/ }),

/***/ "./src/js/classes/Consents.js":
/*!************************************!*\
  !*** ./src/js/classes/Consents.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _Table_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Table.js */ \"./src/js/classes/Table.js\");\n/* harmony import */ var _Modal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Modal.js */ \"./src/js/classes/Modal.js\");\n/* harmony import */ var _Confirm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Confirm.js */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mio/Textarea.js */ \"./src/js/classes/mio/Textarea.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Consents {\r\n    constructor() {\r\n        this.consents = [];\r\n        this.consent = null;\r\n\r\n        this.values = {\r\n            name: \"\",\r\n            description: \"\",\r\n        };\r\n\r\n        this.columns = [\r\n            { field: \"id\", headerName: \"Id\" },\r\n            { field: \"name\", headerName: \"Nombre\" },\r\n        ];\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const consentsTable = document.querySelector(\"#consents-table\");\r\n        const consentsSearch = document.querySelector(\"#consents-search\");\r\n\r\n        if (consentsTable) {\r\n            await this.readAllConsents();\r\n            this.showConsentsTable();\r\n\r\n            const createConsents = document.querySelector(\"#consent-create\");\r\n            createConsents.addEventListener(\"click\", this.handleCreateConsent.bind(this));\r\n        }\r\n\r\n        if (consentsSearch) {\r\n            this.createSearch();\r\n        }\r\n    }\r\n\r\n    async readAllConsents() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/consents\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.consents = response.consents;\r\n    }\r\n\r\n    setValues(values) {\r\n        for (const key of Object.keys(values)) {\r\n            if (this.values[key] !== undefined) {\r\n                this.values[key] = values[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    resetValues() {\r\n        for (const key of Object.keys(this.values)) {\r\n            this.values[key] = \"\";\r\n        }\r\n    }\r\n\r\n    handleCreateConsent() {\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"Crear consentimiento\",\r\n            content: this.createConsentForm(),\r\n            action: \"Crear\",\r\n            maxWidth: \"800px\",\r\n            actionCallback: () => this.createConsent(),\r\n            closeCallback: () => {\r\n                this.resetValues();\r\n                this.errors = null;\r\n            },\r\n        });\r\n    }\r\n\r\n    async createConsent() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/admin/consents\", this.values);\r\n        console.log(response);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.modal.repaint(this.createConsentForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `Consentimiento creado!`,\r\n            message: \"El consentimiento ha sido creado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.addRow(response.consent);\r\n    }\r\n\r\n    handleUpdateConsent(consent) {\r\n        this.consent = consent;\r\n        this.setValues(consent);\r\n\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"Actualizar consentimiento\",\r\n            content: this.createConsentForm(),\r\n            action: \"Actualizar\",\r\n            maxWidth: \"800px\",\r\n            actionCallback: () => this.updateConsent(),\r\n            closeCallback: () => {\r\n                this.resetValues();\r\n                this.errors = null;\r\n            },\r\n        });\r\n    }\r\n\r\n    async updateConsent() {\r\n        this.patient = { id: this.consent.id, ...this.values };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.put(\"/api/admin/consents\", this.patient);\r\n        console.log(response);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.modal.repaint(this.createConsentForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡Consentimiento actualizado!`,\r\n            message: \"El consentimiento ha sido actualziado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.updateRow(response.consent);\r\n    }\r\n\r\n    async deleteConsent(consent) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"¿Eliminar consentimiento?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar esta consentimiento? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const data = {\r\n            id: consent.id,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/consents\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"Consentimiento eliminado!\",\r\n            message: \"El consentimiento ha sido eliminado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRow(consent);\r\n    }\r\n\r\n    async deleteConsents(selectedConsents) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: `¿Eliminar ${selectedConsents.length > 1 ? \"consentimientos\" : \"consentimiento\"}?`,\r\n            description: `¿Estás seguro de eliminar  ${\r\n                selectedConsents.length > 1 ? \"estos consentimientos\" : \"esta consentimiento\"\r\n            }? Los datos no podrán ser recuperados.`,\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/consents/multiple\", selectedConsents);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡${\r\n                selectedConsents.length > 1 ? \"Consentimientos eliminados\" : \"Consentimiento eliminado\"\r\n            }!`,\r\n            message: `${\r\n                selectedConsents.length > 1\r\n                    ? \"Los consentimientos han sido eliminados\"\r\n                    : \"El consentimiento ha sido eliminado\"\r\n            } correctamente!`,\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRows(selectedConsents);\r\n    }\r\n\r\n    createSearch() {\r\n        const form = document.querySelector(\"#consents-search\");\r\n        form.addEventListener(\"keyup\", this.handleSearch.bind(this));\r\n\r\n        const search = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Buscar consentimiento\",\r\n                for: \"search\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"search\",\r\n                id: \"search\",\r\n            },\r\n        });\r\n        const searchField = search.getField();\r\n        form.appendChild(searchField);\r\n    }\r\n\r\n    async handleSearch(e) {\r\n        const search = e.target.value;\r\n        this.table.searchRow(search);\r\n    }\r\n\r\n    createConsentForm() {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n\r\n        const name = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Nombre\",\r\n                for: \"name\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"name\",\r\n                id: \"name\",\r\n                value: this.values ? this.values.name : \"\",\r\n            },\r\n            error: this.errors && this.errors.name,\r\n            message: this.errors && this.errors.name ? this.errors.name : \"\",\r\n            callback: (value) => {\r\n                this.values.name = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n\r\n        const nameField = name.getField();\r\n        form.appendChild(nameField);\r\n\r\n        const description = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Descripción\",\r\n                for: \"description\",\r\n            },\r\n            input: {\r\n                name: \"description\",\r\n                id: \"description\",\r\n                rows: 24,\r\n                value: this.values ? this.values.description : \"\",\r\n            },\r\n            callback: (value) => {\r\n                this.values.description = value;\r\n            },\r\n        });\r\n\r\n        const descriptionField = description.getField();\r\n        form.appendChild(descriptionField);\r\n\r\n        return form;\r\n    }\r\n\r\n    showConsentsTable() {\r\n        const consentsContainer = document.querySelector(\"#consents-table\");\r\n\r\n        this.table = new _Table_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            columns: this.columns,\r\n            rows: this.consents,\r\n            container: consentsContainer,\r\n            visibleRows: 10,\r\n            rowsPerPage: 15,\r\n            update: this.handleUpdateConsent.bind(this),\r\n            delete: this.deleteConsent.bind(this),\r\n            deleteSelected: this.deleteConsents.bind(this),\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Consents);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Consents.js?");

/***/ }),

/***/ "./src/js/classes/Doctors.js":
/*!***********************************!*\
  !*** ./src/js/classes/Doctors.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _Table_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Table.js */ \"./src/js/classes/Table.js\");\n/* harmony import */ var _Modal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Modal.js */ \"./src/js/classes/Modal.js\");\n/* harmony import */ var _Confirm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Confirm.js */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Doctors {\r\n    constructor() {\r\n        this.doctors = [];\r\n        this.doctor = null;\r\n\r\n        this.values = {\r\n            name: \"\",\r\n            surname: \"\",\r\n            email: \"\",\r\n            phone: \"\",\r\n            number: \"\",\r\n        };\r\n\r\n        this.columns = [\r\n            { field: \"id\", headerName: \"Id\" },\r\n            { field: \"name\", headerName: \"Nombre\" },\r\n            { field: \"surname\", headerName: \"Apellidos\" },\r\n            { field: \"email\", headerName: \"Email\" },\r\n            { field: \"phone\", headerName: \"Teléfono\" },\r\n        ];\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const doctorsTable = document.querySelector(\"#doctors-table\");\r\n        const doctorsSearch = document.querySelector(\"#doctors-search\");\r\n\r\n        if (doctorsTable) {\r\n            await this.readAllDoctors();\r\n            this.showDoctorsTable();\r\n\r\n            const createDoctors = document.querySelector(\"#doctor-create\");\r\n            createDoctors.addEventListener(\"click\", this.handleCreateDoctor.bind(this));\r\n        }\r\n\r\n        if (doctorsSearch) {\r\n            this.createSearch();\r\n        }\r\n    }\r\n\r\n    async readAllDoctors() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/doctors\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.doctors = response.doctors;\r\n    }\r\n\r\n    setValues(values) {\r\n        for (const key of Object.keys(values)) {\r\n            if (this.values[key] !== undefined) {\r\n                this.values[key] = values[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    resetValues() {\r\n        for (const key of Object.keys(this.values)) {\r\n            this.values[key] = \"\";\r\n        }\r\n    }\r\n\r\n    handleCreateDoctor() {\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"Crear doctor\",\r\n            content: this.createDoctorForm(),\r\n            action: \"Crear\",\r\n            actionCallback: () => this.createDoctor(),\r\n            closeCallback: () => {\r\n                this.resetValues();\r\n                this.errors = null;\r\n            },\r\n        });\r\n    }\r\n\r\n    async createDoctor() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/admin/doctors\", this.values);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.modal.repaint(this.createDoctorForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `Doctor creado!`,\r\n            message: \"El doctor ha sido creado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.addRow(response.doctor);\r\n    }\r\n\r\n    handleUpdateDoctor(doctor) {\r\n        this.doctor = doctor;\r\n        this.setValues(doctor);\r\n\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"Actualizar doctor\",\r\n            content: this.createDoctorForm(),\r\n            action: \"Actualizar\",\r\n            actionCallback: () => this.updateDoctor(),\r\n            closeCallback: () => {\r\n                this.resetValues();\r\n                this.errors = null;\r\n            },\r\n        });\r\n    }\r\n\r\n    async updateDoctor() {\r\n        this.patient = { id: this.doctor.id, ...this.values };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.put(\"/api/admin/doctors\", this.patient);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.modal.repaint(this.createDoctorForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡Doctor actualizado!`,\r\n            message: \"El doctor ha sido actualziado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.updateRow(response.doctor);\r\n    }\r\n\r\n    async deleteDoctor(doctor) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"¿Eliminar doctor?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar esta doctor? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const data = {\r\n            id: doctor.id,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/doctors\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"Doctor eliminado!\",\r\n            message: \"El doctor ha sido eliminado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRow(doctor);\r\n    }\r\n\r\n    async deleteDoctors(selectedDoctors) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: `¿Eliminar ${selectedDoctors.length > 1 ? \"doctores\" : \"doctor\"}?`,\r\n            description: `¿Estás seguro de eliminar  ${\r\n                selectedDoctors.length > 1 ? \"estos doctores\" : \"esta doctor\"\r\n            }? Los datos no podrán ser recuperados.`,\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/doctors/multiple\", selectedDoctors);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡${\r\n                selectedDoctors.length > 1 ? \"Doctores eliminados\" : \"Doctor eliminado\"\r\n            }!`,\r\n            message: `${\r\n                selectedDoctors.length > 1\r\n                    ? \"Los doctores han sido eliminados\"\r\n                    : \"El doctor ha sido eliminado\"\r\n            } correctamente!`,\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRows(selectedDoctors);\r\n    }\r\n\r\n    createSearch() {\r\n        const form = document.querySelector(\"#doctors-search\");\r\n        form.addEventListener(\"keyup\", this.handleSearch.bind(this));\r\n\r\n        const search = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Buscar doctor\",\r\n                for: \"search\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"search\",\r\n                id: \"search\",\r\n            },\r\n        });\r\n        const searchField = search.getField();\r\n        form.appendChild(searchField);\r\n    }\r\n\r\n    async handleSearch(e) {\r\n        const search = e.target.value;\r\n        this.table.searchRow(search);\r\n    }\r\n\r\n    createDoctorForm() {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n\r\n        const name = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Nombre\",\r\n                for: \"name\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"name\",\r\n                id: \"name\",\r\n                value: this.values ? this.values.name : \"\",\r\n            },\r\n            error: this.errors && this.errors.name,\r\n            message: this.errors && this.errors.name ? this.errors.name : \"\",\r\n            callback: (value) => {\r\n                this.values.name = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        form.appendChild(name.getField());\r\n\r\n        const surname = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Apellidos\",\r\n                for: \"surname\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"surname\",\r\n                id: \"surname\",\r\n                value: this.values ? this.values.surname : \"\",\r\n            },\r\n            error: this.errors && this.errors.surname,\r\n            message: this.errors && this.errors.surname ? this.errors.surname : \"\",\r\n            callback: (value) => {\r\n                this.values.surname = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        form.appendChild(surname.getField());\r\n\r\n        const email = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Email\",\r\n                for: \"email\",\r\n            },\r\n            input: {\r\n                type: \"email\",\r\n                name: \"email\",\r\n                id: \"email\",\r\n                value: this.values ? this.values.email : \"\",\r\n            },\r\n            error: this.errors && this.errors.email,\r\n            message: this.errors && this.errors.email ? this.errors.email : \"\",\r\n            callback: (value) => {\r\n                this.values.email = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        form.appendChild(email.getField());\r\n\r\n        const phone = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Teléfono\",\r\n                for: \"phone\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"phone\",\r\n                id: \"phone\",\r\n                value: this.values ? this.values.phone : \"\",\r\n            },\r\n            error: this.errors && this.errors.phone,\r\n            message: this.errors && this.errors.phone ? this.errors.phone : \"\",\r\n            callback: (value) => {\r\n                this.values.phone = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        form.appendChild(phone.getField());\r\n\r\n        const number = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Número de colegiado\",\r\n                for: \"number\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"number\",\r\n                id: \"number\",\r\n                value: this.values ? this.values.number : \"\",\r\n            },\r\n            error: this.errors && this.errors.number,\r\n            message: this.errors && this.errors.number ? this.errors.number : \"\",\r\n            callback: (value) => {\r\n                this.values.number = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        form.appendChild(number.getField());\r\n\r\n        return form;\r\n    }\r\n\r\n    showDoctorsTable() {\r\n        const doctorsContainer = document.querySelector(\"#doctors-table\");\r\n\r\n        this.table = new _Table_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            columns: this.columns,\r\n            rows: this.doctors,\r\n            container: doctorsContainer,\r\n            visibleRows: 10,\r\n            rowsPerPage: 15,\r\n            update: this.handleUpdateDoctor.bind(this),\r\n            delete: this.deleteDoctor.bind(this),\r\n            deleteSelected: this.deleteDoctors.bind(this),\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Doctors);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Doctors.js?");

/***/ }),

/***/ "./src/js/classes/History.js":
/*!***********************************!*\
  !*** ./src/js/classes/History.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Modal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Modal.js */ \"./src/js/classes/Modal.js\");\n/* harmony import */ var _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mio/Textarea.js */ \"./src/js/classes/mio/Textarea.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n\r\n\r\n\r\n\r\nclass History {\r\n    constructor({ history, callback }) {\r\n        this.history = history;\r\n        this.callback = callback;\r\n\r\n        this.columns = [\r\n            { field: \"date\", headerName: \"Fecha\" },\r\n            { field: \"description\", headerName: \"Descripción\" },\r\n        ];\r\n\r\n        this.description = \"\";\r\n\r\n        this.create();\r\n    }\r\n\r\n    addReport(report) {\r\n        this.history.reports = [...this.history.reports, report];\r\n    }\r\n\r\n    updateReport(updatedReport) {\r\n        this.history.reports = this.history.reports.map((report) =>\r\n            report.id === updatedReport.id ? updatedReport : report\r\n        );\r\n    }\r\n\r\n    deleteReport(deletedReport) {\r\n        this.history.reports = this.history.reports.filter(\r\n            (report) => report.id !== deletedReport.id\r\n        );\r\n    }\r\n\r\n    clearReports() {\r\n        this.history.reports = [];\r\n    }\r\n\r\n    getHistory() {\r\n        return this.history;\r\n    }\r\n\r\n    getReports() {\r\n        return this.history.reports;\r\n    }\r\n\r\n    getHistoryEl() {\r\n        return this.historyEl;\r\n    }\r\n\r\n    create() {\r\n        this.historyEl = document.createElement(\"div\");\r\n        this.historyEl.classList.add(\"history\");\r\n\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n        this.historyEl.appendChild(form);\r\n\r\n        console.log(this.history.errors);\r\n\r\n        const examination = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            label: {\r\n                text: \"Exploración y plan de tratamiento\",\r\n                for: \"examination\",\r\n            },\r\n            input: {\r\n                name: \"examination\",\r\n                id: \"examination\",\r\n                rows: 6,\r\n                value: this.history.examination,\r\n            },\r\n            error: this.history.errors?.examination,\r\n            message: this.history.errors?.examination,\r\n            callback: (value) => {\r\n                this.history.examination = value;\r\n                this.history.errors = null;\r\n            },\r\n        });\r\n        form.appendChild(examination.getField());\r\n\r\n        const wrapper = document.createElement(\"div\");\r\n        wrapper.classList.add(\"wrapper\");\r\n        this.historyEl.appendChild(wrapper);\r\n\r\n        const table = this.createTable();\r\n        wrapper.appendChild(table);\r\n\r\n        const add = this.createAddRow();\r\n        this.historyEl.appendChild(add);\r\n    }\r\n\r\n    repaint() {\r\n        this.create();\r\n    }\r\n\r\n    createTable() {\r\n        const table = document.createElement(\"table\");\r\n\r\n        const thead = this.createThead();\r\n        table.appendChild(thead);\r\n\r\n        this.tbody = this.createTbody();\r\n        table.appendChild(this.tbody);\r\n\r\n        return table;\r\n    }\r\n\r\n    createThead() {\r\n        const thead = document.createElement(\"thead\");\r\n\r\n        const tr = document.createElement(\"tr\");\r\n        thead.appendChild(tr);\r\n\r\n        this.columns.forEach((column) => {\r\n            const th = document.createElement(\"th\");\r\n            th.textContent = column.headerName;\r\n            tr.appendChild(th);\r\n        });\r\n\r\n        const thActions = document.createElement(\"th\");\r\n        thActions.textContent = \"\";\r\n        tr.appendChild(thActions);\r\n\r\n        return thead;\r\n    }\r\n\r\n    createTbody() {\r\n        const tbody = document.createElement(\"tbody\");\r\n\r\n        this.history.reports.sort((a, b) => {\r\n            return new Date(a.date) - new Date(b.date);\r\n        });\r\n\r\n        this.history.reports.forEach((report) => {\r\n            const row = this.createRow(report);\r\n            tbody.appendChild(row);\r\n        });\r\n\r\n        return tbody;\r\n    }\r\n\r\n    createRow(report) {\r\n        const tr = document.createElement(\"tr\");\r\n\r\n        const tdDate = document.createElement(\"td\");\r\n        tr.appendChild(tdDate);\r\n\r\n        const inputDate = document.createElement(\"input\");\r\n        if (report.errors && report.errors.date) {\r\n            inputDate.classList.add(\"error\");\r\n        }\r\n        inputDate.type = \"date\";\r\n        inputDate.name = \"date\";\r\n        inputDate.value = report.date;\r\n        inputDate.placeholder = \"Fecha\";\r\n        inputDate.addEventListener(\"input\", () => {\r\n            report.errors = null;\r\n            report.date = inputDate.value;\r\n            inputDate.classList.remove(\"error\");\r\n        });\r\n        tdDate.appendChild(inputDate);\r\n\r\n        const tdDescription = document.createElement(\"td\");\r\n        tr.appendChild(tdDescription);\r\n\r\n        const inputDescription = document.createElement(\"input\");\r\n        if (report.errors && report.errors.description) {\r\n            inputDescription.classList.add(\"error\");\r\n        }\r\n        inputDescription.type = \"text\";\r\n        inputDescription.name = \"description\";\r\n        inputDescription.value = report.description;\r\n        inputDescription.placeholder = \"Descripción\";\r\n        inputDescription.readOnly = true;\r\n        inputDescription.addEventListener(\"click\", async () => {\r\n            report.errors = null;\r\n\r\n            this.description = report.description;\r\n\r\n            this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n                title: \"Descripción\",\r\n                content: this.createDescriptionForm(),\r\n                action: \"Aceptar\",\r\n                maxWidth: \"700px\",\r\n                fullscreenButton: true,\r\n                actionCallback: () => {\r\n                    this.modal.close();\r\n                    report.description = this.description;\r\n                    inputDescription.value = this.description;\r\n                    this.callback();\r\n                },\r\n                closeCallback: () => {},\r\n                fullscreenCallback: () => {},\r\n            });\r\n        });\r\n        tdDescription.appendChild(inputDescription);\r\n\r\n        const tdActions = document.createElement(\"td\");\r\n        tr.appendChild(tdActions);\r\n\r\n        const deleteButton = document.createElement(\"button\");\r\n        deleteButton.type = \"button\";\r\n        deleteButton.ariaLabel = \"Eliminar\";\r\n        deleteButton.addEventListener(\"click\", () => {\r\n            this.deleteReport(report);\r\n            this.callback();\r\n        });\r\n        tdActions.appendChild(deleteButton);\r\n\r\n        deleteButton.appendChild(_modules_Icon_js__WEBPACK_IMPORTED_MODULE_2__.icon.get(\"trash\"));\r\n\r\n        return tr;\r\n    }\r\n\r\n    createAddRow() {\r\n        const addRow = document.createElement(\"div\");\r\n        addRow.classList.add(\"row\");\r\n\r\n        const addButton = document.createElement(\"button\");\r\n        addButton.type = \"button\";\r\n        addButton.ariaLabel = \"Añadir informe\";\r\n        addButton.textContent = \"Añadir informe\";\r\n        addButton.classList.add(\"btn\", \"primary-btn\");\r\n        addButton.addEventListener(\"click\", () => {\r\n            const report = {\r\n                id: crypto.randomUUID(),\r\n                date: new Date().toISOString().split(\"T\")[0],\r\n                description: \"\",\r\n                errors: null,\r\n            };\r\n\r\n            this.addReport(report);\r\n\r\n            const row = this.createRow(report);\r\n            this.tbody.appendChild(row);\r\n        });\r\n        addRow.appendChild(addButton);\r\n\r\n        return addRow;\r\n    }\r\n\r\n    createDescriptionForm() {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n\r\n        const description = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            label: {\r\n                text: \"Descripción\",\r\n                for: \"description\",\r\n            },\r\n            input: {\r\n                name: \"description\",\r\n                id: \"description\",\r\n                rows: 20,\r\n                value: this.description,\r\n            },\r\n            callback: (value) => {\r\n                this.description = value;\r\n            },\r\n        });\r\n        form.appendChild(description.getField());\r\n\r\n        return form;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (History);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/History.js?");

/***/ }),

/***/ "./src/js/classes/InputFile.js":
/*!*************************************!*\
  !*** ./src/js/classes/InputFile.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass InputFile {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.field = this.create();\r\n    }\r\n\r\n    getField() {\r\n        return this.field;\r\n    }\r\n\r\n    getInput() {\r\n        return this.inputEl;\r\n    }\r\n\r\n    getLabel() {\r\n        return this.labelEl;\r\n    }\r\n\r\n    getSrc() {\r\n        const file = this.inputEl.files[0];\r\n        this.src = URL.createObjectURL(file);\r\n        return this.src;\r\n    }\r\n\r\n    create() {\r\n        const field = document.createElement(\"div\");\r\n        field.classList.add(\"field\", \"file\");\r\n        if (this.error) {\r\n            field.classList.add(\"error\");\r\n        }\r\n\r\n        this.labelEl = document.createElement(\"label\");\r\n        this.labelEl.htmlFor = this.label.for;\r\n        field.appendChild(this.labelEl);\r\n\r\n        const icon = this.createIcon();\r\n        this.labelEl.appendChild(icon);\r\n\r\n        const span = document.createElement(\"span\");\r\n        span.textContent = \"Selecciona una imagen...\";\r\n        this.labelEl.appendChild(span);\r\n\r\n        this.inputEl = document.createElement(\"input\");\r\n        this.inputEl.type = \"file\";\r\n        this.inputEl.id = this.input.id;\r\n        this.inputEl.name = this.input.name;\r\n        this.inputEl.accept = this.input.accept;\r\n        this.inputEl.addEventListener(\"change\", () => {\r\n            if (this.error) {\r\n                field.classList.remove(\"error\");\r\n                this.errorEl.remove();\r\n            }\r\n\r\n            this.callback(this.getSrc());\r\n        });\r\n        field.appendChild(this.inputEl);\r\n\r\n        if (this.error) {\r\n            this.errorEl = document.createElement(\"p\");\r\n            this.errorEl.classList.add(\"error-message\");\r\n            this.errorEl.textContent = this.error;\r\n            field.appendChild(this.errorEl);\r\n        }\r\n\r\n        return field;\r\n    }\r\n\r\n    createIcon() {\r\n        const figure = document.createElement(\"figure\");\r\n\r\n        const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n        svg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\r\n        svg.setAttribute(\"width\", \"20\");\r\n        svg.setAttribute(\"height\", \"17\");\r\n        svg.setAttribute(\"fill\", \"currentColor\");\r\n        svg.setAttribute(\"viewBox\", \"0 0 20 17\");\r\n        figure.appendChild(svg);\r\n\r\n        const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n        path.setAttribute(\r\n            \"d\",\r\n            \"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z\"\r\n        );\r\n        svg.appendChild(path);\r\n\r\n        return figure;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InputFile);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/InputFile.js?");

/***/ }),

/***/ "./src/js/classes/Invoices.js":
/*!************************************!*\
  !*** ./src/js/classes/Invoices.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _Table_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Table.js */ \"./src/js/classes/Table.js\");\n/* harmony import */ var _Modal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Modal.js */ \"./src/js/classes/Modal.js\");\n/* harmony import */ var _Confirm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Confirm.js */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Invoices {\r\n    constructor() {\r\n        this.invoices = [];\r\n        this.invoice = null;\r\n\r\n        this.values = {\r\n            number: \"\",\r\n            created_at: \"\",\r\n        };\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const invoicesTable = document.querySelector(\"#invoices-table\");\r\n        const invoicesSearch = document.querySelector(\"#invoices-search\");\r\n\r\n        if (invoicesTable) {\r\n            await this.readAllInvoices();\r\n            this.showInvoicesTable();\r\n        }\r\n\r\n        if (invoicesSearch) {\r\n            this.createSearch();\r\n        }\r\n    }\r\n\r\n    async readAllInvoices() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/invoices\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.invoices = response.invoices;\r\n    }\r\n\r\n    setValues(values) {\r\n        for (const key of Object.keys(values)) {\r\n            if (this.values[key] !== undefined) {\r\n                this.values[key] = values[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    resetValues() {\r\n        for (const key of Object.keys(this.values)) {\r\n            this.values[key] = \"\";\r\n        }\r\n    }\r\n\r\n    handleUpdateInvoice(invoice) {\r\n        this.invoice = invoice;\r\n        this.setValues(invoice);\r\n\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"Actualizar factura\",\r\n            content: this.createInvoiceForm(),\r\n            action: \"Actualizar\",\r\n            actionCallback: () => this.updateInvoice(),\r\n            closeCallback: () => this.resetValues(),\r\n        });\r\n    }\r\n\r\n    async updateInvoice() {\r\n        this.invoice.number = this.values.number;\r\n        this.invoice.created_at = this.values.created_at;\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.put(\"/api/admin/invoices\", this.invoice);\r\n        console.log(response);\r\n        // return;\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.modal.repaint(this.createInvoiceForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡Factura actualizada!`,\r\n            message: \"La factura ha sido actualziada correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.updateRow(response.invoice);\r\n    }\r\n\r\n    async deleteInvoice(invoice) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"¿Eliminar factura?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar esta factura? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const data = {\r\n            id: invoice.id,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/invoices\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"Factura eliminada!\",\r\n            message: \"La factura ha sido eliminada correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRow(invoice);\r\n    }\r\n\r\n    async deleteInvoices(selectedInvoices) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: `¿Eliminar ${selectedInvoices.length > 1 ? \"facturas\" : \"factura\"}?`,\r\n            description: `¿Estás seguro de eliminar  ${\r\n                selectedInvoices.length > 1 ? \"estas facturas\" : \"esta factura\"\r\n            }? Los datos no podrán ser recuperados.`,\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/invoices/multiple\", selectedInvoices);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡${selectedInvoices.length > 1 ? \"Facturas eliminadas\" : \"Factura eliminada\"}!`,\r\n            message: `${\r\n                selectedInvoices.length > 1\r\n                    ? \"Las facturas han sido eliminadas\"\r\n                    : \"La factura ha sido eliminada\"\r\n            } correctamente!`,\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRows(selectedInvoices);\r\n    }\r\n\r\n    createSearch() {\r\n        const form = document.querySelector(\"#invoices-search\");\r\n        form.addEventListener(\"keyup\", this.handleSearch.bind(this));\r\n\r\n        const search = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Buscar factura\",\r\n                for: \"search\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"search\",\r\n                id: \"search\",\r\n            },\r\n        });\r\n        const searchField = search.getField();\r\n        form.appendChild(searchField);\r\n    }\r\n\r\n    async handleSearch(e) {\r\n        const search = e.target.value;\r\n        this.table.searchRow(search);\r\n    }\r\n\r\n    createInvoiceForm() {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n\r\n        const number = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Número de factura\",\r\n                for: \"number\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"number\",\r\n                id: \"number\",\r\n                value: this.values.number,\r\n            },\r\n            error: this.errors && this.errors.number,\r\n            message: this.errors && this.errors.number ? this.errors.number : \"\",\r\n            callback: (value) => {\r\n                this.values.number = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        form.appendChild(number.getField());\r\n\r\n        const createdAt = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Fecha de creación\",\r\n                for: \"created_at\",\r\n            },\r\n            input: {\r\n                type: \"date\",\r\n                name: \"created_at\",\r\n                id: \"created_at\",\r\n                value: this.values.created_at.split(\" \")[0],\r\n            },\r\n            error: this.errors && this.errors.created_at,\r\n            message: this.errors && this.errors.created_at ? this.errors.created_at : \"\",\r\n            callback: (value) => {\r\n                this.values.created_at = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        form.appendChild(createdAt.getField());\r\n\r\n        return form;\r\n    }\r\n\r\n    showInvoicesTable() {\r\n        const columns = [\r\n            { field: \"id\", headerName: \"Id\" },\r\n            { field: \"number\", headerName: \"Número\" },\r\n            { field: \"full_patient_name\", headerName: \"Paciente\" },\r\n            { field: \"total\", headerName: \"Total\" },\r\n            { field: \"created_at_format\", headerName: \"Fecha\" },\r\n        ];\r\n\r\n        const container = document.querySelector(\"#invoices-table\");\r\n\r\n        this.table = new _Table_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            columns,\r\n            rows: this.invoices,\r\n            container,\r\n            visibleRows: 10,\r\n            rowsPerPage: 15,\r\n            update: this.handleUpdateInvoice.bind(this),\r\n            delete: this.deleteInvoice.bind(this),\r\n            deleteSelected: this.deleteInvoices.bind(this),\r\n            extraActions: [\r\n                {\r\n                    name: \"Generar PDF\",\r\n                    icon: _modules_Icon_js__WEBPACK_IMPORTED_MODULE_5__.icon.get(\"filePDF\"),\r\n                    callback: this.generatePDF.bind(this),\r\n                },\r\n            ],\r\n        });\r\n    }\r\n\r\n    async generatePDF(invoice) {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/admin/invoices/pdf\", invoice);\r\n\r\n        const linkSource = `data:application/pdf;base64,${response.base64}`;\r\n        const downloadLink = document.createElement(\"a\");\r\n        const fileName = response.fileName;\r\n\r\n        downloadLink.href = linkSource;\r\n        downloadLink.download = fileName;\r\n        downloadLink.click();\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Invoices);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Invoices.js?");

/***/ }),

/***/ "./src/js/classes/Layout.js":
/*!**********************************!*\
  !*** ./src/js/classes/Layout.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _Collapse_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Collapse.js */ \"./src/js/classes/Collapse.js\");\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mio/Textarea.js */ \"./src/js/classes/mio/Textarea.js\");\n/* harmony import */ var _mio_Checkbox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mio/Checkbox.js */ \"./src/js/classes/mio/Checkbox.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Layout {\r\n    constructor() {\r\n        this.pageYOffset = 0;\r\n\r\n        this.isSidebarOpened = false;\r\n        this.isSidebarAnimated = false;\r\n\r\n        this.values = {\r\n            name: \"\",\r\n            email: \"\",\r\n            phone: \"\",\r\n            message: \"\",\r\n            accept: false,\r\n        };\r\n        this.errors = null;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        const hamburguer = document.querySelector(\"#hamburguer\");\r\n        const navbar = document.querySelector(\"#navbar\");\r\n        const sidebar = document.querySelector(\"#sidebar\");\r\n        const accordion = document.querySelector(\"#accordion\");\r\n        const contact = document.querySelector(\"#contact\");\r\n\r\n        window.addEventListener(\"DOMContentLoaded\", this.loadEvent.bind(this));\r\n        window.addEventListener(\"scroll\", this.scrollEvent.bind(this));\r\n        window.addEventListener(\"resize\", this.resizeEvent.bind(this));\r\n\r\n        hamburguer.addEventListener(\"click\", this.hamburguerEvent.bind(this));\r\n        navbar.addEventListener(\"click\", this.navbarEvent.bind(this));\r\n        sidebar.addEventListener(\"click\", this.sidebarEvent.bind(this));\r\n        if (accordion) {\r\n            accordion.addEventListener(\"click\", this.accordionEvent.bind(this));\r\n        }\r\n        if (contact) {\r\n            this.createContactForm();\r\n        }\r\n\r\n        sidebar.querySelectorAll(\"button\").forEach((button) => {\r\n            new _Collapse_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](button, button.nextElementSibling, true);\r\n        });\r\n\r\n        this.createWhatsappButton();\r\n    }\r\n\r\n    loadEvent() {\r\n        const mainHeader = document.querySelector(\"#main-header\");\r\n        if (window.pageYOffset > 0) {\r\n            mainHeader.classList.add(\"active\");\r\n        }\r\n\r\n        const accordion = document.querySelector(\"#accordion\");\r\n\r\n        if (accordion) {\r\n            const accordionItems = accordion.querySelectorAll(\".item\");\r\n\r\n            accordionItems.forEach((item) => {\r\n                const target = item.firstElementChild;\r\n                const content = item.lastElementChild;\r\n                new _Collapse_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](target, content, true);\r\n            });\r\n        }\r\n    }\r\n\r\n    scrollEvent() {\r\n        const mainHeader = document.querySelector(\"#main-header\");\r\n\r\n        if (this.isSidebarOpened) {\r\n            return;\r\n        }\r\n\r\n        if (window.pageYOffset > 0) {\r\n            mainHeader.classList.add(\"active\");\r\n        } else {\r\n            mainHeader.classList.remove(\"active\");\r\n        }\r\n    }\r\n\r\n    async resizeEvent() {\r\n        const hamburguer = document.querySelector(\"#hamburguer\");\r\n        const mainHeader = document.querySelector(\"#main-header\");\r\n        const sidebar = document.querySelector(\"#sidebar\");\r\n\r\n        if (window.innerWidth >= 1024 && this.isSidebarOpened) {\r\n            this.isSidebarOpened = false;\r\n            this.isSidebarAnimated = true;\r\n\r\n            document.body.removeAttribute(\"style\");\r\n            document.body.classList.remove(\"noscroll\");\r\n            window.scroll(0, this.pageYOffset);\r\n\r\n            hamburguer.classList.remove(\"active\");\r\n            mainHeader.classList.remove(\"active\");\r\n            sidebar.classList.add(\"out\");\r\n            await this.animationend(sidebar);\r\n            sidebar.classList.remove(\"active\", \"in\", \"out\");\r\n\r\n            this.isSidebarAnimated = false;\r\n            return;\r\n        }\r\n    }\r\n\r\n    async hamburguerEvent() {\r\n        const hamburguer = document.querySelector(\"#hamburguer\");\r\n        const mainHeader = document.querySelector(\"#main-header\");\r\n        const sidebar = document.querySelector(\"#sidebar\");\r\n\r\n        if (this.isSidebarOpened && !this.isSidebarAnimated) {\r\n            this.isSidebarOpened = false;\r\n            this.isSidebarAnimated = true;\r\n\r\n            document.body.removeAttribute(\"style\");\r\n            document.body.classList.remove(\"noscroll\");\r\n            window.scroll(0, this.pageYOffset);\r\n\r\n            if (!window.pageYOffset) {\r\n                mainHeader.classList.remove(\"active\");\r\n            }\r\n\r\n            hamburguer.classList.remove(\"active\");\r\n            sidebar.classList.add(\"out\");\r\n            await this.animationend(sidebar);\r\n            sidebar.classList.remove(\"active\", \"in\", \"out\");\r\n\r\n            this.isSidebarAnimated = false;\r\n            this.pageYOffset = 0;\r\n            return;\r\n        }\r\n\r\n        if (!this.isSidebarOpened && !this.isSidebarAnimated) {\r\n            this.pageYOffset = window.pageYOffset;\r\n\r\n            this.isSidebarOpened = true;\r\n            this.isSidebarAnimated = true;\r\n\r\n            document.body.style.top = `-${this.pageYOffset}px`;\r\n            document.body.classList.add(\"noscroll\");\r\n\r\n            hamburguer.classList.add(\"active\");\r\n            mainHeader.classList.add(\"active\");\r\n            sidebar.classList.add(\"active\", \"in\");\r\n            await this.animationend(sidebar);\r\n\r\n            this.isSidebarAnimated = false;\r\n            return;\r\n        }\r\n    }\r\n\r\n    async navbarEvent(e) {\r\n        if (e.target.closest(\"button\")) {\r\n            const menuBtn = e.target.closest(\"button\");\r\n            const menu = menuBtn.nextElementSibling;\r\n\r\n            requestAnimationFrame(() => {\r\n                menu.classList.remove(\"hidden\");\r\n                menu.classList.add(\"flex\");\r\n                requestAnimationFrame(() => {\r\n                    menu.classList.remove(\"out\");\r\n                });\r\n            });\r\n            menu.classList.add(\"in\");\r\n            await this.transitionend(menu);\r\n            menuBtn.ariaExpanded = true;\r\n        }\r\n\r\n        if (e.target.closest(\".menu\")) {\r\n            const menu = e.target.closest(\".menu\");\r\n            const menuBtn = menu.previousElementSibling;\r\n            menu.classList.remove(\"in\");\r\n            menu.classList.add(\"out\");\r\n            await this.transitionend(menu);\r\n            menu.classList.remove(\"flex\");\r\n            menu.classList.add(\"hidden\");\r\n            menuBtn.ariaExpanded = false;\r\n        }\r\n    }\r\n\r\n    async sidebarEvent(e) {\r\n        const hamburguer = document.querySelector(\"#hamburguer\");\r\n        const mainHeader = document.querySelector(\"#main-header\");\r\n        const sidebar = document.querySelector(\"#sidebar\");\r\n\r\n        if (e.target.id === \"sidebar\" && this.isSidebarOpened && !this.isSidebarAnimated) {\r\n            this.isSidebarOpened = false;\r\n            this.isSidebarAnimated = true;\r\n\r\n            document.body.removeAttribute(\"style\");\r\n            document.body.classList.remove(\"noscroll\");\r\n            window.scroll(0, this.pageYOffset);\r\n\r\n            if (!window.pageYOffset) {\r\n                mainHeader.classList.remove(\"active\");\r\n            }\r\n\r\n            hamburguer.classList.remove(\"active\");\r\n            sidebar.classList.add(\"out\");\r\n            await this.animationend(sidebar);\r\n            sidebar.classList.remove(\"active\", \"in\", \"out\");\r\n\r\n            this.isSidebarAnimated = false;\r\n        }\r\n    }\r\n\r\n    async accordionEvent(e) {\r\n        const targetItem = e.target.closest(\".item\");\r\n        if (targetItem && targetItem.firstElementChild.classList.contains(\"active\")) {\r\n            const accordion = document.querySelector(\"#accordion\");\r\n            const accordionItems = accordion.querySelectorAll(\".item\");\r\n            const targetItem = e.target.closest(\".item\");\r\n\r\n            accordionItems.forEach((item) => {\r\n                if (item !== targetItem && item.firstElementChild.classList.contains(\"active\")) {\r\n                    item.firstElementChild.click();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    async transitionend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"transitionend\", resolve, { once: true });\r\n        });\r\n    }\r\n\r\n    async animationend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    }\r\n\r\n    createContactForm() {\r\n        const contact = document.querySelector(\"#contact\");\r\n\r\n        this.contactForm = document.createElement(\"form\");\r\n        this.contactForm.classList.add(\"mio-form\");\r\n        this.contactForm.noValidate = true;\r\n        this.contactForm.addEventListener(\"submit\", this.handleSubmit.bind(this));\r\n        contact.appendChild(this.contactForm);\r\n\r\n        const name = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            label: {\r\n                text: \"Nombre\",\r\n                for: \"name\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"name\",\r\n                id: \"name\",\r\n                value: this.values.name,\r\n            },\r\n            error: this.errors && this.errors.name,\r\n            message: this.errors && this.errors.name ? this.errors.name : \"\",\r\n            callback: (value) => {\r\n                this.values.name = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        this.contactForm.appendChild(name.getField());\r\n\r\n        const email = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            label: {\r\n                text: \"Email\",\r\n                for: \"email\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"email\",\r\n                id: \"email\",\r\n                value: this.values.email,\r\n            },\r\n            error: this.errors && this.errors.email,\r\n            message: this.errors && this.errors.email ? this.errors.email : \"\",\r\n            callback: (value) => {\r\n                this.values.email = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        this.contactForm.appendChild(email.getField());\r\n\r\n        const phone = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            label: {\r\n                text: \"Teléfono\",\r\n                for: \"phone\",\r\n            },\r\n            input: {\r\n                type: \"tel\",\r\n                phone: \"phone\",\r\n                id: \"phone\",\r\n                value: this.values.phone,\r\n            },\r\n            error: this.errors && this.errors.phone,\r\n            message: this.errors && this.errors.phone ? this.errors.phone : \"\",\r\n            callback: (value) => {\r\n                this.values.phone = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        this.contactForm.appendChild(phone.getField());\r\n\r\n        const message = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            label: {\r\n                text: \"Mensaje\",\r\n                for: \"message\",\r\n            },\r\n            input: {\r\n                name: \"message\",\r\n                id: \"message\",\r\n                rows: 3,\r\n                value: this.values.message,\r\n            },\r\n            error: this.errors && this.errors.message,\r\n            message: this.errors && this.errors.message ? this.errors.message : \"\",\r\n            callback: (value) => {\r\n                this.values.message = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        this.contactForm.appendChild(message.getField());\r\n\r\n        const accept = new _mio_Checkbox_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"He leído y acepto la Política de Privacidad\",\r\n                for: \"accept\",\r\n            },\r\n            input: {\r\n                name: \"accept\",\r\n                id: \"accept\",\r\n                value: this.values.accept,\r\n            },\r\n            error: this.errors && this.errors.accept,\r\n            message: this.errors && this.errors.accept ? this.errors.accept : \"\",\r\n            callback: (value) => {\r\n                this.values.accept = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        this.contactForm.appendChild(accept.getField());\r\n\r\n        const submitField = document.createElement(\"div\");\r\n        submitField.classList.add(\"mio-field\");\r\n        this.contactForm.appendChild(submitField);\r\n\r\n        const submit = document.createElement(\"button\");\r\n        submit.classList.add(\"btn\", \"primary-btn\");\r\n        submit.type = \"submit\";\r\n        submit.textContent = \"Enviar\";\r\n        submitField.appendChild(submit);\r\n    }\r\n\r\n    async handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/contact\", this.values);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.contactForm.remove();\r\n            this.createContactForm();\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"¡Mensaje enviado!\",\r\n            message:\r\n                \"Gracias por contactar con nosotros. Nos pondremos en contacto contigo lo antes posible.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        this.values = {\r\n            name: \"\",\r\n            email: \"\",\r\n            phone: \"\",\r\n            message: \"\",\r\n            accept: false,\r\n        };\r\n        this.errors = null;\r\n        this.contactForm.remove();\r\n        this.createContactForm();\r\n    }\r\n\r\n    createWhatsappButton() {\r\n        const whatsapp = document.createElement(\"a\");\r\n        whatsapp.classList.add(\"quick-access-btn\", \"whatsapp\");\r\n        whatsapp.href = \"https://wa.me/34622348982\";\r\n        whatsapp.target = \"_blank\";\r\n        whatsapp.rel = \"noopener noreferrer\";\r\n        document.body.appendChild(whatsapp);\r\n\r\n        whatsapp.appendChild(_modules_Icon_js__WEBPACK_IMPORTED_MODULE_5__.icon.get(\"whatsapp\"));\r\n\r\n        const mail = document.createElement(\"a\");\r\n        mail.classList.add(\"quick-access-btn\", \"mail\");\r\n        mail.href = \"/contacto\";\r\n        document.body.appendChild(mail);\r\n\r\n        mail.appendChild(_modules_Icon_js__WEBPACK_IMPORTED_MODULE_5__.icon.get(\"envelope\"));\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Layout);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Layout.js?");

/***/ }),

/***/ "./src/js/classes/Menu.js":
/*!********************************!*\
  !*** ./src/js/classes/Menu.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Menu {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n\r\n        this.isOpen = false;\r\n        this.isClose = false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        window.addEventListener(\"resize\", () => {\r\n            if (this.isOpen) {\r\n                this.position();\r\n            }\r\n        });\r\n        window.addEventListener(\"scroll\", () => {\r\n            if (this.isOpen) {\r\n                this.position();\r\n            }\r\n        });\r\n        this.target.addEventListener(\"click\", () => {\r\n            if (this.isOpen) {\r\n                this.close();\r\n            } else {\r\n                this.open();\r\n            }\r\n        });\r\n    }\r\n\r\n    open() {\r\n        this.isOpen = true;\r\n        this.create();\r\n        document.body.appendChild(this.menu);\r\n        this.position();\r\n        this.menu.classList.add(\"in\");\r\n    }\r\n\r\n    async close() {\r\n        this.isOpen = false;\r\n        this.menu.classList.add(\"out\");\r\n        await this.animationend(this.menu);\r\n        this.menu.remove();\r\n    }\r\n\r\n    create() {\r\n        this.menu = document.createElement(\"div\");\r\n        this.menu.classList.add(\"mio-menu\");\r\n        this.menu.addEventListener(\"mousedown\", this.handleClose.bind(this));\r\n        this.menu.addEventListener(\"touchstart\", this.handleClose.bind(this), { passive: true });\r\n        this.menu.addEventListener(\"click\", () => {\r\n            if (this.isClose) {\r\n                this.close();\r\n            }\r\n        });\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"content\");\r\n        content.addEventListener(\"click\", (e) => e.stopPropagation());\r\n        this.menu.appendChild(content);\r\n\r\n        this.items.forEach((item) => {\r\n            if (item.type === \"button\") {\r\n                const button = document.createElement(\"button\");\r\n                button.type = \"button\";\r\n                button.ariaLabel = item.ariaLabel;\r\n                button.classList.add(\"item\");\r\n                button.addEventListener(\"click\", (e) => {\r\n                    item.onClick(e);\r\n                    this.close();\r\n                });\r\n                content.appendChild(button);\r\n\r\n                if (item.icon) {\r\n                    button.appendChild(item.icon);\r\n                }\r\n\r\n                const span = document.createElement(\"span\");\r\n                span.textContent = item.text;\r\n                button.appendChild(span);\r\n            }\r\n\r\n            if (item.type === \"anchor\") {\r\n            }\r\n        });\r\n    }\r\n\r\n    position() {\r\n        const rect = this.target.getBoundingClientRect();\r\n\r\n        if (\r\n            rect.top + this.menu.firstChild.offsetHeight + this.target.offsetHeight >\r\n            window.innerHeight\r\n        ) {\r\n            this.menu.firstChild.style.top = `${rect.top - this.menu.firstChild.offsetHeight}px`;\r\n        } else {\r\n            this.menu.firstChild.style.top = `${rect.top + this.target.offsetHeight}px`;\r\n        }\r\n\r\n        this.menu.firstChild.style.left = `${\r\n            rect.left - this.menu.firstChild.offsetWidth + this.target.offsetWidth\r\n        }px`;\r\n    }\r\n\r\n    handleClose(e) {\r\n        if (e.target === this.menu) {\r\n            this.isClose = true;\r\n        }\r\n    }\r\n\r\n    async animationend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Menu);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Menu.js?");

/***/ }),

/***/ "./src/js/classes/Modal.js":
/*!*********************************!*\
  !*** ./src/js/classes/Modal.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n\r\n\r\nclass Modal {\r\n    constructor({\r\n        title,\r\n        customTitle,\r\n        content,\r\n        action,\r\n        maxWidth,\r\n        fullscreenButton,\r\n        actionCallback,\r\n        closeCallback,\r\n        fullscreenCallback,\r\n        customHeaderButtons,\r\n    }) {\r\n        this.title = title;\r\n        this.customTitle = customTitle;\r\n        this.content = content;\r\n        this.action = action;\r\n        this.maxWidth = maxWidth || null;\r\n        this.fullscreenButton = fullscreenButton || false;\r\n        this.actionCallback = actionCallback;\r\n        this.closeCallback = closeCallback;\r\n        this.fullscreenCallback = fullscreenCallback;\r\n        this.customHeaderButtons = customHeaderButtons || [];\r\n\r\n        this.isClose = false;\r\n        this.isFullscreen = false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        this.modal = this.create();\r\n        document.body.classList.add(\"noscroll\");\r\n        document.body.appendChild(this.modal);\r\n        this.modal.classList.add(\"fade-in\");\r\n        this.modal.firstChild.classList.add(\"slide-in-top\");\r\n\r\n        await this.animationend();\r\n    }\r\n\r\n    handleClose(e) {\r\n        if (e.target === this.modal) {\r\n            this.isClose = true;\r\n        }\r\n    }\r\n\r\n    async close() {\r\n        this.modal.classList.add(\"fade-out\");\r\n        this.modal.firstChild.classList.add(\"slide-out-top\");\r\n        await this.animationend(this.modal);\r\n        this.modal.remove();\r\n        if (!document.querySelector(\".modal\")) {\r\n            document.body.classList.remove(\"noscroll\");\r\n        }\r\n        this.closeCallback && this.closeCallback();\r\n        delete this;\r\n    }\r\n\r\n    async animationend() {\r\n        return new Promise((resolve) => {\r\n            this.modal.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    }\r\n\r\n    create() {\r\n        const modal = document.createElement(\"div\");\r\n        modal.classList.add(\"modal\");\r\n        if (this.isFullscreen) {\r\n            modal.classList.add(\"fullscreen\");\r\n        }\r\n        modal.addEventListener(\"mousedown\", this.handleClose.bind(this));\r\n        modal.addEventListener(\"touchstart\", this.handleClose.bind(this), { passive: true });\r\n        modal.addEventListener(\"click\", () => {\r\n            if (this.isClose) {\r\n                this.close();\r\n            }\r\n        });\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"content\");\r\n        if (!this.isFullscreen) {\r\n            content.style.maxWidth = this.maxWidth ? this.maxWidth : \"\";\r\n        }\r\n        content.addEventListener(\"click\", (e) => e.stopPropagation());\r\n        modal.appendChild(content);\r\n\r\n        const header = document.createElement(\"div\");\r\n        header.classList.add(\"header\");\r\n        content.appendChild(header);\r\n\r\n        if (this.customTitle) {\r\n            header.appendChild(this.customTitle());\r\n        } else {\r\n            const title = document.createElement(\"div\");\r\n            title.classList.add(\"title\");\r\n            title.textContent = this.title;\r\n            header.appendChild(title);\r\n        }\r\n\r\n        const actions = document.createElement(\"div\");\r\n        actions.classList.add(\"actions\");\r\n        header.appendChild(actions);\r\n\r\n        this.customHeaderButtons.forEach((button) => {\r\n            const btn = document.createElement(\"button\");\r\n            btn.setAttribute(\"aria-label\", button.ariaLabel);\r\n            btn.addEventListener(\"click\", () => {\r\n                button.callback();\r\n            });\r\n            actions.appendChild(btn);\r\n\r\n            btn.appendChild(button.icon);\r\n        });\r\n\r\n        if (this.fullscreenButton) {\r\n            const fullscreenBtn = document.createElement(\"button\");\r\n            fullscreenBtn.classList.add(\"fullscreen\");\r\n            fullscreenBtn.setAttribute(\"aria-label\", \"Pantalla completa\");\r\n            fullscreenBtn.addEventListener(\"click\", () => {\r\n                this.isFullscreen = !this.isFullscreen;\r\n\r\n                if (this.isFullscreen) {\r\n                    modal.classList.add(\"fullscreen\");\r\n                    content.removeAttribute(\"style\");\r\n                } else {\r\n                    modal.classList.remove(\"fullscreen\");\r\n                    content.style.maxWidth = this.maxWidth ? this.maxWidth : \"\";\r\n                }\r\n\r\n                this.fullscreenCallback && this.fullscreenCallback();\r\n            });\r\n            actions.appendChild(fullscreenBtn);\r\n\r\n            const fullscreenIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"arrowsFullscreen\");\r\n            fullscreenBtn.appendChild(fullscreenIcon);\r\n        }\r\n\r\n        const closeBtn = document.createElement(\"button\");\r\n        closeBtn.classList.add(\"close\");\r\n        closeBtn.setAttribute(\"aria-label\", \"Cerrar modal\");\r\n        closeBtn.addEventListener(\"click\", () => {\r\n            this.isClose = true;\r\n            this.close();\r\n        });\r\n        actions.appendChild(closeBtn);\r\n\r\n        const closeIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"xLg\");\r\n        closeBtn.appendChild(closeIcon);\r\n\r\n        const svgClose = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n        svgClose.setAttribute(\"width\", \"16\");\r\n        svgClose.setAttribute(\"height\", \"16\");\r\n        svgClose.setAttribute(\"fill\", \"currentColor\");\r\n        svgClose.setAttribute(\"viewBox\", \"0 0 16 16\");\r\n        closeIcon.appendChild(svgClose);\r\n\r\n        const pathClose1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n        pathClose1.setAttribute(\"fill-rule\", \"evenodd\");\r\n        pathClose1.setAttribute(\r\n            \"d\",\r\n            \"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z\"\r\n        );\r\n        svgClose.appendChild(pathClose1);\r\n\r\n        const pathClose2 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n        pathClose2.setAttribute(\"fill-rule\", \"evenodd\");\r\n        pathClose2.setAttribute(\r\n            \"d\",\r\n            \"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z\"\r\n        );\r\n        svgClose.appendChild(pathClose2);\r\n\r\n        this.body = document.createElement(\"div\");\r\n        this.body.classList.add(\"body\");\r\n        this.body.appendChild(this.content);\r\n        content.appendChild(this.body);\r\n\r\n        const footer = document.createElement(\"div\");\r\n        footer.classList.add(\"footer\");\r\n        content.appendChild(footer);\r\n\r\n        const closeButton = document.createElement(\"button\");\r\n        closeButton.classList.add(\"btn\", \"tertiary-btn\");\r\n        closeButton.setAttribute(\"aria-label\", \"Cerrar modal\");\r\n        closeButton.textContent = \"Cerrar\";\r\n        closeButton.addEventListener(\"click\", () => {\r\n            this.isClose = true;\r\n            this.close();\r\n        });\r\n        footer.appendChild(closeButton);\r\n\r\n        const action = document.createElement(\"button\");\r\n        action.classList.add(\"btn\", \"primary-btn\");\r\n        action.setAttribute(\"aria-label\", \"Acción modal\");\r\n        action.textContent = this.action;\r\n        action.addEventListener(\"click\", this.actionCallback);\r\n        footer.appendChild(action);\r\n\r\n        return modal;\r\n    }\r\n\r\n    repaint(content) {\r\n        this.content = content;\r\n        this.modal.remove();\r\n        this.modal = this.create();\r\n        document.body.appendChild(this.modal);\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Modal);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Modal.js?");

/***/ }),

/***/ "./src/js/classes/Pagination.js":
/*!**************************************!*\
  !*** ./src/js/classes/Pagination.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n\r\n\r\nclass Pagination {\r\n    constructor(page, limit, total, url) {\r\n        this.page = page;\r\n        this.limit = limit;\r\n        this.total = total;\r\n        this.url = url;\r\n\r\n        if (this.limit === 5) {\r\n            this.pages = Math.ceil(this.total / this.limit);\r\n        } else {\r\n            this.pages = 1 + Math.ceil((this.total - 5) / this.limit);\r\n        }\r\n\r\n        this.pagination = [];\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.setPagination();\r\n        this.showPagination();\r\n    }\r\n\r\n    setPagination() {\r\n        if (this.pages > 1) {\r\n            if (this.page === 1) {\r\n                this.pagination.push({ type: \"first\", active: false, page: \"\" });\r\n                this.pagination.push({ type: \"prev\", active: false, page: \"\" });\r\n            } else {\r\n                this.pagination.push({ type: \"first\", active: true, page: 1 });\r\n                this.pagination.push({ type: \"prev\", active: true, page: this.page - 1 });\r\n            }\r\n\r\n            if (this.pages < 8) {\r\n                for (let i = 1; i <= this.pages; i++) {\r\n                    if (this.page === i) {\r\n                        this.pagination.push({ type: \"current\", active: false, page: i });\r\n                    } else {\r\n                        this.pagination.push({ type: \"page\", active: true, page: i });\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.pages >= 8) {\r\n                if (this.page < 5) {\r\n                    for (let i = 1; i <= 5; i++) {\r\n                        if (i > this.pages) {\r\n                            break;\r\n                        }\r\n\r\n                        if (this.page === i) {\r\n                            this.pagination.push({ type: \"current\", active: false, page: i });\r\n                        } else {\r\n                            this.pagination.push({ type: \"page\", active: true, page: i });\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (this.page >= 5) {\r\n                    this.pagination.push({ type: \"page\", active: true, page: 1 });\r\n                    this.pagination.push({ type: \"dots\" });\r\n                }\r\n\r\n                if (this.page >= 5 && this.page < this.pages - 3) {\r\n                    for (let i = this.page - 1; i <= this.page + 1; i++) {\r\n                        if (this.page === i) {\r\n                            this.pagination.push({ type: \"current\", active: false, page: i });\r\n                        } else {\r\n                            this.pagination.push({ type: \"page\", active: true, page: i });\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (this.page < this.pages - 3) {\r\n                    this.pagination.push({ type: \"dots\" });\r\n                    this.pagination.push({ type: \"page\", active: true, page: this.pages });\r\n                }\r\n\r\n                if (this.page >= this.pages - 3) {\r\n                    for (let i = this.pages - 4; i <= this.pages; i++) {\r\n                        if (i > this.pages) {\r\n                            break;\r\n                        }\r\n                        if (this.page === i) {\r\n                            this.pagination.push({ type: \"current\", active: false, page: i });\r\n                        } else {\r\n                            this.pagination.push({ type: \"page\", active: true, page: i });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.page < this.pages) {\r\n                this.pagination.push({ type: \"next\", active: true, page: this.page + 1 });\r\n                this.pagination.push({ type: \"last\", active: true, page: this.pages });\r\n            } else {\r\n                this.pagination.push({ type: \"next\", active: false, page: \"\" });\r\n                this.pagination.push({ type: \"last\", active: false, page: \"\" });\r\n            }\r\n        } else {\r\n            this.pagination.push({ type: \"first\", active: false, page: \"\" });\r\n            this.pagination.push({ type: \"prev\", active: false, page: \"\" });\r\n            this.pagination.push({ type: \"next\", active: false, page: \"\" });\r\n            this.pagination.push({ type: \"last\", active: false, page: \"\" });\r\n        }\r\n    }\r\n\r\n    showPagination() {\r\n        const paginationContainer = document.querySelector(\"#pagination\");\r\n        const paginationElements = this.createPagination();\r\n        paginationContainer.appendChild(paginationElements);\r\n    }\r\n\r\n    createPagination() {\r\n        const fragment = document.createDocumentFragment();\r\n\r\n        this.pagination.forEach((item) => {\r\n            const paginationElement = document.createElement(\"div\");\r\n            paginationElement.classList.add(item.type);\r\n            paginationElement.classList.add(item.active ? \"active\" : \"inactive\");\r\n            fragment.appendChild(paginationElement);\r\n\r\n            const anchor = document.createElement(\"a\");\r\n            if (item.page === 1) {\r\n                anchor.href = `${this.url}`;\r\n            } else {\r\n                anchor.href = `${this.url}/page/${item.page}`;\r\n            }\r\n\r\n            paginationElement.appendChild(anchor);\r\n\r\n            if (item.type === \"first\") {\r\n                anchor.appendChild(_modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"chevronDoubleLeft\"));\r\n            }\r\n\r\n            if (item.type === \"prev\") {\r\n                anchor.appendChild(_modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"chevronLeft\"));\r\n            }\r\n\r\n            if (item.type === \"page\" || item.type === \"current\") {\r\n                anchor.textContent = item.page;\r\n            }\r\n\r\n            if (item.type === \"dots\") {\r\n                anchor.appendChild(_modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"threeDots\"));\r\n            }\r\n\r\n            if (item.type === \"next\") {\r\n                anchor.appendChild(_modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"chevronRight\"));\r\n            }\r\n\r\n            if (item.type === \"last\") {\r\n                anchor.appendChild(_modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"chevronDoubleRight\"));\r\n            }\r\n        });\r\n\r\n        return fragment;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Pagination);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Pagination.js?");

/***/ }),

/***/ "./src/js/classes/Patients.js":
/*!************************************!*\
  !*** ./src/js/classes/Patients.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n/* harmony import */ var _Table_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Table.js */ \"./src/js/classes/Table.js\");\n/* harmony import */ var _Modal_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Modal.js */ \"./src/js/classes/Modal.js\");\n/* harmony import */ var _Confirm_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Confirm.js */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n/* harmony import */ var _mio_Select_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mio/Select.js */ \"./src/js/classes/mio/Select.js\");\n/* harmony import */ var _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./mio/Textarea.js */ \"./src/js/classes/mio/Textarea.js\");\n/* harmony import */ var _Signature_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Signature.js */ \"./src/js/classes/Signature.js\");\n/* harmony import */ var _mio_Switch_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./mio/Switch.js */ \"./src/js/classes/mio/Switch.js\");\n/* harmony import */ var _Autocomplete_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Autocomplete.js */ \"./src/js/classes/Autocomplete.js\");\n/* harmony import */ var _History_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./History.js */ \"./src/js/classes/History.js\");\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../helpers.js */ \"./src/js/helpers.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Patients {\r\n    constructor() {\r\n        this.patients = [];\r\n        this.consents = [];\r\n        this.doctors = [];\r\n\r\n        this.patient = null;\r\n\r\n        this.values = {\r\n            name: \"\",\r\n            surname: \"\",\r\n            phone: \"\",\r\n            email: \"\",\r\n            nif: \"\",\r\n            birth_date: \"\",\r\n            gender: \"\",\r\n            meet: \"\",\r\n            insurance: \"\",\r\n            address: \"\",\r\n            postcode: \"\",\r\n            location: \"\",\r\n            province: \"\",\r\n            country: \"\",\r\n            reason: \"\",\r\n            medication: \"\",\r\n            allergies: \"\",\r\n            diseases: \"\",\r\n            smoker: \"\",\r\n            infectious: \"\",\r\n            comment: \"\",\r\n            signature: \"\",\r\n            active: true,\r\n        };\r\n        this.errors = null;\r\n\r\n        this.columns = [\r\n            { field: \"id\", headerName: \"Id\" },\r\n            { field: \"name\", headerName: \"Nombre\" },\r\n            { field: \"surname\", headerName: \"Apellidos\" },\r\n            { field: \"phone\", headerName: \"Telefono\" },\r\n        ];\r\n\r\n        this.consent = {\r\n            patient: null,\r\n            doctor: null,\r\n            representative: false,\r\n            representative_name: \"\",\r\n            representative_nif: \"\",\r\n            consent: null,\r\n            signature: null,\r\n        };\r\n        this.consentErrors = null;\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const patientsTable = document.querySelector(\"#patients-table\");\r\n        const patientsSearch = document.querySelector(\"#patients-search\");\r\n\r\n        if (patientsTable) {\r\n            await Promise.all([\r\n                this.readAllPatients(),\r\n                this.readAllConsents(),\r\n                this.readAllDoctors(),\r\n            ]);\r\n            this.showPatientsTable();\r\n\r\n            const createPatients = document.querySelector(\"#patient-create\");\r\n            createPatients.addEventListener(\"click\", this.handleCreatePatient.bind(this));\r\n        }\r\n\r\n        if (patientsSearch) {\r\n            this.createSearch();\r\n        }\r\n    }\r\n\r\n    async readAllPatients() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/patients\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.patients = response.patients;\r\n    }\r\n\r\n    async readAllConsents() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/consents\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.consents = response.consents;\r\n    }\r\n\r\n    async readAllDoctors() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/doctors\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.doctors = response.doctors;\r\n    }\r\n\r\n    setValues(values) {\r\n        for (const key of Object.keys(values)) {\r\n            if (this.values[key] !== undefined) {\r\n                this.values[key] = values[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    resetValues() {\r\n        for (const key of Object.keys(this.values)) {\r\n            this.values[key] = \"\";\r\n        }\r\n    }\r\n\r\n    handleCreatePatient() {\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"Crear paciente\",\r\n            customTitle: () => {\r\n                const logo = document.createElement(\"img\");\r\n                logo.src = \"/build/img/varios/logo-blue.png\";\r\n                logo.classList.add(\"custom-title\");\r\n                return logo;\r\n            },\r\n            content: this.createPatientForm(),\r\n            action: \"Guardar\",\r\n            maxWidth: \"700px\",\r\n            fullscreenButton: true,\r\n            actionCallback: () => this.createPatient(),\r\n            closeCallback: () => {\r\n                this.resetValues();\r\n                this.errors = null;\r\n                this.patient = null;\r\n            },\r\n            fullscreenCallback: () => {\r\n                this.values.signature = this.signature.getBase64();\r\n                this.signature.resize();\r\n                this.modal.repaint(this.createPatientForm());\r\n            },\r\n        });\r\n    }\r\n\r\n    async createPatient() {\r\n        this.values.signature = this.signature.getBase64();\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/admin/patients\", this.values);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.modal.repaint(this.createPatientForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `Paciente creado!`,\r\n            message: \"El paciente ha sido creado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.addRow(response.patient);\r\n\r\n        this.resetValues();\r\n        this.errors = null;\r\n    }\r\n\r\n    handleUpdatePatient(patient) {\r\n        this.patient = patient;\r\n        this.setValues(patient);\r\n\r\n        patient.consents.forEach((consent) => {\r\n            if (consent.consent_id === 1) {\r\n                this.setValues(consent.signature);\r\n            }\r\n        });\r\n\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"Actualizar paciente\",\r\n            content: this.createPatientForm(),\r\n            action: \"Actualizar\",\r\n            maxWidth: \"700px\",\r\n            fullscreenButton: true,\r\n            actionCallback: () => this.updatePatient(),\r\n            closeCallback: () => {\r\n                this.resetValues();\r\n                this.errors = null;\r\n                this.patient = null;\r\n            },\r\n            fullscreenCallback: () => {\r\n                this.signature.resize();\r\n            },\r\n        });\r\n    }\r\n\r\n    async updatePatient() {\r\n        const { signature, ...values } = this.values;\r\n        this.patient = { ...this.patient, ...values };\r\n\r\n        if (this.patient.consents.length > 0) {\r\n            this.patient.consents.forEach((consent) => {\r\n                if (consent.consent_id === 1) {\r\n                    consent.signature.signature = this.signature.getBase64();\r\n                }\r\n            });\r\n        } else {\r\n            this.patient.signature = this.signature.getBase64();\r\n        }\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.put(\"/api/admin/patients\", this.patient);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.modal.repaint(this.createPatientForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡Paciente actualizado!`,\r\n            message: \"El paciente ha sido actualziado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.updateRow(response.patient);\r\n\r\n        this.patient = null;\r\n        this.resetValues();\r\n        this.errors = null;\r\n    }\r\n\r\n    async updatePatientActive() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.put(\"/api/admin/patients/active\", this.patient);\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.table.updateRow(response.patient);\r\n    }\r\n\r\n    async deletePatient(patient) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            title: \"¿Eliminar paciente?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar esta paciente? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const data = {\r\n            id: patient.id,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/patients\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"Paciente eliminado!\",\r\n            message: \"El paciente ha sido eliminado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRow(patient);\r\n    }\r\n\r\n    async deletePatients(selectedPatients) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            title: `¿Eliminar ${selectedPatients.length > 1 ? \"pacientes\" : \"paciente\"}?`,\r\n            description: `¿Estás seguro de eliminar  ${\r\n                selectedPatients.length > 1 ? \"estos pacientes\" : \"esta paciente\"\r\n            }? Los datos no podrán ser recuperados.`,\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/patients/multiple\", selectedPatients);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡${\r\n                selectedPatients.length > 1 ? \"Pacientes eliminados\" : \"Paciente eliminado\"\r\n            }!`,\r\n            message: `${\r\n                selectedPatients.length > 1\r\n                    ? \"Los pacientes han sido eliminados\"\r\n                    : \"El paciente ha sido eliminado\"\r\n            } correctamente!`,\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRows(selectedPatients);\r\n    }\r\n\r\n    createSearch() {\r\n        const form = document.querySelector(\"#patients-search\");\r\n        form.addEventListener(\"keyup\", this.handleSearch.bind(this));\r\n\r\n        const search = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Buscar paciente\",\r\n                for: \"search\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"search\",\r\n                id: \"search\",\r\n            },\r\n        });\r\n        const searchField = search.getField();\r\n        form.appendChild(searchField);\r\n    }\r\n\r\n    async handleSearch(e) {\r\n        const search = e.target.value;\r\n        this.table.searchRow(search);\r\n    }\r\n\r\n    createPatientForm() {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n\r\n        const double1 = document.createElement(\"div\");\r\n        double1.classList.add(\"mio-double\");\r\n        form.appendChild(double1);\r\n\r\n        const name = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Nombre\",\r\n                for: \"name\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"name\",\r\n                id: \"name\",\r\n                value: this.values.name,\r\n            },\r\n            error: this.errors && this.errors.name,\r\n            message: this.errors && this.errors.name ? this.errors.name : \"\",\r\n            callback: (value) => {\r\n                this.values.name = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        double1.appendChild(name.getField());\r\n\r\n        const surname = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Apellidos\",\r\n                for: \"surname\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"surname\",\r\n                id: \"surname\",\r\n                value: this.values.surname,\r\n            },\r\n            callback: (value) => {\r\n                this.values.surname = value;\r\n            },\r\n        });\r\n        double1.appendChild(surname.getField());\r\n\r\n        const double2 = document.createElement(\"div\");\r\n        double2.classList.add(\"mio-double\");\r\n        form.appendChild(double2);\r\n\r\n        const phone = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Teléfono\",\r\n                for: \"phone\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"phone\",\r\n                id: \"phone\",\r\n                value: this.values.phone,\r\n            },\r\n            callback: (value) => {\r\n                this.values.phone = value;\r\n            },\r\n        });\r\n        double2.appendChild(phone.getField());\r\n\r\n        const nif = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"NIF\",\r\n                for: \"nif\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"nif\",\r\n                id: \"nif\",\r\n                value: this.values.nif,\r\n            },\r\n            callback: (value) => {\r\n                this.values.nif = value;\r\n            },\r\n        });\r\n        double2.appendChild(nif.getField());\r\n\r\n        const email = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Email\",\r\n                for: \"email\",\r\n            },\r\n            input: {\r\n                type: \"email\",\r\n                name: \"email\",\r\n                id: \"email\",\r\n                value: this.values.email,\r\n            },\r\n            error: this.errors && this.errors.email,\r\n            message: this.errors && this.errors.email ? this.errors.email : \"\",\r\n            callback: (value) => {\r\n                this.values.email = value;\r\n            },\r\n        });\r\n        form.appendChild(email.getField());\r\n\r\n        const double3 = document.createElement(\"div\");\r\n        double3.classList.add(\"mio-double\");\r\n        form.appendChild(double3);\r\n\r\n        const birthDate = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Fecha de nacimiento\",\r\n                for: \"birth_date\",\r\n            },\r\n            input: {\r\n                type: \"date\",\r\n                name: \"birth_date\",\r\n                id: \"birth_date\",\r\n                value: this.values.birth_date,\r\n            },\r\n            callback: (value) => {\r\n                this.values.birth_date = value;\r\n            },\r\n        });\r\n        double3.appendChild(birthDate.getField());\r\n\r\n        const gender = new _mio_Select_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            label: {\r\n                text: \"Género\",\r\n                for: \"gender\",\r\n            },\r\n            select: {\r\n                name: \"gender\",\r\n                id: \"gender\",\r\n            },\r\n            option: {\r\n                value: \"value\",\r\n                text: \"text\",\r\n            },\r\n            options: [\r\n                { value: \"male\", text: \"Hombre\" },\r\n                { value: \"female\", text: \"Mujer\" },\r\n            ],\r\n            selected: this.values.gender ? { value: this.values.gender } : null,\r\n            onSelect: (option) => {\r\n                this.values.gender = option.value;\r\n            },\r\n        });\r\n        double3.appendChild(gender.getField());\r\n\r\n        const meet = new _mio_Select_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            label: {\r\n                text: \"¿Cómo nos ha conocido?\",\r\n                for: \"meet\",\r\n            },\r\n            select: {\r\n                name: \"meet\",\r\n                id: \"meet\",\r\n            },\r\n            option: {\r\n                value: \"value\",\r\n                text: \"text\",\r\n            },\r\n            options: [\r\n                { value: \"recommendation\", text: \"Recomendación\" },\r\n                { value: \"social-media\", text: \"Redes sociales\" },\r\n                { value: \"web\", text: \"Web\" },\r\n                { value: \"street\", text: \"Calle\" },\r\n                { value: \"insurance\", text: \"Seguro\" },\r\n                { value: \"other\", text: \"Otro\" },\r\n            ],\r\n            selected: this.values.meet ? { value: this.values.meet } : null,\r\n            onSelect: (option) => {\r\n                this.values.meet = option.value;\r\n                this.modal.repaint(this.createPatientForm());\r\n            },\r\n        });\r\n\r\n        if (this.values.meet === \"insurance\") {\r\n            const double4 = document.createElement(\"div\");\r\n            double4.classList.add(\"mio-double\");\r\n            form.appendChild(double4);\r\n\r\n            double4.appendChild(meet.getField());\r\n\r\n            const insurance = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n                label: {\r\n                    text: \"Seguro\",\r\n                    for: \"insurance\",\r\n                },\r\n                input: {\r\n                    type: \"text\",\r\n                    name: \"insurance\",\r\n                    id: \"insurance\",\r\n                    value: this.values.insurance,\r\n                },\r\n                callback: (value) => {\r\n                    this.values.insurance = value;\r\n                },\r\n            });\r\n            double4.appendChild(insurance.getField());\r\n        } else {\r\n            form.appendChild(meet.getField());\r\n        }\r\n\r\n        const address = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Dirección\",\r\n                for: \"address\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"address\",\r\n                id: \"address\",\r\n                value: this.values.address,\r\n            },\r\n            callback: (value) => {\r\n                this.values.address = value;\r\n            },\r\n        });\r\n        form.appendChild(address.getField());\r\n\r\n        const double5 = document.createElement(\"div\");\r\n        double5.classList.add(\"mio-double\");\r\n        form.appendChild(double5);\r\n\r\n        const postcode = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Código postal\",\r\n                for: \"postcode\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"postcode\",\r\n                id: \"postcode\",\r\n                value: this.values.postcode,\r\n            },\r\n            callback: (value) => {\r\n                this.values.postcode = value;\r\n            },\r\n        });\r\n        double5.appendChild(postcode.getField());\r\n\r\n        const location = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Localidad\",\r\n                for: \"location\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"location\",\r\n                id: \"location\",\r\n                value: this.values.location,\r\n            },\r\n            callback: (value) => {\r\n                this.values.location = value;\r\n            },\r\n        });\r\n        double5.appendChild(location.getField());\r\n\r\n        const double6 = document.createElement(\"div\");\r\n        double6.classList.add(\"mio-double\");\r\n        form.appendChild(double6);\r\n\r\n        const province = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Provincia\",\r\n                for: \"province\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"province\",\r\n                id: \"province\",\r\n                value: this.values.province,\r\n            },\r\n            callback: (value) => {\r\n                this.values.province = value;\r\n            },\r\n        });\r\n        double6.appendChild(province.getField());\r\n\r\n        const country = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"País\",\r\n                for: \"country\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"country\",\r\n                id: \"country\",\r\n                value: this.values.country,\r\n            },\r\n            callback: (value) => {\r\n                this.values.country = value;\r\n            },\r\n        });\r\n        double6.appendChild(country.getField());\r\n\r\n        const reason = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            label: {\r\n                text: \"Motivo de la consulta\",\r\n                for: \"reason\",\r\n            },\r\n            input: {\r\n                name: \"reason\",\r\n                id: \"reason\",\r\n                rows: 2,\r\n                maxlength: 255,\r\n                value: this.values.reason,\r\n            },\r\n            callback: (value) => {\r\n                this.values.reason = value;\r\n            },\r\n        });\r\n        form.appendChild(reason.getField());\r\n\r\n        const medication = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            label: {\r\n                text: \"Medicación\",\r\n                for: \"medication\",\r\n            },\r\n            input: {\r\n                name: \"medication\",\r\n                id: \"medication\",\r\n                rows: 2,\r\n                maxlength: 255,\r\n                value: this.values.medication,\r\n            },\r\n            callback: (value) => {\r\n                this.values.medication = value;\r\n            },\r\n        });\r\n        form.appendChild(medication.getField());\r\n\r\n        const allergies = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            label: {\r\n                text: \"Alergias\",\r\n                for: \"allergies\",\r\n            },\r\n            input: {\r\n                name: \"allergies\",\r\n                id: \"allergies\",\r\n                rows: 2,\r\n                maxlength: 255,\r\n                value: this.values.allergies,\r\n            },\r\n            callback: (value) => {\r\n                this.values.allergies = value;\r\n            },\r\n        });\r\n        form.appendChild(allergies.getField());\r\n\r\n        const diseases = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n            label: {\r\n                text: \"Enfermedades\",\r\n                for: \"diseases\",\r\n            },\r\n            input: {\r\n                name: \"diseases\",\r\n                id: \"diseases\",\r\n                rows: 2,\r\n                maxlength: 255,\r\n                value: this.values.diseases,\r\n            },\r\n            callback: (value) => {\r\n                this.values.diseases = value;\r\n            },\r\n        });\r\n        form.appendChild(diseases.getField());\r\n\r\n        const double7 = document.createElement(\"div\");\r\n        double7.classList.add(\"mio-double\");\r\n        form.appendChild(double7);\r\n\r\n        const smoker = new _mio_Select_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            label: {\r\n                text: \"Fumador\",\r\n                for: \"smoker\",\r\n            },\r\n            select: {\r\n                name: \"smoker\",\r\n                id: \"smoker\",\r\n            },\r\n            option: {\r\n                value: \"value\",\r\n                text: \"text\",\r\n            },\r\n            options: [\r\n                { value: \"1\", text: \"Sí\" },\r\n                { value: \"0\", text: \"No\" },\r\n            ],\r\n            selected: this.values.smoker !== \"\" ? { value: this.values.smoker } : null,\r\n            onSelect: (option) => {\r\n                this.values.smoker = option.value;\r\n            },\r\n        });\r\n        double7.appendChild(smoker.getField());\r\n\r\n        const infectious = new _mio_Select_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            label: {\r\n                text: \"Enfermedades infecciosas\",\r\n                for: \"infectious\",\r\n            },\r\n            select: {\r\n                name: \"infectious\",\r\n                id: \"infectious\",\r\n            },\r\n            option: {\r\n                value: \"value\",\r\n                text: \"text\",\r\n            },\r\n            options: [\r\n                { value: \"none\", text: \"Ninguna\" },\r\n                { value: \"hiv\", text: \"VIH - Sida\" },\r\n                { value: \"tuberculosis\", text: \"Tuberculosis\" },\r\n                { value: \"hepatitis_b\", text: \"Hepatitis B\" },\r\n                { value: \"hepatitis_c\", text: \"Hepatitis C\" },\r\n                { value: \"hepatitis_d\", text: \"Hepatitis D\" },\r\n                { value: \"other\", text: \"Otras\" },\r\n            ],\r\n            selected: this.values.infectious ? { value: this.values.infectious } : null,\r\n            onSelect: (option) => {\r\n                this.values.infectious = option.value;\r\n            },\r\n        });\r\n        double7.appendChild(infectious.getField());\r\n\r\n        if (this.patient) {\r\n            const comment = new _mio_Textarea_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\r\n                label: {\r\n                    text: \"Comentario\",\r\n                    for: \"comment\",\r\n                },\r\n                input: {\r\n                    name: \"comment\",\r\n                    id: \"comment\",\r\n                    rows: 2,\r\n                    maxlength: 255,\r\n                    value: this.values.comment,\r\n                },\r\n                callback: (value) => {\r\n                    this.values.comment = value;\r\n                },\r\n            });\r\n\r\n            const commentField = comment.getField();\r\n            form.appendChild(commentField);\r\n        }\r\n\r\n        const signatureField = document.createElement(\"div\");\r\n        signatureField.classList.add(\"mio-field\");\r\n        form.appendChild(signatureField);\r\n\r\n        this.signature = new _Signature_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            container: signatureField,\r\n            title: \"Firma\",\r\n            clear: true,\r\n            signature: this.values.signature,\r\n        });\r\n\r\n        const consent = document.createElement(\"p\");\r\n        consent.classList.add(\"form-consent\");\r\n        consent.textContent = this.consents.find((consent) => consent.id === 1).description;\r\n        form.appendChild(consent);\r\n\r\n        return form;\r\n    }\r\n\r\n    showPatientsTable() {\r\n        const patientsContainer = document.querySelector(\"#patients-table\");\r\n\r\n        this.table = new _Table_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            columns: this.columns,\r\n            customColumns: [\r\n                {\r\n                    field: \"active\",\r\n                    headerName: \"Activo\",\r\n                    content: this.createSwitchForm.bind(this),\r\n                },\r\n            ],\r\n            rows: this.patients,\r\n            findFields: [\"name\", \"surname\", \"phone\", \"email\"],\r\n            container: patientsContainer,\r\n            visibleRows: 15,\r\n            rowsPerPage: 20,\r\n            update: this.handleUpdatePatient.bind(this),\r\n            delete: this.deletePatient.bind(this),\r\n            deleteSelected: this.deletePatients.bind(this),\r\n            showActionsMenu: true,\r\n            extraActions: [\r\n                {\r\n                    name: \"Consentimientos firmados\",\r\n                    icon: _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__.icon.get(\"fileCheck\"),\r\n                    callback: this.handleConsentsAccepted.bind(this),\r\n                },\r\n                {\r\n                    name: \"Crear consentimiento\",\r\n                    icon: _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__.icon.get(\"filePlus\"),\r\n                    callback: this.handleCreateConsent.bind(this),\r\n                },\r\n                {\r\n                    name: \"Historial médico\",\r\n                    icon: _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__.icon.get(\"clipboard2Pulse\"),\r\n                    callback: this.handleManageHistory.bind(this),\r\n                },\r\n                {\r\n                    name: \"Exportar a PDF\",\r\n                    icon: _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__.icon.get(\"filePDF\"),\r\n                    callback: this.generatePatientPDF.bind(this),\r\n                },\r\n            ],\r\n            extraActionsMultipleSelect: [\r\n                {\r\n                    name: \"Enviar Email\",\r\n                    icon: _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__.icon.get(\"envelope\"),\r\n                    callback: this.handleSendEmail.bind(this),\r\n                },\r\n            ],\r\n        });\r\n    }\r\n\r\n    createSwitchForm(row) {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n\r\n        const active = new _mio_Switch_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n            label: {\r\n                text: \"\",\r\n                for: \"active\",\r\n            },\r\n            input: {\r\n                name: \"active\",\r\n                id: \"active\",\r\n                value: row.active,\r\n            },\r\n            size: \"small\",\r\n            callback: (value) => {\r\n                this.patient = row;\r\n                this.patient.active = value;\r\n\r\n                this.updatePatientActive();\r\n            },\r\n        });\r\n\r\n        form.appendChild(active.getField());\r\n\r\n        return form;\r\n    }\r\n\r\n    handleConsentsAccepted(patient) {\r\n        this.patient = patient;\r\n\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"Consentimientos firmados\",\r\n            content: this.createConsentsAccepted(),\r\n            action: \"Aceptar\",\r\n            maxWidth: \"700px\",\r\n            fullscreenButton: true,\r\n            actionCallback: () => {\r\n                this.modal.close();\r\n            },\r\n            closeCallback: () => {\r\n                this.patient = null;\r\n            },\r\n        });\r\n    }\r\n\r\n    createConsentsAccepted() {\r\n        const consents = document.createElement(\"div\");\r\n        consents.classList.add(\"consents\");\r\n\r\n        this.patient.consents.forEach((patientConsent) => {\r\n            const consent = this.consents.find(\r\n                (consent) => consent.id === patientConsent.consent_id\r\n            );\r\n\r\n            const consentButton = document.createElement(\"button\");\r\n            consentButton.classList.add(\"consent-preview\");\r\n            consentButton.ariaLabel = consent.name;\r\n            consentButton.addEventListener(\"click\", () => {\r\n                const { consents, ...patient } = this.patient;\r\n\r\n                const newConsent = { ...patientConsent };\r\n\r\n                newConsent.consent = consent;\r\n                newConsent.patient = patient;\r\n                newConsent.doctor = this.doctors.find(\r\n                    (doctor) => doctor.id === newConsent.doctor_id\r\n                );\r\n                newConsent.created_at = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_12__.dateFormat)(newConsent.created_at);\r\n\r\n                this.generateConsentPDF(newConsent);\r\n            });\r\n\r\n            consents.appendChild(consentButton);\r\n\r\n            const consentIcon = document.createElement(\"div\");\r\n            consentIcon.classList.add(\"icon\");\r\n            consentButton.appendChild(consentIcon);\r\n\r\n            const iconPDF = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_1__.icon.get(\"filePDF\");\r\n            consentIcon.appendChild(iconPDF);\r\n\r\n            const consentText = document.createElement(\"div\");\r\n            consentText.classList.add(\"text\");\r\n            consentButton.appendChild(consentText);\r\n\r\n            const name = document.createElement(\"span\");\r\n            name.textContent = consent.name;\r\n            consentText.appendChild(name);\r\n\r\n            const date = document.createElement(\"span\");\r\n            date.textContent = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_12__.dateFormat)(patientConsent.created_at);\r\n            consentText.appendChild(date);\r\n        });\r\n\r\n        return consents;\r\n    }\r\n\r\n    async generateConsentPDF(consent) {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/admin/consents/pdf\", consent);\r\n\r\n        const linkSource = `data:application/pdf;base64,${response.base64}`;\r\n        const downloadLink = document.createElement(\"a\");\r\n        const fileName = response.fileName;\r\n\r\n        downloadLink.href = linkSource;\r\n        downloadLink.download = fileName;\r\n        downloadLink.click();\r\n    }\r\n\r\n    handleCreateConsent(patient) {\r\n        this.consent.patient = patient;\r\n\r\n        this.createConsentModal = new _Modal_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"Crear consentimiento\",\r\n            content: this.createConsentForm(),\r\n            action: \"Guardar\",\r\n            maxWidth: \"700px\",\r\n            fullscreenButton: true,\r\n            actionCallback: this.createConsent.bind(this),\r\n            closeCallback: () => {\r\n                this.consent = {\r\n                    patient: null,\r\n                    doctor: null,\r\n                    representative: false,\r\n                    representative_name: null,\r\n                    representative_nif: null,\r\n                };\r\n                this.consentErrors = null;\r\n            },\r\n        });\r\n    }\r\n\r\n    async createConsent() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/admin/consents/accepted\", this.consent);\r\n\r\n        if (response.status === \"error\") {\r\n            this.consentErrors = response.errors;\r\n            this.modal.repaint(this.createPatientForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"¡Consentimiento creado!\",\r\n            message: \"El consentimiento ha sido creado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.createConsentModal.close();\r\n        await this.readAllPatients();\r\n        await this.readAllConsents();\r\n        this.table.repaint(this.patients);\r\n    }\r\n\r\n    createConsentForm() {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n\r\n        const double1 = document.createElement(\"div\");\r\n        double1.classList.add(\"mio-double\");\r\n        form.appendChild(double1);\r\n\r\n        const doctor = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Doctor\",\r\n                for: \"doctor\",\r\n            },\r\n            input: {\r\n                name: \"doctor\",\r\n                id: \"doctor\",\r\n                type: \"text\",\r\n                value: this.consent.doctor\r\n                    ? this.consent.doctor.name + \" \" + this.consent.doctor.surname\r\n                    : \"\",\r\n            },\r\n            error: this.consentErrors && this.consentErrors.doctor,\r\n            message:\r\n                this.consentErrors && this.consentErrors.doctor ? this.consentErrors.doctor : \"\",\r\n            callback: () => {\r\n                this.consentErrors = null;\r\n            },\r\n        });\r\n        const doctorField = doctor.getField();\r\n        double1.appendChild(doctorField);\r\n\r\n        new _Autocomplete_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({\r\n            target: doctorField.querySelector(\"input\"),\r\n            data: this.doctors,\r\n            findFields: [\"name\", \"surname\"],\r\n            showFields: [\"name\", \"surname\"],\r\n            size: 6,\r\n            callback: (doctor) => {\r\n                this.consent.doctor = doctor;\r\n                this.createConsentModal.repaint(this.createConsentForm());\r\n            },\r\n        });\r\n\r\n        const patient = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n            label: {\r\n                text: \"Paciente\",\r\n                for: \"patient\",\r\n            },\r\n            input: {\r\n                name: \"patient\",\r\n                id: \"patient\",\r\n                type: \"text\",\r\n                value: this.consent.patient\r\n                    ? this.consent.patient.name + \" \" + this.consent.patient.surname\r\n                    : \"\",\r\n            },\r\n            error: this.consentErrors && this.consentErrors.patient,\r\n            message:\r\n                this.consentErrors && this.consentErrors.patient ? this.consentErrors.patient : \"\",\r\n            callback: () => {\r\n                this.consentErrors = null;\r\n            },\r\n        });\r\n        const patientField = patient.getField();\r\n        double1.appendChild(patientField);\r\n\r\n        new _Autocomplete_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({\r\n            target: patientField.querySelector(\"input\"),\r\n            data: this.patients,\r\n            findFields: [\"name\", \"surname\"],\r\n            showFields: [\"name\", \"surname\"],\r\n            size: 6,\r\n            callback: (patient) => {\r\n                this.consent.patient = patient;\r\n                this.createConsentModal.repaint(this.createConsentForm());\r\n            },\r\n        });\r\n\r\n        const representativeSwitch = new _mio_Switch_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\r\n            label: {\r\n                text: \"Representante legal\",\r\n                for: \"representative\",\r\n            },\r\n            input: {\r\n                name: \"representative\",\r\n                id: \"representative\",\r\n                value: this.consent.representative,\r\n            },\r\n            size: \"small\",\r\n            callback: (value) => {\r\n                this.consent.representative = value;\r\n                this.createConsentModal.repaint(this.createConsentForm());\r\n            },\r\n        });\r\n        form.appendChild(representativeSwitch.getField());\r\n\r\n        if (this.consent.representative) {\r\n            const representativeName = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n                label: {\r\n                    text: \"Nombre del representante\",\r\n                    for: \"representative_name\",\r\n                },\r\n                input: {\r\n                    name: \"representative_name\",\r\n                    id: \"representative_name\",\r\n                    type: \"text\",\r\n                    value: this.consent.representative_name,\r\n                },\r\n                error: this.consentErrors && this.consentErrors.representative_name,\r\n                message:\r\n                    this.consentErrors && this.consentErrors.representative_name\r\n                        ? this.consentErrors.representative_name\r\n                        : \"\",\r\n                callback: (value) => {\r\n                    this.consent.representative_name = value;\r\n                    this.consentErrors = null;\r\n                },\r\n            });\r\n            form.appendChild(representativeName.getField());\r\n\r\n            const representativeNif = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\r\n                label: {\r\n                    text: \"NIF del representante\",\r\n                    for: \"representative_nif\",\r\n                },\r\n                input: {\r\n                    name: \"representative_nif\",\r\n                    id: \"representative_nif\",\r\n                    type: \"text\",\r\n                    value: this.consent.representative_nif,\r\n                },\r\n                error: this.consentErrors && this.consentErrors.representative_nif,\r\n                message:\r\n                    this.consentErrors && this.consentErrors.representative_nif\r\n                        ? this.consentErrors.representative_nif\r\n                        : \"\",\r\n                callback: (value) => {\r\n                    this.consent.representative_nif = value;\r\n                    this.consentErrors = null;\r\n                },\r\n            });\r\n            form.appendChild(representativeNif.getField());\r\n        }\r\n\r\n        const consents = new _mio_Select_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\r\n            label: {\r\n                text: \"Consentimientos\",\r\n                for: \"consent\",\r\n            },\r\n            select: {\r\n                name: \"consent\",\r\n                id: \"consent\",\r\n            },\r\n            option: {\r\n                value: \"id\",\r\n                text: \"name\",\r\n            },\r\n            options: this.consents.filter((consent) => consent.id !== 1),\r\n            selected: this.consent.consent ? { id: this.consent.consent.id } : null,\r\n            error: this.consentErrors && this.consentErrors.consent,\r\n            message:\r\n                this.consentErrors && this.consentErrors.consent ? this.consentErrors.consent : \"\",\r\n            onSelect: (option) => {\r\n                this.consent.consent = option;\r\n                this.consentErrors = null;\r\n            },\r\n        });\r\n        form.appendChild(consents.getField());\r\n\r\n        const signatureField = document.createElement(\"div\");\r\n        signatureField.classList.add(\"mio-field\");\r\n        form.appendChild(signatureField);\r\n\r\n        const signatureButton = document.createElement(\"button\");\r\n        signatureButton.classList.add(\"btn\", \"tertiary-btn\");\r\n        signatureButton.type = \"button\";\r\n        signatureButton.textContent = \"Firmar consentimiento\";\r\n        signatureButton.ariaLabel = \"Firma consentimiento\";\r\n        signatureButton.addEventListener(\"click\", () => {\r\n            let errors = false;\r\n\r\n            if (!this.consent.patient) {\r\n                errors = true;\r\n                this.consentErrors = {\r\n                    ...this.consentErrors,\r\n                    patient: \"El paciente es obligatorio\",\r\n                };\r\n            }\r\n\r\n            if (!this.consent.doctor) {\r\n                errors = true;\r\n                this.consentErrors = { ...this.consentErrors, doctor: \"El doctor es obligatorio\" };\r\n            }\r\n\r\n            if (!this.consent.consent) {\r\n                errors = true;\r\n                this.consentErrors = {\r\n                    ...this.consentErrors,\r\n                    consent: \"El consentimiento es obligatorio\",\r\n                };\r\n            }\r\n\r\n            if (this.consent.representative && !this.consent.representative_name) {\r\n                errors = true;\r\n                this.consentErrors = {\r\n                    ...this.consentErrors,\r\n                    representative_name: \"El nombre del representante es obligatorio\",\r\n                };\r\n            }\r\n\r\n            if (this.consent.representative && !this.consent.representative_nif) {\r\n                errors = true;\r\n                this.consentErrors = {\r\n                    ...this.consentErrors,\r\n                    representative_nif: \"El NIF del representante es obligatorio\",\r\n                };\r\n            }\r\n\r\n            if (errors) {\r\n                this.createConsentModal.repaint(this.createConsentForm());\r\n                return;\r\n            }\r\n\r\n            this.signConsentModal = new _Modal_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n                title: \"Firmar consentimiento\",\r\n                customTitle: () => {\r\n                    const logo = document.createElement(\"img\");\r\n                    logo.src = \"/build/img/varios/logo-blue.png\";\r\n                    logo.classList.add(\"custom-title\");\r\n                    return logo;\r\n                },\r\n                content: this.createConsentSignForm(),\r\n                action: \"Guardar\",\r\n                maxWidth: \"700px\",\r\n                fullscreenButton: true,\r\n                actionCallback: () => {\r\n                    this.consent.signature = this.signature.getBase64();\r\n                    this.signConsentModal.close();\r\n                },\r\n                closeCallback: () => {},\r\n                fullscreenCallback: () => {\r\n                    this.signature.resize();\r\n                },\r\n            });\r\n        });\r\n        signatureField.appendChild(signatureButton);\r\n\r\n        return form;\r\n    }\r\n\r\n    createConsentSignForm() {\r\n        const {\r\n            patient,\r\n            doctor,\r\n            consent,\r\n            representative,\r\n            representative_name,\r\n            representative_nif,\r\n            signature,\r\n        } = this.consent;\r\n\r\n        const consentEl = document.createElement(\"div\");\r\n        consentEl.classList.add(\"consent\");\r\n\r\n        const name = document.createElement(\"p\");\r\n        name.textContent = consent.name;\r\n        consentEl.appendChild(name);\r\n\r\n        const today = new Date();\r\n\r\n        let text = consent.description;\r\n\r\n        if (representative) {\r\n            text = text.replace(\r\n                \"{intro}\",\r\n                `Yo ${representative_name}, con DNI ${representative_nif} mayor de edad, en calidad de (representante legal) de ${patient.name} ${patient.surname} DECLARO:`\r\n            );\r\n        } else {\r\n            text = text.replace(\r\n                \"{intro}\",\r\n                `Yo, ${patient.name} ${patient.surname} (como paciente), con DNI ${patient.nif}, mayor de edad DECLARO:`\r\n            );\r\n        }\r\n\r\n        text = text.replace(\"{doctor}\", doctor.name + \" \" + doctor.surname);\r\n        text = text.replace(\"{date}\", (0,_helpers_js__WEBPACK_IMPORTED_MODULE_12__.dateFormat)(today));\r\n\r\n        const descriptionEl = document.createElement(\"p\");\r\n        descriptionEl.textContent = text;\r\n        consentEl.appendChild(descriptionEl);\r\n\r\n        const signatureField = document.createElement(\"div\");\r\n        signatureField.classList.add(\"mio-field\");\r\n        consentEl.appendChild(signatureField);\r\n\r\n        this.signature = new _Signature_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\r\n            container: signatureField,\r\n            title: \"Firma\",\r\n            clear: true,\r\n            signature: signature && signature.signature ? signature.signature : signature,\r\n        });\r\n\r\n        return consentEl;\r\n    }\r\n\r\n    handleManageHistory(patient) {\r\n        this.patient = structuredClone(patient);\r\n\r\n        this.history = new _History_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]({\r\n            history: this.patient.history || [],\r\n            callback: () => {\r\n                this.history.repaint();\r\n                this.historyModal.repaint(this.history.getHistoryEl());\r\n            },\r\n        });\r\n\r\n        this.historyModal = new _Modal_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"Historial médico\",\r\n            content: this.history.getHistoryEl(),\r\n            action: \"Guardar cambios\",\r\n            maxWidth: \"800px\",\r\n            fullscreenButton: true,\r\n            actionCallback: this.updateHistory.bind(this),\r\n            closeCallback: () => {},\r\n            fullscreenCallback: () => {},\r\n        });\r\n    }\r\n\r\n    async updateHistory() {\r\n        this.patient.history.reports = this.history.getReports();\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.put(\"/api/admin/patients/history\", this.patient);\r\n\r\n        if (response.status === \"error\") {\r\n            if (response.type === \"history\") {\r\n                this.history.history.errors = response.errors;\r\n            }\r\n\r\n            if (response.type === \"reports\") {\r\n                this.history.history.reports.forEach((report) => {\r\n                    response.errors.forEach((error) => {\r\n                        if (error.id === report.id) {\r\n                            report.errors = error.errors;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n            this.history.repaint();\r\n            this.historyModal.repaint(this.history.getHistoryEl());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"Historial actualizado!\",\r\n            message: \"El historial ha sido actualziado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.historyModal.close();\r\n\r\n        this.table.updateRow(response.patient);\r\n    }\r\n\r\n    async generatePatientPDF(patient) {\r\n        this.patient = structuredClone(patient);\r\n        \r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/admin/patients/pdf\", this.patient);\r\n\r\n        const linkSource = `data:application/pdf;base64,${response.base64}`;\r\n        const downloadLink = document.createElement(\"a\");\r\n        const fileName = response.fileName;\r\n\r\n        downloadLink.href = linkSource;\r\n        downloadLink.download = fileName;\r\n        downloadLink.click();\r\n    }\r\n\r\n    handleSendEmail(selected) {\r\n        console.log(selected);\r\n        const div = document.createElement(\"div\");\r\n        div.textContent = \"Enviar email\";\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"Enviar email\",\r\n            content: div,\r\n            action: \"Enviar\",\r\n            maxWidth: \"700px\",\r\n            actionCallback: () => {},\r\n            closeCallback: () => {},\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Patients);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Patients.js?");

/***/ }),

/***/ "./src/js/classes/Pieces.js":
/*!**********************************!*\
  !*** ./src/js/classes/Pieces.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n\r\n\r\nclass Pieces {\r\n    constructor({ selectedPieces, selectedGroup, callback }) {\r\n        this.selectedPieces = selectedPieces ? selectedPieces : [];\r\n        this.selectedGroup = selectedGroup ? selectedGroup : null;\r\n\r\n        this.callback = callback;\r\n\r\n        this.pieces = [];\r\n        this.groups = [];\r\n\r\n        this.lines = [\r\n            {\r\n                class: \"top\",\r\n            },\r\n            {\r\n                class: \"bottom\",\r\n            },\r\n            {\r\n                class: \"left\",\r\n            },\r\n            {\r\n                class: \"right\",\r\n            },\r\n        ];\r\n    }\r\n\r\n    async init() {\r\n        await Promise.all([this.readAllPieces(), this.readAllGroups()]);\r\n\r\n        this.piecesEl = this.createPieces();\r\n    }\r\n\r\n    repaint() {\r\n        this.piecesEl = this.createPieces();\r\n    }\r\n\r\n    setPieces(pieces) {\r\n        this.pieces = pieces;\r\n    }\r\n\r\n    setGroups(groups) {\r\n        this.groups = groups;\r\n    }\r\n\r\n    getPiecesEl() {\r\n        return this.piecesEl;\r\n    }\r\n\r\n    getSelectedPieces() {\r\n        return this.selectedPieces;\r\n    }\r\n\r\n    getSelectedGroup() {\r\n        return this.selectedGroup;\r\n    }\r\n\r\n    async readAllPieces() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/pieces\");\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.setPieces(response.pieces);\r\n    }\r\n\r\n    async readAllGroups() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/groups\");\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.setGroups(response.groups);\r\n    }\r\n\r\n    createPieces() {\r\n        const pieces = document.createElement(\"div\");\r\n        pieces.classList.add(\"pieces\");\r\n\r\n        this.pieces.forEach((piece) => {\r\n            const pieceButton = document.createElement(\"button\");\r\n            pieceButton.classList.add(\"piece\", piece.class);\r\n\r\n            this.selectedPieces.forEach((selectedPiece) => {\r\n                if (selectedPiece.id === piece.id) {\r\n                    pieceButton.classList.add(\"active\");\r\n                }\r\n            });\r\n\r\n            pieceButton.addEventListener(\"click\", () => {\r\n                if (this.selectedGroup) {\r\n                    this.selectedPieces = [];\r\n                    this.selectedGroup = null;\r\n                }\r\n\r\n                const exists = this.selectedPieces.some((selectedPiece) => {\r\n                    return selectedPiece.id === piece.id;\r\n                });\r\n\r\n                if (exists) {\r\n                    this.selectedPieces = this.selectedPieces\r\n                        .filter((selectedPiece) => {\r\n                            return selectedPiece.id !== piece.id;\r\n                        })\r\n                        .sort();\r\n                } else {\r\n                    this.selectedPieces = [...this.selectedPieces, piece].sort();\r\n                }\r\n\r\n                this.repaint();\r\n                this.callback();\r\n            });\r\n\r\n            pieces.appendChild(pieceButton);\r\n\r\n            const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n            svg.setAttribute(\"viewBox\", `0 0 ${piece.width} ${piece.height}`);\r\n            svg.setAttribute(\"width\", piece.width);\r\n            svg.setAttribute(\"height\", piece.height);\r\n            svg.setAttribute(\"fill\", \"currentColor\");\r\n            pieceButton.appendChild(svg);\r\n\r\n            const g = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\r\n            g.setAttribute(\"transform\", `translate(0, ${piece.height}) scale(0.1, -0.1)`);\r\n            svg.appendChild(g);\r\n\r\n            const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n            path.setAttribute(\"d\", piece.d);\r\n            g.appendChild(path);\r\n\r\n            const span = document.createElement(\"span\");\r\n            span.innerText = piece.number;\r\n            pieceButton.appendChild(span);\r\n        });\r\n\r\n        this.groups.forEach((group) => {\r\n            const buttonEl = document.createElement(\"button\");\r\n            buttonEl.classList.add(\"group\", group.class);\r\n\r\n            if (this.selectedGroup && this.selectedGroup.id === group.id) {\r\n                buttonEl.classList.add(\"active\");\r\n            }\r\n\r\n            buttonEl.textContent = group.name;\r\n\r\n            buttonEl.addEventListener(\"click\", () => {\r\n                this.selectedPieces = [];\r\n\r\n                this.pieces.forEach((piece) => {\r\n                    if (\r\n                        (piece.number >= group.adult.from && piece.number <= group.adult.to) ||\r\n                        (piece.number >= group.child.from && piece.number <= group.child.to)\r\n                    ) {\r\n                        this.selectedPieces = [...this.selectedPieces, piece].sort();\r\n                    }\r\n                });\r\n\r\n                this.selectedGroup = group;\r\n                buttonEl.classList.add(\"active\");\r\n\r\n                this.repaint();\r\n                this.callback();\r\n            });\r\n            pieces.appendChild(buttonEl);\r\n        });\r\n\r\n        this.lines.forEach((line) => {\r\n            const lineEl = document.createElement(\"div\");\r\n            lineEl.classList.add(\"line\", line.class);\r\n            pieces.appendChild(lineEl);\r\n        });\r\n\r\n        return pieces;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Pieces);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Pieces.js?");

/***/ }),

/***/ "./src/js/classes/Popup.js":
/*!*********************************!*\
  !*** ./src/js/classes/Popup.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Popup {\r\n    constructor() {\r\n        this.popup;\r\n\r\n        this.type;\r\n        this.title;\r\n        this.message;\r\n        this.timer;\r\n    }\r\n\r\n    setOptions(options) {\r\n        this.type = options.type;\r\n        this.title = options.title;\r\n        this.message = options.message;\r\n        this.timer = options.timer;\r\n    }\r\n\r\n    async open(options) {\r\n        this.setOptions(options);\r\n\r\n        this.popup = this.createPopup();\r\n        document.body.appendChild(this.popup);\r\n\r\n        const animations = this.popup.getAnimations();\r\n        await Promise.all(animations.map((animation) => animation.finished));\r\n\r\n        if (this.timer) {\r\n            await new Promise((resolve) => setTimeout(resolve, this.timer));\r\n            await this.close(this.popup);\r\n        }\r\n    }\r\n\r\n    async close() {\r\n        this.popup.classList.add(\"fadeOut\");\r\n        this.popup.firstChild.classList.add(\"slideOutTop\");\r\n\r\n        const animations = this.popup.getAnimations();\r\n\r\n        return Promise.all(animations.map((animation) => animation.finished)).then(() =>\r\n            this.popup.remove()\r\n        );\r\n    }\r\n\r\n    createPopup() {\r\n        const popup = document.createElement(\"div\");\r\n        popup.classList.add(\"popup\");\r\n        popup.addEventListener(\"click\", this.close.bind(this));\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"content\");\r\n        content.addEventListener(\"click\", (e) => e.stopPropagation());\r\n        popup.appendChild(content);\r\n\r\n        const header = document.createElement(\"div\");\r\n        header.classList.add(\"header\");\r\n        content.appendChild(header);\r\n\r\n        const icon = this.createIcon(this.type);\r\n        header.appendChild(icon);\r\n\r\n        const main = document.createElement(\"div\");\r\n        main.classList.add(\"main\");\r\n        content.appendChild(main);\r\n\r\n        if (this.title) {\r\n            const text = document.createElement(\"div\");\r\n            text.classList.add(\"title\");\r\n            text.textContent = this.title;\r\n            main.appendChild(text);\r\n        }\r\n\r\n        if (this.message) {\r\n            const text = document.createElement(\"div\");\r\n            text.classList.add(\"message\");\r\n            text.textContent = this.message;\r\n            main.appendChild(text);\r\n        }\r\n\r\n        return popup;\r\n    }\r\n\r\n    createIcon(type) {\r\n        if (type === \"success\") {\r\n            const animatedIcon = document.createElement(\"div\");\r\n            animatedIcon.classList.add(\"animated-icon\");\r\n\r\n            const success = document.createElement(\"div\");\r\n            success.classList.add(\"success\");\r\n            animatedIcon.appendChild(success);\r\n\r\n            const lineTip = document.createElement(\"div\");\r\n            lineTip.classList.add(\"line\", \"tip\");\r\n            success.appendChild(lineTip);\r\n\r\n            const lineLong = document.createElement(\"div\");\r\n            lineLong.classList.add(\"line\", \"long\");\r\n            success.appendChild(lineLong);\r\n\r\n            const circle = document.createElement(\"div\");\r\n            circle.classList.add(\"circle\");\r\n            success.appendChild(circle);\r\n\r\n            const fix = document.createElement(\"div\");\r\n            fix.classList.add(\"fix\");\r\n            success.appendChild(fix);\r\n\r\n            return animatedIcon;\r\n        }\r\n\r\n        if (type === \"error\") {\r\n            const animatedIcon = document.createElement(\"div\");\r\n            animatedIcon.classList.add(\"animated-icon\");\r\n\r\n            const error = document.createElement(\"div\");\r\n            error.classList.add(\"error\");\r\n            animatedIcon.appendChild(error);\r\n\r\n            const x = document.createElement(\"div\");\r\n            x.classList.add(\"x\");\r\n            error.appendChild(x);\r\n\r\n            const left = document.createElement(\"div\");\r\n            left.classList.add(\"left\");\r\n            x.appendChild(left);\r\n\r\n            const right = document.createElement(\"div\");\r\n            right.classList.add(\"right\");\r\n            x.appendChild(right);\r\n\r\n            const placeholder = document.createElement(\"div\");\r\n            placeholder.classList.add(\"placeholder\");\r\n            error.appendChild(placeholder);\r\n\r\n            const fix = document.createElement(\"div\");\r\n            fix.classList.add(\"fix\");\r\n            error.appendChild(fix);\r\n\r\n            return animatedIcon;\r\n        }\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Popup);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Popup.js?");

/***/ }),

/***/ "./src/js/classes/Signature.js":
/*!*************************************!*\
  !*** ./src/js/classes/Signature.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n\r\n\r\nclass Signature {\r\n    constructor(data) {\r\n        Object.assign(this, data);\r\n\r\n        this.drawing = false;\r\n        this.cp = null;\r\n\r\n        this.base64 = \"\";\r\n        this.blob = null;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        window.addEventListener(\"resize\", this.resize.bind(this));\r\n        \r\n        const wrapper = document.createElement(\"div\");\r\n        wrapper.classList.add(\"signature\");\r\n        this.container.appendChild(wrapper);\r\n\r\n        if (this.title) {\r\n            const title = document.createElement(\"p\");\r\n            title.classList.add(\"title\");\r\n            title.textContent = this.title;\r\n            wrapper.appendChild(title);\r\n        }\r\n\r\n        this.canvas = document.createElement(\"canvas\");\r\n        this.canvas.addEventListener(\"mousedown\", this.start.bind(this));\r\n        this.canvas.addEventListener(\"touchstart\", this.start.bind(this), { passive: true });\r\n        this.canvas.addEventListener(\"mousemove\", this.move.bind(this));\r\n        this.canvas.addEventListener(\"touchmove\", this.move.bind(this), { passive: false });\r\n        this.canvas.addEventListener(\"mouseup\", this.end.bind(this));\r\n        this.canvas.addEventListener(\"touchend\", this.end.bind(this));\r\n        document.body.addEventListener(\"mouseup\", this.end.bind(this));\r\n        document.body.addEventListener(\"touchend\", this.end.bind(this));\r\n\r\n        wrapper.appendChild(this.canvas);\r\n\r\n        new MutationObserver(async () => {\r\n            this.canvas.width = this.canvas.offsetWidth;\r\n            this.canvas.height = this.canvas.offsetHeight;\r\n\r\n            if (this.signature) {\r\n                const image = await this.createImage(this.signature);\r\n                this.ctx.drawImage(image, 0, 0, this.canvas.width, this.canvas.height);\r\n            }\r\n        }).observe(wrapper, { childList: true });\r\n\r\n        this.ctx = this.canvas.getContext(\"2d\");\r\n        this.ctx.fillStyle = \"#ffffff\";\r\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n        if (this.clear) {\r\n            const clearButton = document.createElement(\"button\");\r\n            clearButton.classList.add(\"clear\");\r\n            clearButton.type = \"button\";\r\n            clearButton.addEventListener(\"click\", () => {\r\n                this.ctx.fillStyle = \"#ffffff\";\r\n                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n            });\r\n\r\n            wrapper.appendChild(clearButton);\r\n\r\n            const clearIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"eraserFill\");\r\n            clearButton.appendChild(clearIcon);\r\n        }\r\n    }\r\n\r\n    start(e) {\r\n        this.drawing = true;\r\n\r\n        const { x, y } = this.getCursorPosition(e);\r\n\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(x, y);\r\n\r\n        this.ctx.lineWidth = 2;\r\n        this.ctx.strokeStyle = \"#32539a\";\r\n        this.ctx.lineJoin = \"round\";\r\n        this.ctx.lineCap = \"round\";\r\n\r\n        this.cp = { x, y };\r\n\r\n        this.draw(x, y);\r\n    }\r\n\r\n    move(e) {\r\n        e.preventDefault();\r\n        if (!this.drawing) {\r\n            return;\r\n        }\r\n        const { x, y } = this.getCursorPosition(e);\r\n\r\n        this.draw(x, y);\r\n    }\r\n\r\n    end() {\r\n        this.drawing = false;\r\n    }\r\n\r\n    getCursorPosition(e) {\r\n        const rect = this.canvas.getBoundingClientRect();\r\n\r\n        const x = (e.clientX ?? e.touches[0].clientX) - rect.left;\r\n        const y = (e.clientY ?? e.touches[0].clientY) - rect.top;\r\n\r\n        return { x, y };\r\n    }\r\n\r\n    draw(cursorX, cursorY) {\r\n        const cpx = this.cp.x;\r\n        const cpy = this.cp.y;\r\n\r\n        const x = (this.cp.x + cursorX) / 2;\r\n        const y = (this.cp.y + cursorY) / 2;\r\n\r\n        this.ctx.quadraticCurveTo(cpx, cpy, x, y);\r\n        this.ctx.stroke();\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(x, y);\r\n\r\n        this.cp = { x, y };\r\n    }\r\n\r\n    resize() {\r\n        this.canvas.width = this.canvas.offsetWidth;\r\n        this.canvas.height = this.canvas.offsetHeight;\r\n    }\r\n\r\n    base64toBlob(base64, mime = \"\", sliceSize = 512) {\r\n        const byteChars = atob(base64);\r\n        const byteArrays = [];\r\n\r\n        for (let offset = 0, len = byteChars.length; offset < len; offset += sliceSize) {\r\n            const slice = byteChars.slice(offset, offset + sliceSize);\r\n\r\n            const byteNumbers = new Array(slice.length);\r\n            for (let i = 0; i < slice.length; i++) {\r\n                byteNumbers[i] = slice.charCodeAt(i);\r\n            }\r\n\r\n            const byteArray = new Uint8Array(byteNumbers);\r\n            byteArrays.push(byteArray);\r\n        }\r\n\r\n        return new Blob(byteArrays, { type: mime });\r\n    }\r\n\r\n    blobToImage(blob) {\r\n        const url = URL.createObjectURL(blob);\r\n        const img = new Image();\r\n        img.src = url;\r\n        return img;\r\n    }\r\n\r\n    getBase64() {\r\n        return this.canvas.toDataURL(\"image/png\");\r\n    }\r\n\r\n    getBlob() {\r\n        this.canvas.toDataURL(\"image/png\");\r\n        return this.base64toBlob(this.base64.split(\",\")[1], \"image/png\");\r\n    }\r\n\r\n    createImage(src, alt = \"\") {\r\n        return new Promise((resolve, reject) => {\r\n            const image = new Image();\r\n            image.src = src;\r\n            image.alt = alt;\r\n            image.addEventListener(\"load\", () => resolve(image));\r\n            image.addEventListener(\"error\", () => reject(new Error(\"Error loading image\")));\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Signature);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Signature.js?");

/***/ }),

/***/ "./src/js/classes/Table.js":
/*!*********************************!*\
  !*** ./src/js/classes/Table.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/Icon.js */ \"./src/js/modules/Icon.js\");\n/* harmony import */ var _Menu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Menu.js */ \"./src/js/classes/Menu.js\");\n/* harmony import */ var _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mio/IconButton.js */ \"./src/js/classes/mio/IconButton.js\");\n\r\n\r\n\r\n\r\nclass Table {\r\n    constructor(options) {\r\n        this.columns = options.columns;\r\n        this.customColumns = options.customColumns || [];\r\n        this.rows = options.rows;\r\n        this.copyRows = options.rows;\r\n        this.findFields = options.findFields;\r\n\r\n        this.container = options.container;\r\n        this.visibleRows = options.visibleRows;\r\n        this.rowsPerPage = options.rowsPerPage;\r\n\r\n        this.update = options.update;\r\n        this.delete = options.delete;\r\n        this.deleteSelected = options.deleteSelected;\r\n\r\n        this.showActionsMenu = options.showActionsMenu;\r\n        this.extraActions = options.extraActions || [];\r\n        this.extraActionsMultipleSelect = options.extraActionsMultipleSelect || [];\r\n\r\n        this.selectedRows = [];\r\n\r\n        this.sort = false;\r\n        this.sortColumn = null;\r\n\r\n        this.page = 1;\r\n        this.pages = 0;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.setPages(this.calculatePages());\r\n        this.createTable();\r\n    }\r\n\r\n    setRows(rows) {\r\n        this.rows = rows;\r\n        this.destroy();\r\n        this.setPages(this.calculatePages());\r\n        this.createTable();\r\n    }\r\n\r\n    addRow(row) {\r\n        this.rows = [...this.rows, row];\r\n        this.copyRows = [...this.copyRows, row];\r\n        this.destroy();\r\n        this.setPages(this.calculatePages());\r\n        this.createTable();\r\n    }\r\n\r\n    updateRow(updateRow) {\r\n        this.rows = this.rows.map((row) => (row.id === updateRow.id ? updateRow : row));\r\n        this.copyRows = this.copyRows.map((row) => (row.id === updateRow.id ? updateRow : row));\r\n        this.destroy();\r\n        this.setPages(this.calculatePages());\r\n        this.createTable();\r\n    }\r\n\r\n    deleteRow(deleteRow) {\r\n        this.rows = this.rows.filter((row) => row.id !== deleteRow.id);\r\n        this.copyRows = this.copyRows.filter((row) => row.id !== deleteRow.id);\r\n        this.clearSelectedRows();\r\n        this.setPages(this.calculatePages());\r\n        this.checkPage();\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    deleteRows(deleteRows) {\r\n        this.rows = this.rows.filter(\r\n            (row) => !deleteRows.some((deleteRow) => deleteRow.id === row.id)\r\n        );\r\n        this.copyRows = this.copyRows.filter(\r\n            (row) => !deleteRows.some((deleteRow) => deleteRow.id === row.id)\r\n        );\r\n        this.clearSelectedRows();\r\n        this.setPages(this.calculatePages());\r\n        this.checkPage();\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    searchRow(search) {\r\n        if (this.findFields) {\r\n            this.rows = this.copyRows.filter((row) => {\r\n                const value = this.findFields.reduce(\r\n                    (previousValue, currentValue, currentIndex) => {\r\n                        return !currentIndex\r\n                            ? row[currentValue]\r\n                            : previousValue + \" \" + row[currentValue];\r\n                    },\r\n                    \"\"\r\n                );\r\n\r\n                return value.toLowerCase().includes(search.toLowerCase());\r\n            });\r\n        } else {\r\n            this.rows = this.copyRows.filter((row) => {\r\n                return Object.values(row).some((value) => {\r\n                    return value && value.toString().toLowerCase().includes(search.toLowerCase());\r\n                });\r\n            });\r\n        }\r\n\r\n        this.clearSelectedRows();\r\n        this.setPages(this.calculatePages());\r\n        this.checkPage();\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    checkPage() {\r\n        if (this.page > this.pages) {\r\n            this.page = this.pages;\r\n        }\r\n    }\r\n\r\n    setPages(pages) {\r\n        this.pages = pages;\r\n    }\r\n\r\n    calculatePages() {\r\n        return Math.ceil(this.rows.length / this.rowsPerPage) || 1;\r\n    }\r\n\r\n    clearSelectedRows() {\r\n        this.selectedRows = [];\r\n    }\r\n\r\n    createTable() {\r\n        this.table = document.createElement(\"div\");\r\n        this.table.classList.add(\"table\");\r\n        this.table.style.height = this.tableSizing().tableHeight + \"px\";\r\n        this.container.appendChild(this.table);\r\n\r\n        const tableWrapper = document.createElement(\"div\");\r\n        tableWrapper.style.height = this.tableSizing().wrapperHeight + \"px\";\r\n        tableWrapper.classList.add(\"wrapper\");\r\n        this.table.appendChild(tableWrapper);\r\n\r\n        const table = document.createElement(\"table\");\r\n        tableWrapper.appendChild(table);\r\n\r\n        const thead = this.createThead();\r\n        table.appendChild(thead);\r\n\r\n        const tbody = this.createTbody();\r\n        table.appendChild(tbody);\r\n\r\n        const footer = this.createFooter();\r\n        this.table.appendChild(footer);\r\n    }\r\n\r\n    tableSizing() {\r\n        const rowHeight = 52;\r\n        const headerHeight = 56;\r\n        const footerHeight = 56;\r\n\r\n        let tableHeight = 0;\r\n        let wrapperHeight = 0;\r\n\r\n        if (this.visibleRows > this.rowsPerPage) {\r\n            wrapperHeight = rowHeight * this.rowsPerPage + rowHeight / 2 + headerHeight;\r\n            tableHeight = wrapperHeight + footerHeight;\r\n        }\r\n        if (this.visibleRows <= this.rowsPerPage) {\r\n            wrapperHeight = rowHeight * this.visibleRows + rowHeight / 2 + headerHeight;\r\n            tableHeight = wrapperHeight + footerHeight;\r\n        }\r\n\r\n        return {\r\n            wrapperHeight,\r\n            tableHeight,\r\n        };\r\n    }\r\n\r\n    createThead() {\r\n        const thead = document.createElement(\"thead\");\r\n\r\n        const tr = document.createElement(\"tr\");\r\n        thead.appendChild(tr);\r\n\r\n        const thCheckAll = document.createElement(\"th\");\r\n        tr.appendChild(thCheckAll);\r\n\r\n        const label = document.createElement(\"label\");\r\n        thCheckAll.appendChild(label);\r\n\r\n        const input = document.createElement(\"input\");\r\n        input.type = \"checkbox\";\r\n        if (this.selectedRows.length && this.selectedRows.length === this.rows.length) {\r\n            input.checked = true;\r\n        }\r\n        input.addEventListener(\"change\", this.handleCheckAll.bind(this));\r\n        label.appendChild(input);\r\n\r\n        this.columns.forEach((column) => {\r\n            const th = document.createElement(\"th\");\r\n            tr.appendChild(th);\r\n\r\n            const button = document.createElement(\"button\");\r\n            button.type = \"button\";\r\n            button.ariaLabel = \"Ordenar\";\r\n            button.addEventListener(\"click\", this.handleSort.bind(this, column));\r\n            th.appendChild(button);\r\n\r\n            const name = document.createElement(\"div\");\r\n            name.classList.add(\"name\");\r\n            name.textContent = column.headerName;\r\n            button.appendChild(name);\r\n\r\n            const sort = document.createElement(\"div\");\r\n            sort.classList.add(\"sort\", \"asc\");\r\n            if (this.sortColumn === column && this.sort) {\r\n                sort.classList.remove(\"asc\");\r\n                sort.classList.add(\"asc\");\r\n            }\r\n            if (this.sortColumn === column && !this.sort) {\r\n                sort.classList.remove(\"asc\");\r\n                sort.classList.add(\"desc\");\r\n            }\r\n            button.appendChild(sort);\r\n\r\n            const sortIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"arrowUpShort\");\r\n            sort.appendChild(sortIcon);\r\n        });\r\n\r\n        this.customColumns.forEach((column) => {\r\n            const th = document.createElement(\"th\");\r\n            tr.appendChild(th);\r\n\r\n            const button = document.createElement(\"button\");\r\n            button.type = \"button\";\r\n            button.ariaLabel = \"Ordenar\";\r\n            button.addEventListener(\"click\", this.handleSort.bind(this, column));\r\n            th.appendChild(button);\r\n\r\n            const name = document.createElement(\"div\");\r\n            name.classList.add(\"name\");\r\n            name.textContent = column.headerName;\r\n            button.appendChild(name);\r\n\r\n            const sort = document.createElement(\"div\");\r\n            sort.classList.add(\"sort\", \"asc\");\r\n            if (this.sortColumn === column && this.sort) {\r\n                sort.classList.remove(\"asc\");\r\n                sort.classList.add(\"asc\");\r\n            }\r\n            if (this.sortColumn === column && !this.sort) {\r\n                sort.classList.remove(\"asc\");\r\n                sort.classList.add(\"desc\");\r\n            }\r\n            button.appendChild(sort);\r\n\r\n            const sortIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"arrowUpShort\");\r\n            sort.appendChild(sortIcon);\r\n        });\r\n\r\n        const thActions = document.createElement(\"th\");\r\n        thActions.textContent = \"Acciones\";\r\n        tr.appendChild(thActions);\r\n\r\n        return thead;\r\n    }\r\n\r\n    createTbody() {\r\n        const tbody = document.createElement(\"tbody\");\r\n\r\n        this.rows.forEach((row, index) => {\r\n            if (\r\n                index < this.rowsPerPage * (this.page - 1) ||\r\n                index >= this.rowsPerPage * this.page\r\n            ) {\r\n                return;\r\n            }\r\n\r\n            const tr = document.createElement(\"tr\");\r\n            const exists = this.selectedRows.some((selectedRow) => selectedRow === row);\r\n            if (exists) {\r\n                tr.classList.add(\"selected\");\r\n            }\r\n            tr.addEventListener(\"click\", this.handleRowClick.bind(this, row));\r\n            tbody.appendChild(tr);\r\n\r\n            const tdCheck = document.createElement(\"td\");\r\n            tr.appendChild(tdCheck);\r\n\r\n            const label = document.createElement(\"label\");\r\n            tdCheck.appendChild(label);\r\n\r\n            const input = document.createElement(\"input\");\r\n            input.type = \"checkbox\";\r\n            if (exists) {\r\n                input.checked = true;\r\n            }\r\n            input.addEventListener(\"change\", this.handleCheck.bind(this, row));\r\n            input.addEventListener(\"click\", (e) => e.stopPropagation());\r\n            label.appendChild(input);\r\n\r\n            this.columns.forEach((column) => {\r\n                const td = document.createElement(\"td\");\r\n                td.textContent = row[column.field];\r\n                tr.appendChild(td);\r\n            });\r\n\r\n            this.customColumns.forEach((column) => {\r\n                const td = document.createElement(\"td\");\r\n                tr.appendChild(td);\r\n\r\n                const content = column.content(row);\r\n                td.appendChild(content);\r\n            });\r\n\r\n            const tdActions = document.createElement(\"td\");\r\n            tdActions.classList.add(\"actions\");\r\n            tr.appendChild(tdActions);\r\n\r\n            const actionsContainer = document.createElement(\"div\");\r\n            tdActions.appendChild(actionsContainer);\r\n\r\n            if (this.showActionsMenu) {\r\n                const menuButton = new _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n                    ariaLabel: \"Menu Acciones\",\r\n                    buttonSize: \"medium\",\r\n                    svgSize: \"medium\",\r\n                    icon: _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"threeDotsVertical\"),\r\n                    callback: (e) => {\r\n                        e.stopPropagation();\r\n                    },\r\n                });\r\n                actionsContainer.appendChild(menuButton.get());\r\n\r\n                let items = [];\r\n                this.extraActions.forEach((action) => {\r\n                    items.push({\r\n                        type: \"button\",\r\n                        text: action.name,\r\n                        ariaLabel: action.name,\r\n                        icon: action.icon,\r\n                        onClick: () => action.callback(row),\r\n                    });\r\n                });\r\n\r\n                const menu = new _Menu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n                    target: menuButton.get(),\r\n                    items: [\r\n                        {\r\n                            type: \"button\",\r\n                            text: \"Editar\",\r\n                            ariaLabel: \"Editar\",\r\n                            icon: _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"pencilSquare\"),\r\n                            onClick: this.handleUpdate.bind(this, row),\r\n                        },\r\n                        {\r\n                            type: \"button\",\r\n                            text: \"Eliminar\",\r\n                            ariaLabel: \"Editar\",\r\n                            icon: _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"trash\"),\r\n                            onClick: this.handleDelete.bind(this, row),\r\n                        },\r\n                        ...items,\r\n                    ],\r\n                });\r\n            } else {\r\n                const editButton = new _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n                    ariaLabel: \"Editar\",\r\n                    buttonSize: \"medium\",\r\n                    svgSize: \"medium\",\r\n                    icon: _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"pencilSquare\"),\r\n                    callback: this.handleUpdate.bind(this, row),\r\n                });\r\n                actionsContainer.appendChild(editButton.get());\r\n\r\n                const deleteButton = new _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n                    ariaLabel: \"Eliminar\",\r\n                    buttonSize: \"medium\",\r\n                    svgSize: \"medium\",\r\n                    icon: _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"trash\"),\r\n                    callback: this.handleDelete.bind(this, row),\r\n                });\r\n                actionsContainer.appendChild(deleteButton.get());\r\n\r\n                this.extraActions.forEach((action) => {\r\n                    const button = new _mio_IconButton_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n                        ariaLabel: action.ariaLabel,\r\n                        buttonSize: \"medium\",\r\n                        svgSize: \"medium\",\r\n                        icon: action.icon.cloneNode(true),\r\n                        callback: (e) => {\r\n                            e.stopPropagation();\r\n                            action.callback(row);\r\n                        },\r\n                    });\r\n                    actionsContainer.appendChild(button.get());\r\n                });\r\n            }\r\n        });\r\n\r\n        return tbody;\r\n    }\r\n\r\n    createFooter() {\r\n        const footer = document.createElement(\"div\");\r\n        footer.classList.add(\"footer\");\r\n\r\n        const colLeft = document.createElement(\"div\");\r\n        colLeft.classList.add(\"col-left\");\r\n        footer.appendChild(colLeft);\r\n\r\n        const selectedRows = document.createElement(\"div\");\r\n        selectedRows.classList.add(\"selected-rows\");\r\n        if (this.selectedRows.length && this.selectedRows.length === 1) {\r\n            selectedRows.textContent = \"1 fila seleccionada\";\r\n        }\r\n        if (this.selectedRows.length && this.selectedRows.length > 1) {\r\n            selectedRows.textContent = this.selectedRows.length + \" filas seleccionadas\";\r\n        }\r\n        colLeft.appendChild(selectedRows);\r\n\r\n        if (this.selectedRows.length) {\r\n            const deleteSelectedButton = document.createElement(\"button\");\r\n            deleteSelectedButton.type = \"button\";\r\n            deleteSelectedButton.ariaLabel = \"Eliminar seleccionadas\";\r\n            deleteSelectedButton.addEventListener(\"click\", this.handleDeleteSelected.bind(this));\r\n            colLeft.appendChild(deleteSelectedButton);\r\n\r\n            const deleteSelectedIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"trash\");\r\n            deleteSelectedButton.appendChild(deleteSelectedIcon);\r\n\r\n            this.extraActionsMultipleSelect.forEach((action) => {\r\n                const button = document.createElement(\"button\");\r\n                button.type = \"button\";\r\n                button.ariaLabel = action.name;\r\n                button.addEventListener(\"click\", action.callback.bind(this, this.selectedRows));\r\n                colLeft.appendChild(button);\r\n\r\n                button.appendChild(action.icon);\r\n            });\r\n        }\r\n\r\n        const colRight = document.createElement(\"div\");\r\n        colRight.classList.add(\"col-right\");\r\n        footer.appendChild(colRight);\r\n\r\n        const rows = document.createElement(\"div\");\r\n        rows.classList.add(\"rows\");\r\n        let text = \"\";\r\n        if (this.rows.length) {\r\n            text += (this.page - 1) * this.rowsPerPage + 1 + \"-\";\r\n        } else {\r\n            text += \"0-\";\r\n        }\r\n        if (this.page * this.rowsPerPage > this.rows.length) {\r\n            text += this.rows.length + \" de \" + this.rows.length;\r\n        } else {\r\n            text += this.page * this.rowsPerPage + \" de \" + this.rows.length;\r\n        }\r\n        rows.textContent = text;\r\n        colRight.appendChild(rows);\r\n\r\n        const pagination = document.createElement(\"div\");\r\n        pagination.classList.add(\"pagination\");\r\n        colRight.appendChild(pagination);\r\n\r\n        const prev = document.createElement(\"button\");\r\n        prev.type = \"button\";\r\n        prev.ariaLabel = \"Anterior\";\r\n        if (this.page <= 1) {\r\n            prev.disabled = true;\r\n        }\r\n        prev.addEventListener(\"click\", this.handlePrev.bind(this));\r\n        pagination.appendChild(prev);\r\n\r\n        const prevIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"chevronLeft\");\r\n        prev.appendChild(prevIcon);\r\n\r\n        const next = document.createElement(\"button\");\r\n        next.type = \"button\";\r\n        next.ariaLabel = \"Siguiente\";\r\n        if (this.page >= this.pages) {\r\n            next.disabled = true;\r\n        }\r\n        next.addEventListener(\"click\", this.handleNext.bind(this));\r\n        pagination.appendChild(next);\r\n\r\n        const nextIcon = _modules_Icon_js__WEBPACK_IMPORTED_MODULE_0__.icon.get(\"chevronRight\");\r\n        next.appendChild(nextIcon);\r\n\r\n        return footer;\r\n    }\r\n\r\n    handleCheckAll(e) {\r\n        const checkbox = e.currentTarget;\r\n        const checked = checkbox.checked;\r\n\r\n        const tableRows = this.table.querySelectorAll(\"tbody tr\");\r\n        tableRows.forEach((tableRow) => {\r\n            const checkbox = tableRow.querySelector(\"input[type=checkbox]\");\r\n            checkbox.checked = checked;\r\n\r\n            if (checked) {\r\n                tableRow.classList.add(\"selected\");\r\n            } else {\r\n                tableRow.classList.remove(\"selected\");\r\n            }\r\n        });\r\n\r\n        this.selectedRows = checked ? this.rows : [];\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    handleSort(column, e) {\r\n        const target = e.currentTarget;\r\n\r\n        if (this.sortColumn === column) {\r\n            this.sort = !this.sort;\r\n        } else {\r\n            this.sort = true;\r\n            this.sortColumn = column;\r\n        }\r\n\r\n        this.rows.sort((a, b) => {\r\n            const aValue = a[column.field];\r\n            const bValue = b[column.field];\r\n\r\n            if (this.sort) {\r\n                return aValue > bValue ? 1 : -1;\r\n            } else {\r\n                return aValue < bValue ? 1 : -1;\r\n            }\r\n        });\r\n\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    handleCheck(row, e) {\r\n        const checkbox = e.currentTarget;\r\n        const checked = checkbox.checked;\r\n\r\n        const tableRow = checkbox.parentNode.parentNode.parentNode;\r\n        tableRow.classList.toggle(\"selected\");\r\n\r\n        if (checked) {\r\n            this.selectedRows = [...this.selectedRows, row];\r\n        } else {\r\n            this.selectedRows = this.selectedRows.filter((selectedRow) => selectedRow !== row);\r\n        }\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    handleRowClick(row, e) {\r\n        const tableRow = e.currentTarget;\r\n        tableRow.classList.toggle(\"selected\");\r\n\r\n        const checkbox = tableRow.querySelector(\"input[type=checkbox]\");\r\n        checkbox.checked = !checkbox.checked;\r\n\r\n        if (checkbox.checked) {\r\n            this.selectedRows = [...this.selectedRows, row];\r\n        } else {\r\n            this.selectedRows = this.selectedRows.filter((selectedRow) => selectedRow !== row);\r\n        }\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    handleUpdate(row, e) {\r\n        e.stopPropagation();\r\n        this.update(row);\r\n    }\r\n\r\n    handleDelete(row, e) {\r\n        e.stopPropagation();\r\n        this.delete(row);\r\n    }\r\n\r\n    handleDeleteSelected(e) {\r\n        e.stopPropagation();\r\n        this.deleteSelected(this.selectedRows);\r\n    }\r\n\r\n    handlePrev() {\r\n        this.page--;\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    handleNext() {\r\n        this.page++;\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    repaint(patients) {\r\n        this.rows = patients;\r\n        this.destroy();\r\n        this.createTable();\r\n    }\r\n\r\n    destroy() {\r\n        this.table.remove();\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Table);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Table.js?");

/***/ }),

/***/ "./src/js/classes/Treatments.js":
/*!**************************************!*\
  !*** ./src/js/classes/Treatments.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _Table_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Table.js */ \"./src/js/classes/Table.js\");\n/* harmony import */ var _Modal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Modal.js */ \"./src/js/classes/Modal.js\");\n/* harmony import */ var _Confirm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Confirm.js */ \"./src/js/classes/Confirm.js\");\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Treatments {\r\n    constructor() {\r\n        this.treatments = [];\r\n        this.treatment = null;\r\n\r\n        this.values = {\r\n            name: \"\",\r\n            description: \"\",\r\n            price: \"\",\r\n        };\r\n\r\n        this.columns = [\r\n            { field: \"id\", headerName: \"Id\" },\r\n            { field: \"name\", headerName: \"Nombre\" },\r\n            { field: \"description\", headerName: \"Descripción\" },\r\n            { field: \"price\", headerName: \"Precio\" },\r\n        ];\r\n\r\n        this.init();\r\n    }\r\n\r\n    async init() {\r\n        const treatmentsTable = document.querySelector(\"#treatments-table\");\r\n        const treatmentsSearch = document.querySelector(\"#treatments-search\");\r\n\r\n        if (treatmentsTable) {\r\n            await this.readAllTreatments();\r\n            this.showTreatmentsTable();\r\n\r\n            const createTreatments = document.querySelector(\"#treatment-create\");\r\n            createTreatments.addEventListener(\"click\", this.handleCreateTreatment.bind(this));\r\n        }\r\n\r\n        if (treatmentsSearch) {\r\n            this.createSearch();\r\n        }\r\n    }\r\n\r\n    async readAllTreatments() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/api/admin/treatments\");\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n        this.treatments = response.treatments;\r\n    }\r\n\r\n    setValues(values) {\r\n        for (const key of Object.keys(values)) {\r\n            if (this.values[key] !== undefined) {\r\n                this.values[key] = values[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    resetValues() {\r\n        for (const key of Object.keys(this.values)) {\r\n            this.values[key] = \"\";\r\n        }\r\n    }\r\n\r\n    handleCreateTreatment() {\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"Crear tratamiento\",\r\n            content: this.createTreatmentForm(),\r\n            action: \"Crear\",\r\n            actionCallback: () => this.createTreatment(),\r\n            closeCallback: () => {\r\n                this.resetValues();\r\n                this.errors = null;\r\n            },\r\n        });\r\n    }\r\n\r\n    async createTreatment() {\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/admin/treatments\", this.values);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.modal.repaint(this.createTreatmentForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `Tratamiento creado!`,\r\n            message: \"El tratamiento ha sido creado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.addRow(response.treatment);\r\n    }\r\n\r\n    handleUpdateTreatment(treatment) {\r\n        this.treatment = treatment;\r\n        this.setValues(treatment);\r\n\r\n        this.modal = new _Modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\r\n            title: \"Actualizar tratamiento\",\r\n            content: this.createTreatmentForm(),\r\n            action: \"Actualizar\",\r\n            actionCallback: () => this.updateTreatment(),\r\n            closeCallback: () => {\r\n                this.resetValues();\r\n                this.errors = null;\r\n            },\r\n        });\r\n    }\r\n\r\n    async updateTreatment() {\r\n        this.patient = { id: this.treatment.id, ...this.values };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.put(\"/api/admin/treatments\", this.patient);\r\n        console.log(response);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.modal.repaint(this.createTreatmentForm());\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡Tratamiento actualizado!`,\r\n            message: \"El tratamiento ha sido actualziado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        await this.modal.close();\r\n\r\n        this.table.updateRow(response.treatment);\r\n    }\r\n\r\n    async deleteTreatment(treatment) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: \"¿Eliminar tratamiento?\",\r\n            description:\r\n                \"¿Estás seguro de eliminar esta tratamiento? Los datos no podrán ser recuperados.\",\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const data = {\r\n            id: treatment.id,\r\n        };\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/treatments\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"Tratamiento eliminado!\",\r\n            message: \"El tratamiento ha sido eliminado correctamente.\",\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRow(treatment);\r\n    }\r\n\r\n    async deleteTreatments(selectedTreatments) {\r\n        const confirm = new _Confirm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n            title: `¿Eliminar ${selectedTreatments.length > 1 ? \"tratamientos\" : \"tratamiento\"}?`,\r\n            description: `¿Estás seguro de eliminar  ${\r\n                selectedTreatments.length > 1 ? \"estos tratamientos\" : \"esta tratamiento\"\r\n            }? Los datos no podrán ser recuperados.`,\r\n            accept: \"Eliminar\",\r\n            cancel: \"Cancelar\",\r\n        });\r\n        const confirmResponse = await confirm.question();\r\n\r\n        if (!confirmResponse) {\r\n            return;\r\n        }\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api[\"delete\"](\"/api/admin/treatments/multiple\", selectedTreatments);\r\n\r\n        if (response.status === \"error\") {\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: `¡${\r\n                selectedTreatments.length > 1 ? \"Tratamientos eliminados\" : \"Tratamiento eliminado\"\r\n            }!`,\r\n            message: `${\r\n                selectedTreatments.length > 1\r\n                    ? \"Los tratamientos han sido eliminados\"\r\n                    : \"El tratamiento ha sido eliminado\"\r\n            } correctamente!`,\r\n            timer: 3000,\r\n        });\r\n\r\n        this.table.deleteRows(selectedTreatments);\r\n    }\r\n\r\n    createSearch() {\r\n        const form = document.querySelector(\"#treatments-search\");\r\n        form.addEventListener(\"keyup\", this.handleSearch.bind(this));\r\n\r\n        const search = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Buscar tratamiento\",\r\n                for: \"search\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"search\",\r\n                id: \"search\",\r\n            },\r\n        });\r\n        const searchField = search.getField();\r\n        form.appendChild(searchField);\r\n    }\r\n\r\n    async handleSearch(e) {\r\n        const search = e.target.value;\r\n        this.table.searchRow(search);\r\n    }\r\n\r\n    createTreatmentForm() {\r\n        const form = document.createElement(\"form\");\r\n        form.classList.add(\"mio-form\");\r\n        form.noValidate = true;\r\n\r\n        const name = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Nombre\",\r\n                for: \"name\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"name\",\r\n                id: \"name\",\r\n                value: this.values ? this.values.name : \"\",\r\n            },\r\n            error: this.errors && this.errors.name,\r\n            message: this.errors && this.errors.name ? this.errors.name : \"\",\r\n            callback: (value) => {\r\n                this.values.name = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n\r\n        const nameField = name.getField();\r\n        form.appendChild(nameField);\r\n\r\n        const description = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Descripción\",\r\n                for: \"description\",\r\n            },\r\n            input: {\r\n                type: \"text\",\r\n                name: \"description\",\r\n                id: \"description\",\r\n                value: this.values ? this.values.description : \"\",\r\n            },\r\n            callback: (value) => {\r\n                this.values.description = value;\r\n            },\r\n        });\r\n\r\n        const descriptionField = description.getField();\r\n        form.appendChild(descriptionField);\r\n\r\n        const price = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\r\n            label: {\r\n                text: \"Precio\",\r\n                for: \"price\",\r\n            },\r\n            input: {\r\n                type: \"number\",\r\n                name: \"price\",\r\n                id: \"price\",\r\n                step: \"0.01\",\r\n                value: this.values ? this.values.price : \"\",\r\n            },\r\n            error: this.errors && this.errors.price,\r\n            message: this.errors && this.errors.price ? this.errors.price : \"\",\r\n            callback: (value) => {\r\n                this.values.price = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n\r\n        const priceField = price.getField();\r\n        form.appendChild(priceField);\r\n\r\n        return form;\r\n    }\r\n\r\n    showTreatmentsTable() {\r\n        const treatmentsContainer = document.querySelector(\"#treatments-table\");\r\n\r\n        this.table = new _Table_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            columns: this.columns,\r\n            rows: this.treatments,\r\n            container: treatmentsContainer,\r\n            visibleRows: 10,\r\n            rowsPerPage: 15,\r\n            update: this.handleUpdateTreatment.bind(this),\r\n            delete: this.deleteTreatment.bind(this),\r\n            deleteSelected: this.deleteTreatments.bind(this),\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Treatments);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/Treatments.js?");

/***/ }),

/***/ "./src/js/classes/UploadAdapter.js":
/*!*****************************************!*\
  !*** ./src/js/classes/UploadAdapter.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BlogUploadAdapter\": () => (/* binding */ BlogUploadAdapter),\n/* harmony export */   \"CasesUploadAdapter\": () => (/* binding */ CasesUploadAdapter)\n/* harmony export */ });\nclass UploadAdapter {\r\n    constructor(loader, src) {\r\n        this.loader = loader;\r\n        this.url = `/api/editor/${src}/upload/image`;\r\n    }\r\n\r\n    upload() {\r\n        return this.loader.file.then(\r\n            (file) =>\r\n                new Promise((resolve, reject) => {\r\n                    this._initRequest();\r\n                    this._initListeners(resolve, reject, file);\r\n                    this._sendRequest(file);\r\n                })\r\n        );\r\n    }\r\n\r\n    abort() {\r\n        if (this.xhr) {\r\n            this.xhr.abort();\r\n        }\r\n    }\r\n\r\n    _initRequest() {\r\n        const xhr = (this.xhr = new XMLHttpRequest());\r\n        xhr.open(\"POST\", this.url, true);\r\n        xhr.responseType = \"json\";\r\n    }\r\n\r\n    _initListeners(resolve, reject, file) {\r\n        const xhr = this.xhr;\r\n        const loader = this.loader;\r\n        const genericErrorText = `No se ha podido subir la imagen: ${file.name}.`;\r\n\r\n        xhr.addEventListener(\"error\", () => reject(genericErrorText));\r\n        xhr.addEventListener(\"abort\", () => reject());\r\n        xhr.addEventListener(\"load\", () => {\r\n            const response = xhr.response;\r\n\r\n            if (!response || response.response === \"error\") {\r\n                return reject(\r\n                    response && response.response === \"error\"\r\n                        ? response.response.msg\r\n                        : genericErrorText\r\n                );\r\n            }\r\n\r\n            resolve({\r\n                default: response.url,\r\n            });\r\n        });\r\n\r\n        if (xhr.upload) {\r\n            xhr.upload.addEventListener(\"progress\", (e) => {\r\n                if (e.lengthComputable) {\r\n                    loader.uploadTotal = e.total;\r\n                    loader.uploaded = e.loaded;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    _sendRequest(file) {\r\n        const data = new FormData();\r\n        data.append(\"image\", file);\r\n        data.append(\"action\", \"uploadImage\");\r\n        this.xhr.send(data);\r\n    }\r\n}\r\n\r\nfunction BlogUploadAdapter(editor) {\r\n    editor.plugins.get(\"FileRepository\").createUploadAdapter = (loader) => {\r\n        return new UploadAdapter(loader, 'blog');\r\n    };\r\n}\r\n\r\nfunction CasesUploadAdapter(editor) {\r\n    editor.plugins.get(\"FileRepository\").createUploadAdapter = (loader) => {\r\n        return new UploadAdapter(loader, 'cases');\r\n    };\r\n}\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/UploadAdapter.js?");

/***/ }),

/***/ "./src/js/classes/User.js":
/*!********************************!*\
  !*** ./src/js/classes/User.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ \"./src/js/app.js\");\n/* harmony import */ var _mio_Input_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mio/Input.js */ \"./src/js/classes/mio/Input.js\");\n\r\n\r\n\r\nclass User {\r\n    constructor() {\r\n        this.values = {\r\n            email: \"\",\r\n            password: \"\",\r\n        };\r\n        this.errors = null;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        const login = document.querySelector(\"#login\");\r\n\r\n        if (login) {\r\n            this.createLoginForm();\r\n        }\r\n\r\n        const registerForm = document.querySelector(\"#register-form\");\r\n\r\n        if (registerForm) {\r\n            registerForm.addEventListener(\"submit\", this.register.bind(this));\r\n        }\r\n\r\n        const confirm = document.querySelector(\"#confirm\");\r\n\r\n        if (confirm) {\r\n            confirm.addEventListener(\"click\", this.confirm.bind(this));\r\n        }\r\n\r\n        const recoverForm = document.querySelector(\"#recover-form\");\r\n\r\n        if (recoverForm) {\r\n            recoverForm.addEventListener(\"submit\", this.recover.bind(this));\r\n        }\r\n\r\n        const restoreForm = document.querySelector(\"#restore-form\");\r\n\r\n        if (restoreForm) {\r\n            restoreForm.addEventListener(\"submit\", this.restore.bind(this));\r\n        }\r\n    }\r\n\r\n    createLoginForm() {\r\n        const login = document.querySelector(\"#login\");\r\n\r\n        this.loginForm = document.createElement(\"form\");\r\n        this.loginForm.classList.add(\"mio-form\");\r\n        this.loginForm.noValidate = true;\r\n        this.loginForm.addEventListener(\"submit\", this.login.bind(this));\r\n        login.appendChild(this.loginForm);\r\n\r\n        const email = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            label: {\r\n                text: \"Email\",\r\n                for: \"email\",\r\n            },\r\n            input: {\r\n                type: \"email\",\r\n                name: \"email\",\r\n                id: \"email\",\r\n                autocomplete: \"username\",\r\n                value: this.values ? this.values.email : \"\",\r\n            },\r\n            error: this.errors && this.errors.email,\r\n            message: this.errors && this.errors.email ? this.errors.email : \"\",\r\n            callback: (value) => {\r\n                this.values.email = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        const emailField = email.getField();\r\n        this.loginForm.appendChild(emailField);\r\n\r\n        const password = new _mio_Input_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            label: {\r\n                text: \"Contraseña\",\r\n                for: \"password\",\r\n            },\r\n            input: {\r\n                type: \"password\",\r\n                name: \"password\",\r\n                id: \"password\",\r\n                autocomplete: \"current-password\",\r\n                value: this.values ? this.values.password : \"\",\r\n            },\r\n            error: this.errors && this.errors.password,\r\n            message: this.errors && this.errors.password ? this.errors.password : \"\",\r\n            callback: (value) => {\r\n                this.values.password = value;\r\n                this.errors = null;\r\n            },\r\n        });\r\n        const passwordField = password.getField();\r\n        this.loginForm.appendChild(passwordField);\r\n\r\n        const submit = document.createElement(\"input\");\r\n        submit.type = \"submit\";\r\n        submit.value = \"Iniciar sesión\";\r\n        submit.classList.add(\"btn\", \"primary-btn\");\r\n        this.loginForm.appendChild(submit);\r\n    }\r\n\r\n    repaintLoginForm() {\r\n        this.loginForm.remove();\r\n        this.createLoginForm();\r\n    }\r\n\r\n    async login(e) {\r\n        e.preventDefault();\r\n        const data = new FormData(e.currentTarget);\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/user/login\", data);\r\n\r\n        if (response.status === \"error\") {\r\n            this.errors = response.errors;\r\n            this.repaintLoginForm();\r\n            return;\r\n        }\r\n\r\n        await _app_js__WEBPACK_IMPORTED_MODULE_0__.popup.open({\r\n            type: \"success\",\r\n            title: \"¡Login correcto!\",\r\n            message: \"Serás redirigido al panel principal\",\r\n            timer: 3000,\r\n        });\r\n\r\n        window.location.href = \"/admin\";\r\n    }\r\n\r\n    async register() {\r\n        e.preventDefault();\r\n        const data = new FormData(e.currentTarget);\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/user/register\");\r\n    }\r\n\r\n    async confirm() {\r\n        const token = window.location.pathname.split(\"/\").pop();\r\n\r\n        const data = new FormData();\r\n        data.append(\"token\", token);\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/user/confirm\");\r\n    }\r\n\r\n    async recover() {\r\n        const data = new FormData();\r\n        data.append(\"token\", token);\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/user/recover\");\r\n    }\r\n\r\n    async restore() {\r\n        const data = new FormData();\r\n        data.append(\"token\", token);\r\n\r\n        const response = await _app_js__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/api/user/restore\");\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/User.js?");

/***/ }),

/***/ "./src/js/classes/mio/Checkbox.js":
/*!****************************************!*\
  !*** ./src/js/classes/mio/Checkbox.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Form_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Form.js */ \"./src/js/classes/mio/Form.js\");\n\r\n\r\nclass Checkbox extends _Form_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(data) {\r\n        super(data);\r\n\r\n        Object.assign(this, data);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.field = this.create();\r\n    }\r\n\r\n    create() {\r\n        const field = this.createField();\r\n\r\n        const wrapper = this.createWrapper();\r\n        field.appendChild(wrapper);\r\n\r\n        this.checkbox = this.createCheckbox();\r\n        wrapper.appendChild(this.checkbox);\r\n\r\n        const label = this.createLabel();\r\n        wrapper.appendChild(label);\r\n\r\n        if (this.message) {\r\n            const message = this.createMessage();\r\n            field.appendChild(message);\r\n        }\r\n\r\n        return field;\r\n    }\r\n\r\n    createCheckbox() {\r\n        const input = document.createElement(\"input\");\r\n        input.classList.add(\"mio-checkbox-input\");\r\n\r\n        input.type = \"checkbox\";\r\n        input.name = this.input.name;\r\n        input.id = this.input.id;\r\n\r\n        if (this.input.value) {\r\n            input.checked = true;\r\n        }\r\n\r\n        input.addEventListener(\"change\", () => {\r\n            this.removeMessage();\r\n            this.callback(input.checked);\r\n        });\r\n\r\n        return input;\r\n    }\r\n\r\n    createLabel() {\r\n        const label = document.createElement(\"label\");\r\n        label.classList.add(\"mio-checkbox-label\");\r\n        label.textContent = this.label.text;\r\n        label.htmlFor = this.label.for;\r\n\r\n        return label;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Checkbox);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/mio/Checkbox.js?");

/***/ }),

/***/ "./src/js/classes/mio/Form.js":
/*!************************************!*\
  !*** ./src/js/classes/mio/Form.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Form {\r\n    constructor() {\r\n        if (this.constructor === Form) {\r\n            throw new TypeError(\"Abstract class 'Form' cannot be instantiated directly.\");\r\n        }\r\n\r\n        window.addEventListener(\"load\", () => {\r\n            const autofilledInput = this.field.querySelector(\"input:-webkit-autofill\");\r\n\r\n            if (autofilledInput) {\r\n                this.field.classList.add(\"active\");\r\n            }\r\n        });\r\n    }\r\n\r\n    getField() {\r\n        return this.field;\r\n    }\r\n\r\n    createField() {\r\n        const field = document.createElement(\"div\");\r\n        field.classList.add(\"mio-field\");\r\n        if (this.input.value) {\r\n            field.classList.add(\"active\");\r\n        }\r\n        if (this.error) {\r\n            field.classList.add(\"error\");\r\n        }\r\n\r\n        return field;\r\n    }\r\n\r\n    createWrapper() {\r\n        const wrapper = document.createElement(\"div\");\r\n        wrapper.classList.add(\"mio-wrapper\");\r\n\r\n        return wrapper;\r\n    }\r\n\r\n    createLabel() {\r\n        const label = document.createElement(\"label\");\r\n        label.classList.add(\"mio-label\");\r\n        label.textContent = this.label.text;\r\n        label.htmlFor = this.label.for;\r\n\r\n        return label;\r\n    }\r\n\r\n    createAdornment() {\r\n        const adornment = document.createElement(\"div\");\r\n        adornment.classList.add(\"mio-adornment\");\r\n\r\n        adornment.appendChild(this.adornment);\r\n\r\n        return adornment;\r\n    }\r\n\r\n    createMessage() {\r\n        if (!this.message) {\r\n            return;\r\n        }\r\n\r\n        this.messageEl = document.createElement(\"div\");\r\n        this.messageEl.classList.add(\"mio-message\");\r\n        if (this.error) {\r\n            this.messageEl.classList.add(\"mio-error\");\r\n        }\r\n        this.messageEl.textContent = this.message;\r\n\r\n        return this.messageEl;\r\n    }\r\n\r\n    removeMessage() {\r\n        if (!this.messageEl) {\r\n            return;\r\n        }\r\n        this.messageEl.remove();\r\n        if (this.error) {\r\n            this.field.classList.remove(\"error\");\r\n            this.messageEl.classList.remove(\"mio-error\");\r\n        }\r\n    }\r\n\r\n    setValue(value) {\r\n        this.input.value = value;\r\n        this.field.classList.add(\"active\");\r\n        this.removeMessage();\r\n    }\r\n\r\n    handleBlur(e) {\r\n        if (!e.target.value) {\r\n            this.field.classList.remove(\"active\");\r\n        }\r\n        this.field.classList.remove(\"focus\");\r\n    }\r\n\r\n    handleFocus() {\r\n        this.field.classList.add(\"active\");\r\n        this.field.classList.add(\"focus\");\r\n    }\r\n\r\n    handleInput(e) {\r\n        this.removeMessage();\r\n\r\n        if (this.callback) {\r\n            this.callback(e.target.value);\r\n        }\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Form);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/mio/Form.js?");

/***/ }),

/***/ "./src/js/classes/mio/IconButton.js":
/*!******************************************!*\
  !*** ./src/js/classes/mio/IconButton.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass IconButton {\r\n    constructor({ type, ariaLabel, buttonSize, svgSize, icon, callback }) {\r\n        this.type = type;\r\n        this.ariaLabel = ariaLabel;\r\n        this.buttonSize = buttonSize;\r\n        this.svgSize = svgSize;\r\n        this.icon = icon;\r\n        this.callback = callback;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.iconButton = this.create();\r\n    }\r\n\r\n    get() {\r\n        return this.iconButton;\r\n    }\r\n\r\n    create() {\r\n        const iconButton = document.createElement(\"button\");\r\n\r\n        iconButton.type = this.type ?? \"button\";\r\n        iconButton.ariaLabel = this.ariaLabel ?? \"\";\r\n\r\n        iconButton.classList.add(\"mio-icon-btn\");\r\n\r\n        switch (this.buttonSize) {\r\n            case \"small\":\r\n                iconButton.classList.add(\"btn-size-small\");\r\n                break;\r\n            case \"medium\":\r\n                iconButton.classList.add(\"btn-size-medium\");\r\n                break;\r\n            case \"large\":\r\n                iconButton.classList.add(\"btn-size-large\");\r\n                break;\r\n            case \"xl\":\r\n                iconButton.classList.add(\"btn-size-xl\");\r\n                break;\r\n            default:\r\n                iconButton.classList.add(\"btn-medium-small\");\r\n                break;\r\n        }\r\n\r\n        switch (this.svgSize) {\r\n            case \"xs\":\r\n                iconButton.classList.add(\"svg-size-xs\");\r\n                break;\r\n            case \"small\":\r\n                iconButton.classList.add(\"svg-size-small\");\r\n                break;\r\n            case \"medium\":\r\n                iconButton.classList.add(\"svg-size-medium\");\r\n                break;\r\n            case \"large\":\r\n                iconButton.classList.add(\"svg-size-large\");\r\n                break;\r\n            case \"xl\":\r\n                iconButton.classList.add(\"svg-size-xl\");\r\n                break;\r\n            default:\r\n                iconButton.classList.add(\"svg-size-medium\");\r\n                break;\r\n        }\r\n\r\n        iconButton.addEventListener(\"click\", this.callback);\r\n\r\n        iconButton.appendChild(this.icon);\r\n\r\n        return iconButton;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (IconButton);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/mio/IconButton.js?");

/***/ }),

/***/ "./src/js/classes/mio/Input.js":
/*!*************************************!*\
  !*** ./src/js/classes/mio/Input.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Form_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Form.js */ \"./src/js/classes/mio/Form.js\");\n\r\n\r\nclass Input extends _Form_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(data) {\r\n        super(data);\r\n\r\n        Object.assign(this, data);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.field = this.create();\r\n    }\r\n\r\n    create() {\r\n        const field = this.createField();\r\n\r\n        const wrapper = this.createWrapper();\r\n        field.appendChild(wrapper);\r\n\r\n        const label = this.createLabel();\r\n        wrapper.appendChild(label);\r\n\r\n        this.input = this.createInput();\r\n        wrapper.appendChild(this.input);\r\n\r\n        if (this.message) {\r\n            const message = this.createMessage();\r\n            field.appendChild(message);\r\n        }\r\n\r\n        if (this.adornment) {\r\n            const adornment = this.createAdornment();\r\n            wrapper.appendChild(adornment);\r\n        }\r\n\r\n        return field;\r\n    }\r\n\r\n    createInput() {\r\n        const input = document.createElement(\"input\");\r\n        input.classList.add(\"mio-input\");\r\n\r\n        input.type = this.input.type;\r\n        input.name = this.input.name;\r\n        input.id = this.input.id;\r\n        input.value = this.input.value ?? \"\";\r\n        if (this.input.step) {\r\n            input.step = this.step;\r\n        }\r\n        if (this.input.autocomplete) {\r\n            input.autocomplete = this.input.autocomplete;\r\n        }\r\n\r\n        input.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n        input.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n        input.addEventListener(\"input\", this.handleInput.bind(this));\r\n\r\n        return input;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Input);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/mio/Input.js?");

/***/ }),

/***/ "./src/js/classes/mio/Select.js":
/*!**************************************!*\
  !*** ./src/js/classes/mio/Select.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Form_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Form.js */ \"./src/js/classes/mio/Form.js\");\n/* harmony import */ var _IconButton_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./IconButton.js */ \"./src/js/classes/mio/IconButton.js\");\n\r\n\r\n\r\nclass Select extends _Form_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(data) {\r\n        super(data);\r\n\r\n        Object.assign(this, data);\r\n\r\n        this.activeOptions = false;\r\n\r\n        this.findText = \"\";\r\n        this.timeout = null;\r\n\r\n        this.activeIndex = 0;\r\n        this.selectedIndex = 0;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        window.addEventListener(\"resize\", this.handleResize.bind(this));\r\n        window.addEventListener(\"scroll\", this.handleResize.bind(this));\r\n\r\n        this.create();\r\n    }\r\n\r\n    handleResize() {\r\n        if (this.customOptions) {\r\n            this.position();\r\n        }\r\n    }\r\n\r\n    create() {\r\n        this.field = this.createField();\r\n\r\n        const wrapper = this.createWrapper();\r\n        this.field.appendChild(wrapper);\r\n\r\n        this.customSelect = this.createCustomSelect();\r\n        wrapper.appendChild(this.customSelect);\r\n\r\n        this.labelEl = this.createLabel();\r\n        wrapper.appendChild(this.labelEl);\r\n\r\n        this.selectEl = this.createSelect();\r\n        wrapper.appendChild(this.selectEl);\r\n\r\n        this.optionsEl = this.createOptions();\r\n        this.selectEl.appendChild(this.optionsEl);\r\n\r\n        if (this.message) {\r\n            const message = this.createMessage();\r\n            this.field.appendChild(message);\r\n        }\r\n    }\r\n\r\n    createField() {\r\n        const field = document.createElement(\"div\");\r\n        field.classList.add(\"mio-field\");\r\n        if (this.selected) {\r\n            field.classList.add(\"active\");\r\n        }\r\n        if (this.error) {\r\n            field.classList.add(\"error\");\r\n        }\r\n\r\n        return field;\r\n    }\r\n\r\n    createCustomSelect() {\r\n        const select = document.createElement(\"div\");\r\n        select.classList.add(\"mio-input\");\r\n        select.addEventListener(\"click\", this.open.bind(this));\r\n\r\n        const span = document.createElement(\"span\");\r\n        span.textContent = \"\\u200b\";\r\n        select.appendChild(span);\r\n\r\n        const adornment = this.createAdornment();\r\n        select.appendChild(adornment);\r\n\r\n        return select;\r\n    }\r\n\r\n    createAdornment() {\r\n        const icon = document.createElement(\"div\");\r\n        icon.classList.add(\"mio-adornment\");\r\n\r\n        const iconButton = new _IconButton_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n            type: \"button\",\r\n            ariaLabel: \"Button icon\",\r\n            buttonSize: \"medium\",\r\n            svgSize: \"xs\",\r\n            icon: this.createCaretDownFillIcon(),\r\n            callback: (e) => {\r\n                e.stopPropagation();\r\n                this.open();\r\n            },\r\n        });\r\n\r\n        icon.appendChild(iconButton.get());\r\n\r\n        return icon;\r\n    }\r\n\r\n    createLabel() {\r\n        const label = document.createElement(\"label\");\r\n        label.classList.add(\"mio-label\");\r\n        label.textContent = this.label.text;\r\n        label.htmlFor = this.label.for;\r\n        label.addEventListener(\"click\", this.open.bind(this));\r\n        return label;\r\n    }\r\n\r\n    createSelect() {\r\n        const select = document.createElement(\"select\");\r\n        select.name = this.select.name;\r\n        select.id = this.select.id;\r\n        select.addEventListener(\"focus\", this.focusSelect.bind(this));\r\n        select.addEventListener(\"keydown\", this.handleKeydown.bind(this));\r\n        select.addEventListener(\"change\", this.handleInput.bind(this));\r\n        return select;\r\n    }\r\n\r\n    createOptions() {\r\n        const fragment = document.createDocumentFragment();\r\n\r\n        const optionEl = new Option();\r\n        fragment.appendChild(optionEl);\r\n\r\n        this.options.forEach((option, index) => {\r\n            const optionEl = new Option(option[this.option.text], option[this.option.value]);\r\n\r\n            if (\r\n                this.selected &&\r\n                this.selected[this.option.value].toString() === option[this.option.value].toString()\r\n            ) {\r\n                optionEl.selected = true;\r\n                this.field.classList.add(\"active\");\r\n                this.selectOption(option, index);\r\n                this.selectEl.dispatchEvent(new Event(\"change\"));\r\n            }\r\n\r\n            fragment.appendChild(optionEl);\r\n        });\r\n\r\n        return fragment;\r\n    }\r\n\r\n    focusSelect() {\r\n        this.selectEl.focus();\r\n        this.field.classList.add(\"active\");\r\n        this.field.classList.add(\"focus\");\r\n    }\r\n\r\n    blurSelect() {\r\n        this.selectEl.blur();\r\n        if (!this.selectedOption) {\r\n            this.field.classList.remove(\"active\");\r\n        }\r\n        this.field.classList.remove(\"focus\");\r\n    }\r\n\r\n    handleKeydown(e) {\r\n        switch (e.key) {\r\n            case \"Tab\":\r\n                this.blurSelect();\r\n                this.closeCustomOptions();\r\n                break;\r\n            case \"ArrowDown\":\r\n                if (this.activeOptions) {\r\n                    this.blurOption();\r\n                    this.activeIndex = (this.activeIndex + 1) % this.optionsNodes.childNodes.length;\r\n                    this.focusOption();\r\n                } else {\r\n                    this.open();\r\n                }\r\n                break;\r\n            case \"ArrowUp\":\r\n                if (this.activeOptions) {\r\n                    this.blurOption();\r\n                    this.activeIndex =\r\n                        (this.optionsNodes.childNodes.length + (this.activeIndex - 1)) %\r\n                        this.optionsNodes.childNodes.length;\r\n                    this.focusOption();\r\n                }\r\n                break;\r\n            case \"Enter\":\r\n                if (this.activeOptions) {\r\n                    this.selectOption(this.options[this.activeIndex], this.activeIndex);\r\n                    this.selectEl.dispatchEvent(new Event(\"change\"));\r\n                    this.onSelect(this.options[this.activeIndex]);\r\n                    this.closeCustomOptions();\r\n                } else {\r\n                    this.open();\r\n                }\r\n                break;\r\n            default:\r\n                this.findOption(e.key);\r\n                break;\r\n        }\r\n    }\r\n\r\n    async open() {\r\n        this.activeOptions = true;\r\n        this.focusSelect();\r\n        this.customOptions = this.createCustomOptions();\r\n        document.body.appendChild(this.customOptions);\r\n        this.position();\r\n        this.focusOption();\r\n        this.customOptions.classList.add(\"in\");\r\n    }\r\n\r\n    async closeCustomOptions() {\r\n        this.activeOptions = false;\r\n        this.activeIndex = this.selectedIndex;\r\n\r\n        this.blurSelect();\r\n\r\n        this.customOptions.classList.add(\"out\");\r\n        this.customOptions.remove();\r\n    }\r\n\r\n    createCustomOptions() {\r\n        const options = document.createElement(\"div\");\r\n        options.classList.add(\"mio-options\");\r\n        options.addEventListener(\"click\", this.closeCustomOptions.bind(this));\r\n\r\n        const content = document.createElement(\"div\");\r\n        content.classList.add(\"content\");\r\n        content.addEventListener(\"click\", (e) => e.stopPropagation());\r\n        options.appendChild(content);\r\n\r\n        this.optionsNodes = content;\r\n\r\n        this.options.forEach((option, index) => {\r\n            const optionEl = document.createElement(\"div\");\r\n            optionEl.classList.add(\"option\");\r\n\r\n            if (option === this.selectedOption) optionEl.classList.add(\"selected\");\r\n            if (index === this.activeIndex) optionEl.classList.add(\"focus\");\r\n\r\n            optionEl.addEventListener(\"click\", () => {\r\n                this.selectOption(option, index);\r\n                this.selectEl.dispatchEvent(new Event(\"change\"));\r\n                this.onSelect(option);\r\n                this.closeCustomOptions();\r\n            });\r\n\r\n            content.appendChild(optionEl);\r\n\r\n            const span = document.createElement(\"span\");\r\n            span.textContent = option[this.option.text];\r\n            optionEl.appendChild(span);\r\n        });\r\n\r\n        return options;\r\n    }\r\n\r\n    position() {\r\n        const rect = this.field.getBoundingClientRect();\r\n\r\n        this.customOptions.firstChild.style.maxHeight = `${210}px`;\r\n\r\n        if (\r\n            rect.top + this.customOptions.firstChild.offsetHeight + this.field.offsetHeight + 2 >\r\n            window.innerHeight\r\n        ) {\r\n            this.customOptions.firstChild.style.top = `${rect.top - this.customOptions.firstChild.offsetHeight - 2}px`;\r\n        } else {\r\n            this.customOptions.firstChild.style.top = `${rect.top + this.field.offsetHeight + 2}px`;\r\n        }\r\n\r\n        this.customOptions.firstChild.style.left = `${rect.left}px`;\r\n        this.customOptions.firstChild.style.width = `${this.field.offsetWidth}px`;\r\n        \r\n    }\r\n\r\n    focusOption() {\r\n        this.optionsNodes.childNodes[this.activeIndex].scrollIntoView(false);\r\n        this.optionsNodes.childNodes[this.activeIndex].classList.add(\"focus\");\r\n    }\r\n\r\n    blurOption() {\r\n        this.optionsNodes.childNodes[this.activeIndex].classList.remove(\"focus\");\r\n    }\r\n\r\n    selectOption(option, index) {\r\n        this.selectedOption = option;\r\n\r\n        this.activeIndex = index;\r\n        this.selectedIndex = index;\r\n\r\n        this.selectEl.value = option[this.option.value];\r\n        this.customSelect.firstElementChild.textContent = option[this.option.text];\r\n    }\r\n\r\n    findOption(key) {\r\n        this.findText += key;\r\n\r\n        clearTimeout(this.timeout);\r\n        this.timeout = setTimeout(() => (this.findText = \"\"), 500);\r\n\r\n        this.options.forEach((option, index) => {\r\n            const text = option[this.option.text].toLowerCase();\r\n            const find = this.findText.toLowerCase();\r\n\r\n            if (text.includes(find)) {\r\n                this.selectEl.options[index].selected = true;\r\n\r\n                this.blurOption();\r\n                this.selectOption(option, index);\r\n                this.selectEl.dispatchEvent(new Event(\"change\"));\r\n                this.onSelect(option);\r\n                this.focusOption();\r\n\r\n                return;\r\n            }\r\n        });\r\n    }\r\n\r\n    async animationend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"animationend\", resolve, { once: true });\r\n        });\r\n    }\r\n\r\n    createCaretDownFillIcon() {\r\n        const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n        svg.setAttribute(\"width\", \"16\");\r\n        svg.setAttribute(\"height\", \"16\");\r\n        svg.setAttribute(\"fill\", \"currentColor\");\r\n        svg.setAttribute(\"viewBox\", \"0 0 16 16\");\r\n\r\n        const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n        path.setAttribute(\r\n            \"d\",\r\n            \"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\"\r\n        );\r\n        svg.appendChild(path);\r\n\r\n        return svg;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Select);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/mio/Select.js?");

/***/ }),

/***/ "./src/js/classes/mio/Switch.js":
/*!**************************************!*\
  !*** ./src/js/classes/mio/Switch.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Form_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Form.js */ \"./src/js/classes/mio/Form.js\");\n\r\n\r\nclass Switch extends _Form_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(data) {\r\n        super(data);\r\n\r\n        Object.assign(this, data);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.field = this.create();\r\n    }\r\n\r\n    create() {\r\n        const field = this.createField();\r\n\r\n        const wrapper = this.createWrapper();\r\n        field.appendChild(wrapper);\r\n\r\n        this.switch = this.createSwitch();\r\n        wrapper.appendChild(this.switch);\r\n\r\n        const label = this.createLabel();\r\n        wrapper.appendChild(label);\r\n\r\n        if (this.message) {\r\n            const message = this.createMessage();\r\n            field.appendChild(message);\r\n        }\r\n\r\n        return field;\r\n    }\r\n\r\n    createSwitch() {\r\n        const input = document.createElement(\"input\");\r\n        input.classList.add(\"mio-switch-input\");\r\n\r\n        input.type = \"checkbox\";\r\n        input.name = this.input.name;\r\n        input.id = this.input.id;\r\n\r\n        if (this.input.value) {\r\n            input.checked = true;\r\n        }\r\n\r\n        input.addEventListener(\"change\", () => {\r\n            this.removeMessage();\r\n\r\n            this.callback(input.checked);\r\n        });\r\n\r\n        return input;\r\n    }\r\n\r\n    createLabel() {\r\n        const label = document.createElement(\"label\");\r\n        label.classList.add(\"mio-switch-label\", this.size);\r\n        label.textContent = this.label.text;\r\n        label.htmlFor = this.label.for;\r\n\r\n        label.addEventListener(\"click\", async (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            this.switch.checked = !this.switch.checked;\r\n            await this.transitionend(label);\r\n            this.switch.dispatchEvent(new Event(\"change\"));\r\n        });\r\n\r\n        return label;\r\n    }\r\n\r\n    async transitionend(target) {\r\n        return new Promise((resolve) => {\r\n            target.addEventListener(\"transitionend\", resolve, { once: true });\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Switch);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/mio/Switch.js?");

/***/ }),

/***/ "./src/js/classes/mio/Textarea.js":
/*!****************************************!*\
  !*** ./src/js/classes/mio/Textarea.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Form_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Form.js */ \"./src/js/classes/mio/Form.js\");\n\r\n\r\nclass Input extends _Form_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(data) {\r\n        super(data);\r\n\r\n        Object.assign(this, data);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.field = this.create();\r\n    }\r\n\r\n    create() {\r\n        const field = this.createField();\r\n\r\n        const wrapper = this.createWrapper();\r\n        field.appendChild(wrapper);\r\n\r\n        const label = this.createLabel();\r\n        wrapper.appendChild(label);\r\n\r\n        const input = this.createTextarea();\r\n        wrapper.appendChild(input);\r\n\r\n        if (this.message) {\r\n            const message = this.createMessage();\r\n            field.appendChild(message);\r\n        }\r\n\r\n        return field;\r\n    }\r\n\r\n    createTextarea() {\r\n        const textarea = document.createElement(\"textarea\");\r\n        textarea.classList.add(\"mio-input\");\r\n        textarea.name = this.input.name;\r\n        textarea.id = this.input.id;\r\n        textarea.rows = this.input.rows ?? \"\";\r\n        textarea.value = this.input.value ?? \"\";\r\n        if (this.input.maxlength) {\r\n            textarea.maxLength = this.input.maxlength;\r\n        }\r\n\r\n        textarea.addEventListener(\"focus\", this.handleFocus.bind(this));\r\n        textarea.addEventListener(\"blur\", this.handleBlur.bind(this));\r\n        textarea.addEventListener(\"input\", this.handleInput.bind(this));\r\n\r\n        return textarea;\r\n    }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Input);\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/classes/mio/Textarea.js?");

/***/ }),

/***/ "./src/js/helpers.js":
/*!***************************!*\
  !*** ./src/js/helpers.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"cleanHTML\": () => (/* binding */ cleanHTML),\n/* harmony export */   \"dateFormat\": () => (/* binding */ dateFormat),\n/* harmony export */   \"formatCurrency\": () => (/* binding */ formatCurrency),\n/* harmony export */   \"getCurrentPage\": () => (/* binding */ getCurrentPage),\n/* harmony export */   \"isEmpty\": () => (/* binding */ isEmpty),\n/* harmony export */   \"isNumeric\": () => (/* binding */ isNumeric),\n/* harmony export */   \"isObject\": () => (/* binding */ isObject),\n/* harmony export */   \"toSeoUrl\": () => (/* binding */ toSeoUrl)\n/* harmony export */ });\nconst formatCurrency = (amount) => {\r\n    const options = {\r\n        style: \"currency\",\r\n        currency: \"EUR\",\r\n    };\r\n\r\n    return new Intl.NumberFormat(\"es-ES\", options).format(amount);\r\n};\r\n\r\nconst dateFormat = (date) => {\r\n    const newDate = new Date(date);\r\n    const options = {\r\n        dateStyle: \"long\",\r\n    };\r\n    return new Intl.DateTimeFormat(\"es-ES\", options).format(newDate);\r\n};\r\n\r\nconst toSeoUrl = (str) => {\r\n    const a = \"àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìıİłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;\";\r\n    const b = \"aaaaaaaaaacccddeeeeeeeegghiiiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------\";\r\n    const p = new RegExp(a.split(\"\").join(\"|\"), \"g\");\r\n\r\n    return str\r\n        .toString()\r\n        .toLowerCase()\r\n        .replace(/\\s+/g, \"-\")\r\n        .replace(p, (c) => b.charAt(a.indexOf(c)))\r\n        .replace(/&/g, \"-and-\")\r\n        .replace(/[^\\w\\-]+/g, \"\")\r\n        .replace(/\\-\\-+/g, \"-\")\r\n        .replace(/^-+/, \"\")\r\n        .replace(/-+$/, \"\");\r\n};\r\n\r\nconst cleanHTML = (el) => {\r\n    while (el.firstChild) {\r\n        el.removeChild(el.firstChild);\r\n    }\r\n};\r\n\r\nconst getCurrentPage = () => {\r\n    return window.location.pathname.slice(1) || \"index\";\r\n};\r\n\r\nconst isEmpty = (obj) => {\r\n    for (const i in obj) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nconst isObject = (obj) => {\r\n    return typeof obj === \"object\" && !Array.isArray(obj) && obj !== null;\r\n};\r\n\r\nconst isNumeric = (n) => {\r\n    if (typeof str != \"string\") return false;\r\n    return !isNaN(str) && !isNaN(parseFloat(str));\r\n};\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/helpers.js?");

/***/ }),

/***/ "./src/js/modules/Icon.js":
/*!********************************!*\
  !*** ./src/js/modules/Icon.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"icon\": () => (/* binding */ icon)\n/* harmony export */ });\nconst Icon = () => {\r\n    const icons = [\r\n        {\r\n            name: \"pencilSquare\",\r\n            paths: [\r\n                {\r\n                    d: \"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\",\r\n                },\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"search\",\r\n            paths: [\r\n                {\r\n                    d: \"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"trash\",\r\n            paths: [\r\n                {\r\n                    d: \"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\",\r\n                },\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"chevronRight\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"chevronDown\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"chevronLeft\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"chevronDoubleRight\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z\",\r\n                },\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"chevronDoubleLeft\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z\",\r\n                },\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"caretDownFill\",\r\n            paths: [\r\n                {\r\n                    d: \"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"xLg\",\r\n            paths: [\r\n                {\r\n                    d: \"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"arrowRight\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"arrowUpShort\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"threeDots\",\r\n            paths: [\r\n                {\r\n                    d: \"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"threeDotsVertical\",\r\n            paths: [\r\n                {\r\n                    d: \"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"filePDF\",\r\n            paths: [\r\n                {\r\n                    d: \"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z\",\r\n                },\r\n                {\r\n                    d: \"M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"fileText\",\r\n            paths: [\r\n                {\r\n                    d: \"M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z\",\r\n                },\r\n                {\r\n                    d: \"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"eraserFill\",\r\n            paths: [\r\n                {\r\n                    d: \"M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"arrowsFullscreen\",\r\n            paths: [\r\n                {\r\n                    fillRule: \"evenodd\",\r\n                    d: \"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"fileCheck\",\r\n            paths: [\r\n                {\r\n                    d: \"M10.854 6.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 8.793l2.646-2.647a.5.5 0 0 1 .708 0z\",\r\n                },\r\n                {\r\n                    d: \"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"filePlus\",\r\n            paths: [\r\n                {\r\n                    d: \"M8.5 6a.5.5 0 0 0-1 0v1.5H6a.5.5 0 0 0 0 1h1.5V10a.5.5 0 0 0 1 0V8.5H10a.5.5 0 0 0 0-1H8.5V6z\",\r\n                },\r\n                {\r\n                    d: \"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"envelope\",\r\n            paths: [\r\n                {\r\n                    d: \"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"clipboard2Pulse\",\r\n            paths: [\r\n                {\r\n                    d: \"M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h3Z\",\r\n                },\r\n                {\r\n                    d: \"M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-12Z\",\r\n                },\r\n                {\r\n                    d: \"M9.979 5.356a.5.5 0 0 0-.968.04L7.92 10.49l-.94-3.135a.5.5 0 0 0-.926-.08L4.69 10H4.5a.5.5 0 0 0 0 1H5a.5.5 0 0 0 .447-.276l.936-1.873 1.138 3.793a.5.5 0 0 0 .968-.04L9.58 7.51l.94 3.135A.5.5 0 0 0 11 11h.5a.5.5 0 0 0 0-1h-.128L9.979 5.356Z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"plus\",\r\n            paths: [\r\n                {\r\n                    d: \"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\",\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            name: \"whatsapp\",\r\n            paths: [\r\n                {\r\n                    d: \"M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z\",\r\n                },\r\n            ],\r\n        },\r\n    ];\r\n\r\n    const createIcon = (icon) => {\r\n        const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n        svg.setAttribute(\"width\", \"16px\");\r\n        svg.setAttribute(\"height\", \"16px\");\r\n        svg.setAttribute(\"fill\", \"currentColor\");\r\n        svg.setAttribute(\"viewBox\", \"0 0 16 16\");\r\n        svg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\r\n\r\n        icon.paths.forEach((path) => {\r\n            const pathElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\r\n            if (path.fillRule) {\r\n                pathElement.setAttribute(\"fill-rule\", path.fillRule);\r\n            }\r\n            pathElement.setAttribute(\"d\", path.d);\r\n            svg.appendChild(pathElement);\r\n        });\r\n\r\n        return svg;\r\n    };\r\n\r\n    const get = (name) => {\r\n        const icon = icons.find((icon) => icon.name === name);\r\n        if (!icon) {\r\n            return null;\r\n        }\r\n        return createIcon(icon);\r\n    };\r\n\r\n    return {\r\n        get,\r\n    };\r\n};\r\n\r\nconst icon = Icon();\r\n\n\n//# sourceURL=webpack://dentiny/./src/js/modules/Icon.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/app.js");
/******/ 	
/******/ })()
;